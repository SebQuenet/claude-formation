<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Claude Code</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/reveal.js@5/dist/reset.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/reveal.js@5/dist/reveal.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/reveal.js@5/dist/theme/black.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/reveal.js@5/plugin/highlight/monokai.css">
    <style>
      .reveal pre code {
        max-height: 500px;
        font-size: 0.55em;
        line-height: 1.3;
      }
      .reveal h1 { font-size: 2.2em; }
      .reveal h2 { font-size: 1.6em; }
      .reveal h3 { font-size: 1.2em; }
      .reveal li { font-size: 0.85em; margin-bottom: 0.3em; }
      .reveal p { font-size: 0.9em; }
      .keyword { color: #f92672; }
      .tip { color: #a6e22e; font-style: italic; }
      .warning { color: #fd971f; }
      .part-header {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        padding: 40px;
        border-radius: 10px;
      }
      .reveal .slides section .fragment.highlight-current-green.current-fragment {
        color: #a6e22e;
      }
      /* Seth Godin / Simon Sinek inspired styles */
      .reveal .big-idea {
        font-size: 2.5em;
        font-weight: bold;
        line-height: 1.2;
        margin: 0.5em 0;
      }
      .reveal .big-idea-small {
        font-size: 1.8em;
        font-weight: bold;
        line-height: 1.3;
      }
      .reveal .why-statement {
        font-size: 1.4em;
        color: #a6e22e;
        font-style: italic;
        margin: 1em 0;
      }
      .reveal .contrast-old {
        color: #ff6b6b;
        text-decoration: line-through;
        opacity: 0.7;
      }
      .reveal .contrast-new {
        color: #51cf66;
        font-weight: bold;
      }
      .reveal .single-stat {
        font-size: 4em;
        font-weight: bold;
        color: #ffd43b;
      }
      .reveal .stat-label {
        font-size: 1.2em;
        color: #868e96;
        margin-top: 0.5em;
      }
      .reveal .punch-line {
        font-size: 1.6em;
        font-weight: bold;
        border-left: 4px solid #667eea;
        padding-left: 20px;
        margin: 1em 0;
      }
      .reveal .section-why {
        background: linear-gradient(135deg, rgba(102, 126, 234, 0.2), rgba(118, 75, 162, 0.2));
        padding: 30px;
        border-radius: 10px;
        margin: 20px 0;
      }
      .reveal .golden-circle {
        display: flex;
        justify-content: center;
        align-items: center;
        gap: 20px;
      }
      .reveal .circle {
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-weight: bold;
      }
      .reveal .circle-why {
        width: 100px;
        height: 100px;
        background: #ffd43b;
        color: #000;
        font-size: 1.2em;
      }
      .reveal .circle-how {
        width: 150px;
        height: 150px;
        background: #748ffc;
        color: #fff;
      }
      .reveal .circle-what {
        width: 200px;
        height: 200px;
        background: #495057;
        color: #fff;
      }
      .reveal .quote-block {
        font-size: 1.3em;
        font-style: italic;
        border-left: 4px solid #ffd43b;
        padding-left: 20px;
        margin: 1em 0;
      }
      .reveal .quote-author {
        font-size: 0.8em;
        color: #868e96;
        font-style: normal;
      }
    </style>
  </head>
  <body>
    <div class="reveal">
      <div class="slides">

        <!-- ============================================ -->
        <!-- TITLE SLIDE -->
        <!-- ============================================ -->
        <section>
          <p class="why-statement">The game has changed.</p>
          <h1>Claude Code</h1>
          <p class="big-idea-small">as used on <span id="live-timestamp"></span></p>
          <p id="obsolete-warning" style="display: none; color: #ff6b6b; font-size: 0.7em; margin-top: 0.5em;"></p>
          <p style="margin-top: 2em; font-size: 0.7em; color: #868e96;">For developers who've moved past the basics</p>
        </section>

        <!-- HOOK SLIDE - Simon Sinek "Start with Why" -->
        <section>
          <p class="big-idea">What if you could 10x your output<br/>without 10x the effort?</p>
          <p class="fragment" style="margin-top: 1em; color: #868e96;">This isn't about typing faster.<br/>It's about thinking differently.</p>
        </section>

        <!-- ============================================ -->
        <!-- TABLE OF CONTENTS -->
        <!-- ============================================ -->
        <section>
          <section>
            <h2>Presentation Structure</h2>
            <div style="font-size: 0.6em; text-align: left;">
              <p><strong>Part 1:</strong> The New Paradigm <span style="color: #888;">(1)</span></p>
              <p><strong>Part 2:</strong> Prompt Engineering <span style="color: #888;">(2)</span></p>
              <p><strong>Part 3:</strong> Claude Code Foundations <span style="color: #888;">(3-11)</span></p>
              <p><strong>Part 4:</strong> Claude Code Advanced <span style="color: #888;">(12-20)</span></p>
              <p><strong>Part 5:</strong> Quality & Operations <span style="color: #888;">(21-23)</span></p>
              <p><strong>Part 6:</strong> Practical Workflows <span style="color: #888;">(24-35)</span></p>
              <p><strong>Part 7:</strong> Advanced Patterns <span style="color: #888;">(36)</span></p>
            </div>
          </section>

          <section>
            <h2>Part 1: The New Paradigm</h2>
            <div style="font-size: 0.7em;">
              <ol>
                <li><strong>The Paradigm Shift</strong> - Why everything changed, vibe coding, new developer role</li>
              </ol>
            </div>
          </section>

          <section>
            <h2>Part 2: Prompt Engineering</h2>
            <div style="font-size: 0.7em;">
              <ol start="2">
                <li>Prompt Engineering Deep Dive</li>
              </ol>
            </div>
          </section>

          <section>
            <h2>Part 3: Claude Code Foundations</h2>
            <div style="font-size: 0.6em; display: flex; justify-content: space-between;">
              <ol start="3">
                <li>Model Selection</li>
                <li>Keyboard Shortcuts</li>
                <li>Session Management</li>
                <li>@file References</li>
                <li>CLAUDE.md Mastery</li>
              </ol>
              <ol start="8">
                <li>Slash Commands</li>
                <li>Magic Keywords</li>
                <li>Memory & Compaction</li>
                <li>Permissions & Safety</li>
              </ol>
            </div>
          </section>

          <section>
            <h2>Part 4: Claude Code Advanced</h2>
            <div style="font-size: 0.6em; display: flex; justify-content: space-between;">
              <ol start="12">
                <li>MCP Servers</li>
                <li>MCP Tools for Quality</li>
                <li>Git Workflow Complete</li>
                <li>IDE Integrations</li>
                <li>Hooks Deep Dive</li>
              </ol>
              <ol start="17">
                <li>Configuration Mastery</li>
                <li>Integrated Workflow</li>
                <li>Agents & Skills</li>
                <li>Plugins Ecosystem</li>
              </ol>
            </div>
          </section>

          <section>
            <h2>Part 5: Quality & Operations</h2>
            <div style="font-size: 0.65em;">
              <ol start="21">
                <li><strong>Testing as Guardrails</strong> - TDD evolution, verbosity, E2E vs unit</li>
                <li>Build & Type Checks</li>
                <li><strong>Debugging & Troubleshooting</strong></li>
              </ol>
            </div>
          </section>

          <section>
            <h2>Part 6: Practical Workflows</h2>
            <div style="font-size: 0.55em; display: flex; justify-content: space-between;">
              <ol start="24">
                <li>Real-World Architectures</li>
                <li>TypeScript Workflows</li>
                <li>Data Scraping</li>
                <li>Documentation</li>
                <li>Frontend Design</li>
                <li>Mermaid Diagrams</li>
              </ol>
              <ol start="30">
                <li><strong>Large Codebase Strategies</strong></li>
                <li><strong>Database Operations</strong></li>
                <li><strong>Remote Development</strong></li>
                <li><strong>Multilingual Capabilities</strong></li>
                <li><strong>Human Collaboration</strong></li>
                <li><strong>Claude Code vs Competitors</strong></li>
              </ol>
            </div>
          </section>

          <section>
            <h2>Part 7: Advanced Patterns</h2>
            <div style="font-size: 0.65em;">
              <ol start="36">
                <li><strong>Advanced Claude Code Patterns</strong> - 7 patterns that move the needle:
                  <span style="font-size: 0.85em; color: #888;">Error Logging, /Commands as Apps, Hooks for Safety, Context Hygiene, Subagent Control, Lean Tool Stack, Reprompter</span>
                </li>
              </ol>
            </div>
          </section>

        </section>


        <!-- ============================================ -->
        <!-- PART 1: THE NEW PARADIGM -->
        <!-- ============================================ -->
        <section data-background-gradient="linear-gradient(135deg, #667eea 0%, #764ba2 100%)">
          <div class="part-header">
            <h2>Part 1</h2>
            <h1>The New Paradigm</h1>
            <p class="why-statement">Why the old rules no longer apply</p>
          </div>
        </section>

        <!-- SECTION 1: THE PARADIGM SHIFT -->
        <!-- ============================================ -->
        <section>
          <!-- WHY slide (Sinek) - emotional hook first -->
          <section>
            <p class="big-idea">Everything you learned about coding is being rewritten.</p>
            <p class="fragment why-statement">Because the tools changed the game.</p>
          </section>

          <!-- SINGLE STAT slide (Godin) -->
          <section>
            <p class="single-stat">19%</p>
            <p class="stat-label">Experienced developers took LONGER with AI tools</p>
            <p class="fragment" style="margin-top: 1em; font-size: 0.8em; color: #868e96;">METR Research, 2025</p>
            <p class="fragment punch-line">Speed ≠ Productivity</p>
          </section>

          <!-- CONTRAST slide (Duarte) - What IS vs What COULD BE -->
          <section>
            <h3>The Evolution</h3>
            <div style="display: flex; justify-content: space-around; margin-top: 1em;">
              <div class="fragment">
                <p style="font-size: 3em;">2022</p>
                <p>AI suggests 10%</p>
                <p style="color: #868e96;">Autocomplete</p>
              </div>
              <div class="fragment">
                <p style="font-size: 3em;">2024</p>
                <p>AI writes 60%</p>
                <p style="color: #868e96;">Copilot++</p>
              </div>
              <div class="fragment">
                <p style="font-size: 3em; color: #ffd43b;">2025</p>
                <p>AI implements</p>
                <p style="color: #51cf66;">Agentic</p>
              </div>
            </div>
          </section>

          <!-- QUOTE slide (Jobs-style reveal) -->
          <section>
            <div class="quote-block">
              "AI Code Assistants"
            </div>
            <p class="fragment" style="font-size: 2em; margin-top: 0.5em;">↓</p>
            <div class="fragment quote-block" style="border-color: #51cf66;">
              "Agentic IDEs"
            </div>
            <p class="fragment stat-label">The terminology shift tells the story</p>
          </section>

          <!-- VIBE CODING - Dramatic reveal -->
          <section>
            <p style="font-size: 1.2em; color: #868e96;">Collins Dictionary Word of the Year 2025</p>
            <p class="big-idea" style="color: #ffd43b;">"Vibe Coding"</p>
            <p class="fragment why-statement">Describe what you want.<br/>AI writes the code.</p>
            <p class="fragment" style="margin-top: 1em; font-size: 0.8em;">— Coined by Andrej Karpathy, OpenAI</p>
          </section>

          <!-- CONTRAST - Old vs New (Duarte) -->
          <section>
            <div style="display: flex; justify-content: space-around;">
              <div style="text-align: center;">
                <p class="contrast-old" style="font-size: 1.5em;">Traditional</p>
                <pre><code class="language-python" style="font-size: 0.8em;">def calculate_tax(income):
    # Write every line
    # yourself...</code></pre>
              </div>
              <div style="text-align: center;">
                <p class="contrast-new" style="font-size: 1.5em;">Vibe Coding</p>
                <pre><code class="language-text" style="font-size: 0.8em;">"Write a tax calculator
with 2024 brackets and
deduction support"</code></pre>
              </div>
            </div>
            <p class="fragment warning" style="margin-top: 1em;">⚠️ Risk: Using code you don't understand</p>
          </section>

          <!-- THE PARADOX - Single powerful stat (Godin) -->
          <section>
            <p style="font-size: 1.2em; color: #868e96;">Google's 2025 Data</p>
            <p class="single-stat">30%</p>
            <p class="stat-label">of code now uses AI suggestions</p>
          </section>

          <section>
            <p style="font-size: 1.2em; color: #868e96;">But productivity increased only</p>
            <p class="single-stat">10%</p>
            <p class="fragment punch-line">Where did the other 20% go?</p>
          </section>

          <!-- THE INSIGHT - One idea (Godin) -->
          <section>
            <p class="big-idea">The bottleneck shifted.</p>
            <div class="fragment" style="margin-top: 1em;">
              <p><span class="contrast-old">Writing code</span> → Fast now</p>
              <p><span class="contrast-new">Reviewing code</span> → New bottleneck</p>
            </div>
          </section>

          <!-- METR INSIGHT - Quote style (Jobs) -->
          <section>
            <div class="quote-block">
              "AI helps most when YOU don't know the answer.<br/>
              AI helps least when you could type it faster."
            </div>
            <p class="fragment quote-author">— METR Research, 2025</p>
          </section>

          <!-- ROLE CHANGE - Big idea -->
          <section>
            <p style="color: #868e96; font-size: 1.2em;">2020</p>
            <p class="contrast-old" style="font-size: 1.8em;">Developer = Code Writer</p>
            <p style="font-size: 2em; margin: 0.5em 0;">↓</p>
            <p style="color: #868e96; font-size: 1.2em;">2025</p>
            <p class="contrast-new" style="font-size: 1.8em;">Developer = AI Orchestrator</p>
          </section>

          <!-- Skills shift - Visual cards -->
          <section>
            <h3>Skills That Matter Now</h3>
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px; font-size: 0.85em; margin-top: 1em;">
              <div class="fragment" style="color: #51cf66;">✓ Architecture & system design</div>
              <div class="fragment" style="color: #51cf66;">✓ Writing precise specifications</div>
              <div class="fragment" style="color: #51cf66;">✓ Prompt engineering</div>
              <div class="fragment" style="color: #51cf66;">✓ Code review judgment</div>
            </div>
            <div class="fragment" style="margin-top: 1.5em;">
              <p style="color: #868e96; font-size: 0.9em;">What matters less: Typing speed, memorizing syntax, boilerplate</p>
            </div>
          </section>

          <!-- MENTAL MODEL - Quote -->
          <section>
            <div class="quote-block">
              "I have 5 AI developers working for me.<br/>
              How do I direct them effectively?"
            </div>
            <p class="fragment quote-author">— The new developer mental model</p>
          </section>

          <!-- PARALLEL - Quote -->
          <section>
            <div class="quote-block">
              "Embrace the parallel coding agent lifestyle."
            </div>
            <p class="quote-author">— Simon Willison, 2025</p>
          </section>

          <!-- PARALLEL - Visual -->
          <section>
            <h3>Parallel Agent Orchestration</h3>
            <div style="display: flex; justify-content: space-around; margin-top: 1em; font-size: 0.9em;">
              <div class="fragment" style="background: rgba(102, 126, 234, 0.2); padding: 15px; border-radius: 8px;">
                <p style="color: #748ffc;">Agent 1</p>
                <p>API endpoint</p>
              </div>
              <div class="fragment" style="background: rgba(102, 126, 234, 0.2); padding: 15px; border-radius: 8px;">
                <p style="color: #748ffc;">Agent 2</p>
                <p>Frontend</p>
              </div>
              <div class="fragment" style="background: rgba(102, 126, 234, 0.2); padding: 15px; border-radius: 8px;">
                <p style="color: #748ffc;">Agent 3</p>
                <p>Tests</p>
              </div>
              <div class="fragment" style="background: rgba(102, 126, 234, 0.2); padding: 15px; border-radius: 8px;">
                <p style="color: #748ffc;">Agent 4</p>
                <p>Docs</p>
              </div>
            </div>
            <p class="fragment" style="margin-top: 1em; color: #ffd43b;">You: Review all outputs, merge the best</p>
          </section>

          <!-- WHAT FAILS - Dramatic list -->
          <section>
            <h3 style="color: #ff6b6b;">What Doesn't Work Anymore</h3>
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; font-size: 0.85em; margin-top: 1em;">
              <p class="fragment">❌ Line-by-line coding</p>
              <p class="fragment">❌ Tiny TDD cycles</p>
              <p class="fragment">❌ Code then test</p>
              <p class="fragment">❌ Trust without verify</p>
              <p class="fragment">❌ Review every line</p>
              <p class="fragment">❌ One task at a time</p>
            </div>
          </section>

          <!-- WHAT WORKS - Contrast -->
          <section>
            <h3 style="color: #51cf66;">What Works in 2025</h3>
            <div style="font-size: 0.95em; margin-top: 1em;">
              <p class="fragment">✅ <strong>Spec-Driven Development</strong></p>
              <p class="fragment">✅ <strong>Tests as Specifications</strong></p>
              <p class="fragment">✅ <strong>Guardrail-Heavy Automation</strong></p>
              <p class="fragment">✅ <strong>Parallel Agent Orchestration</strong></p>
              <p class="fragment">✅ <strong>Iterative Refinement Loops</strong></p>
            </div>
          </section>

          <!-- DAILY RHYTHM - Simple visual -->
          <section>
            <h3>The New Daily Rhythm</h3>
            <div style="display: flex; justify-content: space-around; margin-top: 1em; font-size: 0.85em;">
              <div class="fragment section-why" style="width: 30%;">
                <p style="color: #ffd43b;">Morning</p>
                <p>Vibe code<br/>Prototype<br/>Decide</p>
              </div>
              <div class="fragment section-why" style="width: 30%;">
                <p style="color: #748ffc;">Afternoon</p>
                <p>Queue tasks<br/>Write specs<br/>Handoff</p>
              </div>
              <div class="fragment section-why" style="width: 30%;">
                <p style="color: #51cf66;">Next AM</p>
                <p>Review PRs<br/>Merge good<br/>Feedback</p>
              </div>
            </div>
            <p class="fragment" style="margin-top: 1em; color: #868e96;">Overnight: Agents polish, test, document</p>
          </section>

          <!-- KEY TAKEAWAYS - One per line (Godin style) -->
          <section>
            <h3>The Shift</h3>
            <p class="fragment punch-line">Bottleneck: Writing → Reviewing</p>
            <p class="fragment punch-line">TDD: Design driver → AI spec</p>
            <p class="fragment punch-line">Tests: E2E > Unit for AI code</p>
            <p class="fragment punch-line">Role: Writer → Orchestrator</p>
          </section>

          <!-- FINAL INSIGHT -->
          <section>
            <p class="big-idea">Speed ≠ Productivity</p>
            <p class="fragment why-statement">Quality verification is the new limit.</p>
          </section>

          <!-- Resources (keep as reference) -->
          <section>
            <h3>Deep Dive Resources</h3>
            <ul style="font-size: 0.65em; columns: 2; column-gap: 40px;">
              <li><a href="https://thenewstack.io/ai-engineering-trends-in-2025-agents-mcp-and-vibe-coding/">AI Engineering Trends 2025</a></li>
              <li><a href="https://metr.org/blog/2025-07-10-early-2025-ai-experienced-os-dev-study/">METR Productivity Study</a></li>
              <li><a href="https://momentic.ai/blog/test-driven-development">How AI Will Bring TDD Back</a></li>
              <li><a href="https://plausiblefutures.substack.com/p/vibe-coding-in-2025-a-technical-guide">Vibe Coding 2025 Guide</a></li>
            </ul>
          </section>
        </section>

        <!-- ============================================ -->

        <!-- ============================================ -->
        <!-- PART 2: PROMPT ENGINEERING -->
        <!-- ============================================ -->
        <section data-background-gradient="linear-gradient(135deg, #11998e 0%, #38ef7d 100%)">
          <div class="part-header">
            <h2>Part 2</h2>
            <h1>Prompt Engineering</h1>
            <p class="why-statement">The building blocks of AI-powered applications</p>
          </div>
        </section>

        <!-- SECTION 2: PROMPT ENGINEERING DEEP DIVE -->
        <!-- ============================================ -->
        <section>
          <!-- WHY slide first (Sinek) -->
          <section>
            <p class="big-idea">The prompt is the product.</p>
            <p class="fragment why-statement">Everything else is just plumbing.</p>
          </section>

          <section>
            <h2>2. Prompt Engineering Deep Dive</h2>
            <p>The art of speaking Claude's language</p>
          </section>

          <section>
            <h3>Chain-of-Thought Patterns</h3>
            <p>Explicit reasoning improves accuracy on complex tasks</p>
            <pre><code class="language-text">Before answering, work through this step by step:

1. First, identify what type of problem this is
2. List the relevant constraints and edge cases
3. Consider 2-3 possible approaches
4. Evaluate tradeoffs of each approach
5. Select the best approach and explain why
6. Implement the solution

Put your reasoning in &lt;thinking&gt; tags, then provide the final answer.</code></pre>
            <p class="tip">Tip: For simple tasks, CoT adds latency without benefit. Reserve for complex reasoning.</p>
          </section>

          <section>
            <h3>Few-Shot Pattern</h3>
            <pre><code class="language-xml">&lt;examples&gt;
  &lt;example&gt;
    &lt;input&gt;Refund my order, this is ridiculous!&lt;/input&gt;
    &lt;classification&gt;refund_request&lt;/classification&gt;
    &lt;sentiment&gt;angry&lt;/sentiment&gt;
    &lt;priority&gt;high&lt;/priority&gt;
  &lt;/example&gt;

  &lt;example&gt;
    &lt;input&gt;How do I change my shipping address?&lt;/input&gt;
    &lt;classification&gt;shipping_inquiry&lt;/classification&gt;
    &lt;sentiment&gt;neutral&lt;/sentiment&gt;
    &lt;priority&gt;normal&lt;/priority&gt;
  &lt;/example&gt;
&lt;/examples&gt;

Now classify this message:
&lt;input&gt;{{user_message}}&lt;/input&gt;</code></pre>
            <p class="warning">Warning: 3-5 examples usually optimal. More examples = diminishing returns + token cost</p>
          </section>

          <section>
            <h3>Prompt Chaining</h3>
            <p>Break complex tasks into validated steps</p>
            <pre><code class="language-python"># Step 1: Extract requirements
requirements = await claude.messages.create(
    model="claude-sonnet-4-20250514",
    messages=[{"role": "user", "content": f"Extract requirements:\n{spec}"}]
)

# Step 2: Validate requirements are complete
validation = await claude.messages.create(
    model="claude-sonnet-4-20250514",
    messages=[{"role": "user", "content": f"""
        Are these requirements complete and unambiguous?
        {requirements.content}
        Respond with VALID or list missing items.
    """}]
)

# Step 3: Only proceed if valid
if "VALID" in validation.content[0].text:
    # Generate implementation
    implementation = await claude.messages.create(...)</code></pre>
          </section>

          <section>
            <h3>Meta-Prompting</h3>
            <p>When you don't know how to ask, ask Claude to help you ask</p>
            <pre><code class="language-text">"I want to refactor this code but I'm not sure what
approach would be best. Help me create a prompt that
will get Claude to analyze the code and suggest the
most appropriate refactoring strategy."</code></pre>
            <div class="fragment" style="margin-top: 1em;">
              <pre><code class="language-text">"I need to [vague goal] but I don't know how to phrase it.
Help me formulate a clear, specific prompt that will
achieve [intended outcome]."</code></pre>
            </div>
            <p class="fragment tip">Claude excels at clarifying ambiguous requests — use it to sharpen your own prompts.</p>
          </section>
        </section>

        <!-- ============================================ -->
        <!-- PART 3: CLAUDE CODE FOUNDATIONS -->
        <!-- ============================================ -->
        <section data-background-gradient="linear-gradient(135deg, #4568dc 0%, #b06ab3 100%)">
          <div class="part-header">
            <h2>Part 3</h2>
            <h1>Claude Code Foundations</h1>
            <p class="why-statement">From zero to productive in minutes</p>
          </div>
        </section>

        <!-- ============================================ -->
        <!-- SECTION 3: MODEL SELECTION -->
        <!-- ============================================ -->
        <section>
          <!-- WHY opener (Sinek) -->
          <section>
            <p class="big-idea">Right model.<br/>Right task.<br/>Right cost.</p>
          </section>

          <section>
            <h2>3. Model Selection</h2>
            <p>Opus, Sonnet, Haiku: When to use each</p>
          </section>

          <!-- CONTRAST (Duarte) -->
          <section>
            <h3>The Claude Family</h3>
            <table style="font-size: 0.7em;">
              <tr>
                <th></th>
                <th style="color: #ffd43b;">Opus 4.5</th>
                <th style="color: #748ffc;">Sonnet 4</th>
                <th style="color: #51cf66;">Haiku 3.5</th>
              </tr>
              <tr>
                <td>Speed</td>
                <td>Slow</td>
                <td>Fast</td>
                <td>Very Fast</td>
              </tr>
              <tr>
                <td>Intelligence</td>
                <td>Highest</td>
                <td>High</td>
                <td>Good</td>
              </tr>
              <tr>
                <td>Cost/1M tokens</td>
                <td>$15/$75</td>
                <td>$3/$15</td>
                <td>$0.80/$4</td>
              </tr>
              <tr>
                <td>Best for</td>
                <td>Complex arch</td>
                <td>Daily coding</td>
                <td>Simple tasks</td>
              </tr>
            </table>
          </section>

          <section>
            <h3>Benchmark: Cost / Performance / Quality</h3>
            <table style="font-size: 0.6em;">
              <tr>
                <th>Criteria</th>
                <th style="color: #ffd43b;">Opus 4.5</th>
                <th style="color: #748ffc;">Sonnet 4</th>
                <th style="color: #51cf66;">Haiku 3.5</th>
              </tr>
              <tr>
                <td>Latency (TTFT)</td>
                <td>~3-5s</td>
                <td style="color: #51cf66;">~1-2s</td>
                <td style="color: #51cf66;">~0.5s</td>
              </tr>
              <tr>
                <td>Code Quality</td>
                <td style="color: #51cf66;">Excellent</td>
                <td>Very Good</td>
                <td>Adequate</td>
              </tr>
              <tr>
                <td>Reasoning</td>
                <td style="color: #51cf66;">Multi-step</td>
                <td>Good</td>
                <td>Limited</td>
              </tr>
              <tr>
                <td>Cost/typical request</td>
                <td style="color: #ff6b6b;">$0.10-0.50</td>
                <td>$0.02-0.10</td>
                <td style="color: #51cf66;">$0.001-0.01</td>
              </tr>
              <tr>
                <td>ROI</td>
                <td>Critical tasks</td>
                <td style="color: #51cf66;">Best overall</td>
                <td>High volume</td>
              </tr>
            </table>
            <p class="tip">Sonnet = best value for 90% of use cases</p>
          </section>

          <section>
            <h3>Switch Models On-the-Fly</h3>
            <pre><code class="language-bash"># Check current model
/model

# Switch to a different model
/model sonnet
/model opus
/model haiku

# Or use full model IDs
/model claude-sonnet-4-20250514</code></pre>
          </section>

          <!-- VISUAL 2x2 (Godin) -->
          <section>
            <h3>Model Selection Guide</h3>
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px; font-size: 0.75em;">
              <div class="section-why">
                <p style="color: #ffd43b;">Use Opus when:</p>
                <ul style="margin: 0;">
                  <li>Designing architecture</li>
                  <li>Complex debugging</li>
                  <li>Multi-file refactors</li>
                  <li>Security audits</li>
                </ul>
              </div>
              <div class="section-why">
                <p style="color: #748ffc;">Use Sonnet when:</p>
                <ul style="margin: 0;">
                  <li>Daily development</li>
                  <li>Code reviews</li>
                  <li>Writing tests</li>
                  <li>Documentation</li>
                </ul>
              </div>
              <div class="section-why">
                <p style="color: #51cf66;">Use Haiku when:</p>
                <ul style="margin: 0;">
                  <li>Simple edits</li>
                  <li>Syntax questions</li>
                  <li>Quick lookups</li>
                  <li>Formatting code</li>
                </ul>
              </div>
              <div class="section-why">
                <p style="color: #ff6b6b;">Never use Opus for:</p>
                <ul style="margin: 0;">
                  <li>Simple renames</li>
                  <li>Adding console.log</li>
                  <li>Formatting</li>
                  <li>Quick questions</li>
                </ul>
              </div>
            </div>
          </section>

          <section>
            <h3>Cost-Aware Strategy</h3>
            <pre><code class="language-markdown"># Escalation Pattern

1. Start with Haiku for quick tasks
2. If Haiku struggles → Switch to Sonnet
3. If Sonnet struggles → Switch to Opus
4. For architecture → Start with Opus

# Real-world example:
"Fix this typo" → Haiku ($0.001)
"Add error handling" → Sonnet ($0.02)
"Redesign auth system" → Opus ($0.50)</code></pre>
          </section>

          <!-- SINGLE STAT (Godin) -->
          <section>
            <p class="single-stat">90%</p>
            <p class="stat-label">of tasks work perfectly with Sonnet</p>
            <p class="fragment" style="margin-top: 1em; font-size: 0.9em;">Save Opus for the 10% that really matter.</p>
          </section>

          <section>
            <h3>Extended Thinking by Model</h3>
            <table style="font-size: 0.75em;">
              <tr>
                <th>Model</th>
                <th>Default Thinking</th>
                <th>MAX_THINKING_TOKENS</th>
              </tr>
              <tr>
                <td>Opus 4.5</td>
                <td style="color: #51cf66;">31,999 tokens</td>
                <td style="color: #ffd43b;">63,999 max</td>
              </tr>
              <tr>
                <td>Sonnet 4/4.5</td>
                <td style="color: #51cf66;">31,999 tokens</td>
                <td style="color: #ffd43b;">63,999 max</td>
              </tr>
              <tr>
                <td>Haiku 4.5</td>
                <td style="color: #51cf66;">31,999 tokens</td>
                <td style="color: #ffd43b;">63,999 max</td>
              </tr>
            </table>
            <p class="tip" style="font-size: 0.8em;">Thinking enabled by default on all models (Jan 2026)</p>
          </section>

          <section>
            <p class="punch-line">Don't pay for thinking<br/>when you just need typing.</p>
          </section>
        </section>

        <!-- ============================================ -->
        <!-- SECTION 5: KEYBOARD SHORTCUTS -->
        <!-- ============================================ -->
        <section>
          <!-- WHY opener (Sinek) -->
          <section>
            <p class="big-idea">Your hands shouldn't leave the keyboard.</p>
          </section>

          <section>
            <h2>4. Keyboard Shortcuts</h2>
            <p>Navigate Claude Code like a pro</p>
          </section>

          <section>
            <h3>Essential Shortcuts</h3>
            <table style="font-size: 0.75em;">
              <tr>
                <th>Shortcut</th>
                <th>Action</th>
              </tr>
              <tr>
                <td><code>Escape</code></td>
                <td>Cancel current operation / Stop generation</td>
              </tr>
              <tr>
                <td><code>↑</code> / <code>↓</code></td>
                <td>Navigate command history</td>
              </tr>
              <tr>
                <td><code>Tab</code></td>
                <td>Autocomplete commands & paths</td>
              </tr>
              <tr>
                <td><code>Ctrl+C</code></td>
                <td>Interrupt / Cancel</td>
              </tr>
              <tr>
                <td><code>Ctrl+D</code></td>
                <td>Exit Claude Code</td>
              </tr>
              <tr>
                <td><code>Ctrl+L</code></td>
                <td>Clear screen (keep context)</td>
              </tr>
            </table>
          </section>

          <section>
            <h3>Multi-line Input</h3>
            <pre><code class="language-bash"># Method 1: Backslash continuation
I need you to: \
1. Read the file \
2. Find all bugs \
3. Fix them

# Method 2: Quotes
"I need you to:
1. Read the file
2. Find all bugs
3. Fix them"

# Method 3: Heredoc style (advanced)
&lt;&lt;EOF
Multi-line
prompt
here
EOF</code></pre>
          </section>

          <section>
            <h3>Tab Completion</h3>
            <pre><code class="language-bash"># Commands
/com[TAB] → /commit
/rev[TAB] → /review

# File paths
@src/comp[TAB] → @src/components/
@src/components/Bu[TAB] → @src/components/Button.tsx

# Model names
/model son[TAB] → /model sonnet</code></pre>
          </section>

          <section>
            <h3>History Navigation</h3>
            <pre><code class="language-bash"># Navigate previous prompts
↑  # Previous prompt
↓  # Next prompt

# Search history (if supported by your shell)
Ctrl+R  # Reverse search

# Tip: Your prompts are saved in
# ~/.claude/history</code></pre>
          </section>

          <!-- VISUAL (Jobs) -->
          <section>
            <h3>Interrupt Behaviors</h3>
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; font-size: 0.8em;">
              <div class="section-why">
                <p style="color: #ffd43b;">Escape</p>
                <p>Graceful stop</p>
                <p style="color: #868e96;">Finishes current thought, then stops</p>
              </div>
              <div class="section-why">
                <p style="color: #ff6b6b;">Ctrl+C</p>
                <p>Hard interrupt</p>
                <p style="color: #868e96;">Stops immediately, may lose partial work</p>
              </div>
            </div>
            <p class="tip fragment" style="margin-top: 1em;">Use Escape first. Ctrl+C if Escape doesn't work.</p>
          </section>

          <section>
            <h3>Copy & Paste Tips</h3>
            <pre><code class="language-bash"># Terminal-specific paste commands:
# macOS Terminal: Cmd+V
# iTerm2: Cmd+V (or Cmd+Shift+V for bracketed)
# Linux: Ctrl+Shift+V
# Windows Terminal: Ctrl+V or Right-click

# Paste multi-line code:
# Most terminals handle this automatically
# If issues: use @file references instead

# Copy output:
# Select with mouse, then Cmd/Ctrl+C
# Or pipe: claude -p "question" | pbcopy</code></pre>
          </section>

          <section>
            <p class="punch-line">Escape = Soft stop<br/>Ctrl+C = Emergency brake</p>
          </section>
        </section>

        <!-- ============================================ -->
        <!-- SECTION 6: SESSION MANAGEMENT -->
        <!-- ============================================ -->
        <section>
          <!-- WHY opener (Sinek) -->
          <section>
            <p class="big-idea">Context is expensive.<br/>Sessions are cheap.</p>
          </section>

          <section>
            <h2>5. Session Management</h2>
            <p>Start, stop, resume, and organize your work</p>
          </section>

          <section>
            <h3>Session Commands</h3>
            <pre><code class="language-bash"># Clear current session (fresh start)
/clear

# Resume last session
claude --resume

# Continue specific session
claude --session &lt;session-id&gt;

# List recent sessions
claude --list-sessions</code></pre>
          </section>

          <section>
            <h3>When to Clear vs Continue</h3>
            <div style="display: flex; justify-content: space-around; font-size: 0.8em;">
              <div class="section-why">
                <p style="color: #51cf66;">/clear when:</p>
                <ul style="margin: 0;">
                  <li>Switching tasks</li>
                  <li>Context is polluted</li>
                  <li>Starting fresh feature</li>
                  <li>Cost optimization</li>
                </ul>
              </div>
              <div class="section-why">
                <p style="color: #748ffc;">Continue when:</p>
                <ul style="margin: 0;">
                  <li>Multi-day feature</li>
                  <li>Complex debugging</li>
                  <li>Iterative refactoring</li>
                  <li>Built up context</li>
                </ul>
              </div>
            </div>
          </section>

          <section>
            <h3>Session Storage</h3>
            <pre><code class="language-bash"># Sessions are stored locally
~/.claude/
├── sessions/
│   ├── 2025-01-08-abc123.json  # Today's session
│   ├── 2025-01-07-def456.json  # Yesterday
│   └── ...
├── history                      # Command history
└── settings.json               # Your preferences

# Sessions include:
# - Full conversation history
# - File reads and edits made
# - Tool calls and results
# - Timestamps</code></pre>
          </section>

          <section>
            <h3>Resume Patterns</h3>
            <pre><code class="language-bash"># Pattern 1: Resume yesterday's work
claude --resume
"Where did we leave off with the auth refactor?"

# Pattern 2: Named sessions (via alias)
alias auth-work="claude --session auth-2025-01"
auth-work

# Pattern 3: Project-specific sessions
cd ~/projects/webapp
claude  # Auto-scopes to this project</code></pre>
          </section>

          <!-- SINGLE STAT (Godin) -->
          <section>
            <p class="single-stat">5x</p>
            <p class="stat-label">faster to resume than re-explain</p>
            <p class="fragment why-statement">"Continue where we left off" beats<br/>"Let me explain the whole project again"</p>
          </section>

          <section>
            <h3>Session Hygiene Tips</h3>
            <ul>
              <li><strong>Clear daily</strong> if doing unrelated tasks</li>
              <li><strong>Resume</strong> for multi-day features</li>
              <li><strong>Never resume</strong> after major codebase changes</li>
              <li><strong>Start fresh</strong> after git pull with big changes</li>
              <li>Use <code>/compact</code> before session gets too long</li>
            </ul>
          </section>
        </section>

        <!-- ============================================ -->
        <!-- SECTION 7: @FILE REFERENCES -->
        <!-- ============================================ -->
        <section>
          <!-- WHY opener (Sinek) -->
          <section>
            <p class="big-idea">Don't describe files.<br/>Point to them.</p>
          </section>

          <section>
            <h2>6. @file References</h2>
            <p>Direct file injection into your prompts</p>
          </section>

          <section>
            <h3>Basic Syntax</h3>
            <pre><code class="language-bash"># Reference a single file
"Review @src/auth/login.ts for security issues"

# Reference multiple files
"Compare @old/api.ts with @new/api.ts"

# Reference a directory (reads all files)
"Understand the structure of @src/components/"

# Glob patterns
"Find all TODOs in @src/**/*.ts"</code></pre>
          </section>

          <section>
            <h3>Why @file vs Asking Claude to Read</h3>
            <div style="display: flex; justify-content: space-around; font-size: 0.8em;">
              <div>
                <p class="contrast-old">Without @file</p>
                <pre><code class="language-text">"Read src/auth/login.ts
and tell me about it"

# Claude uses Read tool
# Extra round-trip
# May read wrong file</code></pre>
              </div>
              <div>
                <p class="contrast-new">With @file</p>
                <pre><code class="language-text">"Review @src/auth/login.ts"

# File injected directly
# No tool call needed
# Guaranteed correct file</code></pre>
              </div>
            </div>
          </section>

          <section>
            <h3>Advanced Patterns</h3>
            <pre><code class="language-bash"># Inject file content inline
"The config at @tsconfig.json has an issue"

# Reference with context
"Given @src/types.ts, add a new User type"

# Multiple related files
"Review this feature:
@src/api/orders.ts
@src/hooks/useOrders.ts
@src/components/OrderList.tsx"

# Test + Implementation
"@src/utils.ts - make @src/__tests__/utils.test.ts pass"</code></pre>
          </section>

          <section>
            <h3>Glob Reference Patterns</h3>
            <pre><code class="language-bash"># All TypeScript files in a folder
@src/components/*.tsx

# Recursive search
@src/**/*.test.ts

# Multiple extensions
@src/**/*.{ts,tsx}

# Exclude patterns (in .claudeignore)
# node_modules/ automatically excluded</code></pre>
          </section>

          <!-- VISUAL (Jobs) -->
          <section>
            <h3>@file vs Tools</h3>
            <table style="font-size: 0.75em;">
              <tr>
                <th></th>
                <th>@file</th>
                <th>Read Tool</th>
              </tr>
              <tr>
                <td>Speed</td>
                <td style="color: #51cf66;">Instant</td>
                <td>Extra call</td>
              </tr>
              <tr>
                <td>Accuracy</td>
                <td style="color: #51cf66;">Guaranteed</td>
                <td>May misinterpret path</td>
              </tr>
              <tr>
                <td>Context cost</td>
                <td>Upfront</td>
                <td>On-demand</td>
              </tr>
              <tr>
                <td>Best for</td>
                <td>Known files</td>
                <td>Discovery/search</td>
              </tr>
            </table>
          </section>

          <section>
            <p class="punch-line">@ is faster than "please read"</p>
          </section>
        </section>

        <!-- SECTION 8: CLAUDE.md MASTERY -->
        <!-- ============================================ -->
        <section>
          <!-- WHY opener (Sinek) -->
          <section>
            <p class="big-idea">Claude forgets everything.<br/>CLAUDE.md remembers.</p>
          </section>

          <section>
            <h2>7. CLAUDE.md Mastery</h2>
            <p>Your project's permanent memory</p>
          </section>

          <section>
            <h3>What is CLAUDE.md?</h3>
            <ul>
              <li>Auto-loaded context file read at session start</li>
              <li>Project-level: <code>./CLAUDE.md</code> in repo root</li>
              <li>User-level: <code>~/.claude/CLAUDE.md</code> for global preferences</li>
              <li>Folder-level: <code>src/CLAUDE.md</code> for module-specific context</li>
              <li>Inherited hierarchically (global → project → folder)</li>
            </ul>
            <pre><code class="language-bash"># Claude Code automatically reads:
~/.claude/CLAUDE.md          # Your global preferences
./CLAUDE.md                  # Project root
./src/CLAUDE.md             # When working in src/
./src/api/CLAUDE.md         # When working in src/api/</code></pre>
          </section>

          <section>
            <h3>Comprehensive CLAUDE.md Template</h3>
            <pre><code class="language-markdown"># Project: E-Commerce Platform

## Architecture Overview
- **Frontend**: Next.js 14 (App Router) with TypeScript
- **Backend**: Node.js with tRPC
- **Database**: PostgreSQL with Prisma ORM
- **Auth**: NextAuth.js with OAuth providers
- **Hosting**: Vercel (frontend), Railway (backend)

## Code Conventions

### File Naming
- Components: `PascalCase.tsx` (e.g., `ProductCard.tsx`)
- Hooks: `use-kebab-case.ts` (e.g., `use-cart.ts`)
- Utils: `kebab-case.ts` (e.g., `format-currency.ts`)
- Types: `kebab-case.types.ts` (e.g., `product.types.ts`)

### Component Structure
```tsx
// 1. Imports (external, internal, types)
// 2. Types/interfaces
// 3. Constants
// 4. Component
// 5. Subcomponents (if small)
```</code></pre>
          </section>

          <section>
            <h3>CLAUDE.md: Common Commands</h3>
            <pre><code class="language-markdown">## Common Commands

### Development
```bash
npm run dev          # Start dev server (port 3000)
npm run db:studio    # Open Prisma Studio
npm run db:push      # Push schema changes
```

### Testing
```bash
npm run test         # Run unit tests
npm run test:watch   # Watch mode
npm run test:e2e     # Playwright tests (needs dev server)
npm run test:cov     # Coverage report
```

### Build & Deploy
```bash
npm run build        # Production build
npm run lint         # ESLint + Prettier
npm run typecheck    # TypeScript check
npm run validate     # All checks (pre-push)
```

### Database
```bash
npm run db:migrate   # Run migrations
npm run db:seed      # Seed test data
npm run db:reset     # Reset + reseed (DESTROYS DATA)
```</code></pre>
          </section>

          <section>
            <h3>CLAUDE.md: Business Rules</h3>
            <pre><code class="language-markdown">## Business Logic

### Pricing Rules
- All prices stored in CENTS (integer)
- Display: divide by 100, use Intl.NumberFormat
- Tax calculated at checkout, not stored
- Discounts: percentage-based, max 50%

### Order States
```
PENDING → CONFIRMED → PROCESSING → SHIPPED → DELIVERED
       ↘ CANCELLED (from PENDING/CONFIRMED only)
       ↘ REFUNDED (from DELIVERED, within 30 days)
```

### Inventory
- Never allow negative stock
- Low stock alert: ≤5 units
- Reservation expires: 15 minutes

### User Roles
- `CUSTOMER`: Default, can buy
- `VENDOR`: Can list products
- `ADMIN`: Full access
- Roles are NOT hierarchical</code></pre>
          </section>

          <section>
            <h3>CLAUDE.md: API Patterns</h3>
            <pre><code class="language-markdown">## API Conventions

### tRPC Router Structure
```
src/server/routers/
├── _app.ts          # Root router
├── user.ts          # User CRUD
├── product.ts       # Product catalog
├── order.ts         # Order management
└── admin/           # Admin-only routes
```

### Error Handling
```typescript
// Always use TRPCError, never throw raw errors
throw new TRPCError({
  code: 'NOT_FOUND',
  message: 'Product not found',
  cause: originalError, // For logging
});
```

### Validation
- All inputs validated with Zod
- Schemas in `src/schemas/[entity].schema.ts`
- Reuse schemas between frontend/backend</code></pre>
          </section>

          <section>
            <h3>CLAUDE.md: Security Guidelines</h3>
            <pre><code class="language-markdown">## Security Requirements

### Never Do
- Store passwords in plain text (use bcrypt)
- Log sensitive data (passwords, tokens, PII)
- Use `any` type for user input
- Trust client-side validation alone
- Expose internal IDs in URLs (use slugs/UUIDs)

### Always Do
- Validate all inputs server-side
- Use parameterized queries (Prisma handles this)
- Check authorization on every protected route
- Sanitize HTML output (React does this)
- Use HTTPS in production

### Secrets
- Never commit .env files
- Use Vercel/Railway env vars for production
- Rotate keys quarterly
- Prefix client-safe vars: NEXT_PUBLIC_</code></pre>
          </section>

          <section>
            <h3>Folder-Specific CLAUDE.md</h3>
            <pre><code class="language-markdown"># src/components/CLAUDE.md

## Component Guidelines

### Props
- Always define Props interface
- Use destructuring with defaults
- Document complex props with JSDoc

### Styling
- Use Tailwind CSS exclusively
- No inline styles except dynamic values
- Component variants via cva()

### State
- Prefer server components
- Client state: useState for local
- Global state: Zustand stores in /stores

---

# src/api/CLAUDE.md

## API Route Rules

### Authentication
- All routes require auth unless in PUBLIC_ROUTES
- Use `protectedProcedure` from trpc
- Check resource ownership in resolver

### Performance
- Default pagination: 20 items
- Max pagination: 100 items
- Use cursor-based for infinite scroll</code></pre>
          </section>

          <section>
            <h3>Team Knowledge in CLAUDE.md</h3>
            <pre><code class="language-markdown">## Team Conventions

### Git Workflow
- Branch: `feature/JIRA-123-description`
- Commits: conventional commits (feat:, fix:, etc.)
- PR requires: 1 approval + passing CI

### PR Description Template
```
## Summary
[What changed and why]

## Test Plan
- [ ] Unit tests added/updated
- [ ] Manual testing done
- [ ] E2E coverage if UI changed

## Screenshots
[If UI changed]
```

### Code Review Focus
- Security implications
- Performance impact
- Test coverage
- Breaking changes

### Who to Ask
- Auth issues: @sarah
- Database/Prisma: @mike
- Payment integration: @alex
- DevOps/CI: @jordan</code></pre>
          </section>

          <section>
            <h3>Subfolder CLAUDE.md Hierarchy</h3>
            <pre><code class="language-bash"># How Claude Code resolves CLAUDE.md files
project/
├── CLAUDE.md              # Root: Global project rules
├── src/
│   ├── CLAUDE.md          # Src: Code conventions
│   ├── api/
│   │   └── CLAUDE.md      # API: Endpoint patterns
│   └── components/
│       └── CLAUDE.md      # Components: React rules
└── tests/
    └── CLAUDE.md          # Tests: Testing conventions

# When working in src/api/users.ts, Claude reads:
# 1. ~/.claude/CLAUDE.md        (user global)
# 2. project/CLAUDE.md          (project root)
# 3. project/src/CLAUDE.md      (src folder)
# 4. project/src/api/CLAUDE.md  (api folder)

# Rules STACK - later files ADD to earlier ones
# Conflicts: LAST loaded wins (most specific)</code></pre>
          </section>

          <section>
            <h3>Inheritance & Override Rules</h3>
            <pre><code class="language-markdown"># project/CLAUDE.md (root)
## Global Rules
- Use TypeScript strict mode
- All functions must have return types
- Use conventional commits

---

# project/src/CLAUDE.md (inherits root)
## Code Rules
- Max file length: 300 lines
- One component per file

---

# project/src/components/CLAUDE.md (inherits both)
## Component Overrides
- Max file length: 500 lines  ← OVERRIDES parent
- Allow multiple small components per file ← OVERRIDES
- Use Tailwind for styling ← ADDS new rule

# Result when in src/components/:
# ✓ TypeScript strict mode (from root)
# ✓ Conventional commits (from root)
# ✓ Max 500 lines (override from components)
# ✓ Multiple components OK (override)
# ✓ Tailwind styling (new rule)</code></pre>
          </section>

          <section>
            <h3>When to Split CLAUDE.md Files</h3>
            <ul>
              <li><strong>Different conventions</strong>: API vs Components vs Tests</li>
              <li><strong>Different teams</strong>: Each team owns their module's rules</li>
              <li><strong>Context limits</strong>: Root file getting too long</li>
              <li><strong>Isolation</strong>: Module-specific knowledge shouldn't leak</li>
            </ul>
            <pre><code class="language-bash"># Good split structure
CLAUDE.md                    # ~100 lines: project overview
src/CLAUDE.md               # ~50 lines: code style
src/api/CLAUDE.md           # ~80 lines: API patterns
src/components/CLAUDE.md    # ~60 lines: React rules
src/utils/CLAUDE.md         # ~30 lines: utility patterns
tests/CLAUDE.md             # ~50 lines: testing rules
docs/CLAUDE.md              # ~20 lines: doc conventions

# Total: ~390 lines split across 7 files
# vs one 390-line root file = better context per task</code></pre>
          </section>

          <section>
            <h3>Handling Long CLAUDE.md Files</h3>
            <pre><code class="language-markdown"># Problem: 500+ line CLAUDE.md = context overload

# Solution 1: Split by concern
CLAUDE.md           # Keep: Overview, critical rules only
.claude/
├── architecture.md # Reference: Detailed architecture
├── api-guide.md    # Reference: API documentation
├── testing.md      # Reference: Testing strategy
└── security.md     # Reference: Security guidelines

# In root CLAUDE.md, reference them:
## Detailed Documentation
For architecture details, ask me to read `.claude/architecture.md`
For API patterns, see `.claude/api-guide.md`

# Claude reads root CLAUDE.md automatically
# Only reads referenced files when needed</code></pre>
          </section>

          <section>
            <h3>Smart CLAUDE.md Structure (Long Projects)</h3>
            <pre><code class="language-markdown"># CLAUDE.md - Keep under 150 lines!

## Quick Reference (always loaded)
- Stack: Next.js 14, TypeScript, Prisma, tRPC
- Style: Tailwind CSS, shadcn/ui components
- Tests: Vitest + Playwright

## Critical Commands
```bash
npm run dev          # Start dev
npm run test         # Run tests
npm run build        # Build (runs checks)
```

## Key Conventions (brief)
- Conventional commits required
- All code must pass TypeScript strict
- No `any` types, no `@ts-ignore`

## Where to Find More
| Topic | File |
|-------|------|
| Architecture | `.claude/architecture.md` |
| API Patterns | `.claude/api-patterns.md` |
| Component Guide | `src/components/CLAUDE.md` |
| Database Schema | `.claude/database.md` |
| Deployment | `.claude/deployment.md` |

*Ask me to read these files when you need details*</code></pre>
          </section>

          <section>
            <h3>Reference File Pattern</h3>
            <pre><code class="language-markdown"># .claude/architecture.md (NOT auto-loaded)

## System Architecture

### Service Boundaries
[Detailed 200-line architecture description...]

### Data Flow
[Detailed diagrams and explanations...]

### Integration Points
[External service documentation...]

---

# Usage in conversation:

User: "I need to add a new payment provider"

Claude: "Let me read the architecture docs first."
*reads .claude/architecture.md*
"Based on the architecture, payment providers are
integrated through the PaymentGateway interface in
src/services/payment/. I'll follow the existing
pattern used for Stripe..."

# Claude only loads heavy docs when relevant
# Saves context for actual coding</code></pre>
          </section>

          <section>
            <h3>Conditional Loading Pattern</h3>
            <pre><code class="language-markdown"># CLAUDE.md

## Context-Specific Documentation

When working on authentication:
→ Read `.claude/auth-patterns.md`

When working on database migrations:
→ Read `.claude/database.md`
→ Read `prisma/README.md`

When working on API endpoints:
→ Read `.claude/api-patterns.md`
→ Read the relevant router in `src/server/routers/`

When working on frontend components:
→ Read `src/components/CLAUDE.md`
→ Read `src/components/README.md`

When deploying or CI/CD issues:
→ Read `.claude/deployment.md`
→ Read `.github/workflows/README.md`

# Claude intelligently loads docs based on task</code></pre>
          </section>

          <section>
            <h3>Monorepo CLAUDE.md Strategy</h3>
            <pre><code class="language-bash"># Monorepo structure
monorepo/
├── CLAUDE.md                    # Workspace-level rules
├── packages/
│   ├── CLAUDE.md                # Shared package rules
│   ├── api/
│   │   └── CLAUDE.md            # API package rules
│   ├── web/
│   │   └── CLAUDE.md            # Web app rules
│   ├── mobile/
│   │   └── CLAUDE.md            # Mobile app rules
│   └── shared/
│       └── CLAUDE.md            # Shared lib rules
└── tools/
    └── CLAUDE.md                # Tooling rules</code></pre>
            <pre><code class="language-markdown"># monorepo/CLAUDE.md
## Monorepo Rules
- Package manager: pnpm
- Shared deps in root package.json
- Package-specific deps in package's package.json
- Use workspace protocol: `"shared": "workspace:*"`

## Package Ownership
- @team-api owns packages/api
- @team-web owns packages/web
- @team-mobile owns packages/mobile</code></pre>
          </section>

          <section>
            <h3>Package-Level CLAUDE.md</h3>
            <pre><code class="language-markdown"># packages/api/CLAUDE.md

## API Package Context

This package is the backend API. It does NOT share
context with web/ or mobile/ packages.

## This Package Only
- Framework: Fastify
- ORM: Prisma
- Auth: JWT + refresh tokens
- API Style: REST with OpenAPI spec

## Cross-Package Rules
When importing from `@monorepo/shared`:
- Only import types and utilities
- Never import React components
- Check shared package's CLAUDE.md for patterns

## Package Commands
```bash
pnpm --filter api dev      # Run this package
pnpm --filter api test     # Test this package
pnpm --filter api build    # Build this package
```

## Don't Confuse With
- packages/web uses Next.js (different framework)
- packages/mobile uses React Native (different platform)</code></pre>
          </section>

          <section>
            <h3>CLAUDE.md Size Guidelines</h3>
            <table style="font-size: 0.7em;">
              <tr>
                <th>File Location</th>
                <th>Ideal Size</th>
                <th>Max Size</th>
                <th>Content</th>
              </tr>
              <tr>
                <td>Root CLAUDE.md</td>
                <td>80-120 lines</td>
                <td>200 lines</td>
                <td>Overview, critical rules, references</td>
              </tr>
              <tr>
                <td>Module CLAUDE.md</td>
                <td>40-80 lines</td>
                <td>150 lines</td>
                <td>Module-specific patterns</td>
              </tr>
              <tr>
                <td>Reference docs</td>
                <td>Any size</td>
                <td>No limit</td>
                <td>Detailed docs (loaded on demand)</td>
              </tr>
            </table>
            <pre><code class="language-bash"># Check your CLAUDE.md sizes
find . -name "CLAUDE.md" -exec wc -l {} \;

# If any file > 200 lines, consider splitting</code></pre>
          </section>

          <section>
            <h3>Anti-Patterns to Avoid</h3>
            <pre><code class="language-markdown"># ❌ DON'T: Giant monolithic CLAUDE.md
# 800 lines of everything in root = context waste

# ❌ DON'T: Duplicate information
# Same rules in root AND subfolder = confusion

# ❌ DON'T: Outdated information
# Old patterns that no longer apply = wrong code

# ❌ DON'T: Too granular splitting
# CLAUDE.md in every single folder = overhead

# ✅ DO: Hierarchical with clear inheritance
# ✅ DO: Reference files for deep documentation
# ✅ DO: Keep auto-loaded files concise
# ✅ DO: Update CLAUDE.md when patterns change
# ✅ DO: Split only when conventions genuinely differ</code></pre>
          </section>

          <section>
            <h3>Debugging CLAUDE.md Loading</h3>
            <pre><code class="language-bash"># See which CLAUDE.md files Claude loaded

"What CLAUDE.md files did you read for this session?
List them in order with line counts."

# Expected output:
# 1. ~/.claude/CLAUDE.md (45 lines)
# 2. /project/CLAUDE.md (120 lines)
# 3. /project/src/CLAUDE.md (60 lines)
# 4. /project/src/api/CLAUDE.md (80 lines)
# Total: 305 lines of context

# If context seems wrong:
"Ignore previous CLAUDE.md context and re-read
the CLAUDE.md files from the current directory."

# Force read a specific file:
"Read and apply rules from .claude/special-rules.md"</code></pre>
          </section>
        </section>

        <!-- ============================================ -->
        <!-- SECTION 9: SLASH COMMANDS -->
        <!-- ============================================ -->
        <section>
          <!-- WHY opener (Sinek) -->
          <section>
            <p class="big-idea">/commands<br/>speak louder than prompts.</p>
          </section>

          <section>
            <h2>8. Slash Commands</h2>
            <p>Your shortcuts to power features</p>
          </section>

          <section>
            <h3>Essential Built-in Commands</h3>
            <pre><code class="language-bash"># Context Management
/compact           # Summarize conversation to free tokens
/clear             # Clear conversation history

# Memory & Context
/memory            # Show/edit persistent memory (CLAUDE.md)
/init              # Initialize CLAUDE.md for current project

# Debugging
/doctor            # Diagnose Claude Code issues
/terminal-setup    # Fix terminal/shell issues

# Cost & Usage
/cost              # Show token usage and costs for session

# Model Control
/model             # Switch between Claude models

# Review
/review            # Review a PR (can pass PR number)</code></pre>
          </section>

          <section>
            <h3>Planning & Navigation Commands</h3>
            <pre><code class="language-bash"># Planning
/plan              # Enter plan mode - design before implementing
                   # Claude creates a plan file, you approve, then execute

# Changes & History
/diff              # View all pending changes in current session
/undo              # Undo last file modification
/history           # Show command history

# Information
/help              # Show all available commands
/tokens            # Display token count for current context
/status            # Show current session status

# Quick Actions
/bug               # Report a bug to Anthropic
/config            # Open Claude Code configuration</code></pre>
          </section>

          <!-- PLAN MODE - CRITICAL EMPHASIS -->
          <section>
            <p class="big-idea" style="color: #ffd43b;">/plan is (almost) mandatory</p>
            <p class="fragment why-statement">The single most important command to master.</p>
          </section>

          <section>
            <h3>Why Plan Mode Matters</h3>
            <div style="font-size: 0.9em; margin-top: 1em;">
              <p class="fragment">• Prevents Claude from diving into code immediately</p>
              <p class="fragment">• Forces architecture thinking before implementation</p>
              <p class="fragment">• You approve the approach before any file is touched</p>
              <p class="fragment">• Catches scope creep and wrong directions early</p>
            </div>
            <p class="fragment punch-line" style="margin-top: 1em;">Without /plan, Claude guesses. With /plan, Claude asks.</p>
          </section>

          <section>
            <h3>Plan Mode in Action</h3>
            <pre><code class="language-bash"># Start plan mode for any non-trivial task
/plan

# Claude will:
# 1. Analyze the codebase first
# 2. Create a plan file with approach, files, steps
# 3. Wait for your explicit approval
# 4. Execute only after you say "go"

# You can:
# - Ask questions about the plan
# - Request modifications
# - Reject and ask for alternatives
# - Approve specific parts only</code></pre>
          </section>

          <section>
            <h3>When to Use /plan</h3>
            <div style="display: flex; justify-content: space-around; font-size: 0.8em; margin-top: 1em;">
              <div class="section-why">
                <p style="color: #51cf66;">Always use /plan</p>
                <ul style="margin: 0;">
                  <li>New features</li>
                  <li>Refactoring</li>
                  <li>Bug fixes (non-trivial)</li>
                  <li>Any task > 2 files</li>
                  <li>Unfamiliar codebase</li>
                </ul>
              </div>
              <div class="section-why">
                <p style="color: #868e96;">Skip /plan only for</p>
                <ul style="margin: 0;">
                  <li>Typo fixes</li>
                  <li>Single-line changes</li>
                  <li>Adding a log statement</li>
                  <li>Quick research questions</li>
                </ul>
              </div>
            </div>
          </section>

          <section>
            <h3>/diff and /undo: Your Safety Net</h3>
            <pre><code class="language-bash"># After Claude makes changes:
/diff

# Output:
# Modified files this session:
# - src/api/users.ts (+45, -12)
# - src/models/User.ts (+8, -0)
# - tests/users.test.ts (+120, -0)

# Something wrong? Undo it:
/undo

# Reverted: src/api/users.ts
# (Previous changes still visible with /diff --all)

# Undo multiple:
/undo 3            # Undo last 3 changes</code></pre>
            <p class="punch-line">Make changes fearlessly.<br/>Undo mistakes instantly.</p>
          </section>

          <section>
            <h3>CLAUDE.md - Project Context</h3>
            <p>Automatically loaded into every conversation</p>
            <pre><code class="language-markdown"># Project: E-commerce API

## Tech Stack
- Python 3.12, FastAPI, SQLAlchemy 2.0
- PostgreSQL 15, Redis for caching
- Pytest for testing

## Architecture
- `/src/api/` - FastAPI routes
- `/src/models/` - SQLAlchemy models
- `/src/services/` - Business logic
- `/src/repositories/` - Data access

## Conventions
- Use dependency injection via FastAPI's Depends()
- All endpoints return Pydantic models
- Write tests in /tests/ mirroring src/ structure
- Use alembic for migrations

## Common Commands
```bash
pytest -xvs                    # Run tests
alembic upgrade head           # Apply migrations
uvicorn src.main:app --reload  # Run dev server
```</code></pre>
          </section>

          <section>
            <h3>Creating Custom Slash Commands</h3>
            <p>Add to <code>.claude/commands/</code></p>
            <pre><code class="language-markdown"># .claude/commands/deploy.md
---
description: Deploy to staging or production
arguments:
  - name: environment
    description: Target environment (staging/production)
    required: true
---

Deploy the application to $ARGUMENTS.environment:

1. First, run the test suite and ensure all tests pass
2. Build the Docker image with tag: $ARGUMENTS.environment-$(date +%Y%m%d)
3. Push to our container registry
4. Update the Kubernetes deployment
5. Wait for rollout to complete
6. Run smoke tests against the new deployment
7. Report the deployment status

If deploying to production, require explicit confirmation before proceeding.</code></pre>
            <p>Usage: <code>/deploy staging</code> or <code>/deploy production</code></p>
          </section>

          <section>
            <h3>Custom Command: Test Coverage</h3>
            <pre><code class="language-markdown"># .claude/commands/test-coverage.md
---
description: Run tests and analyze coverage for specific files
arguments:
  - name: path
    description: File or directory to check coverage for
    required: false
---

Run test coverage analysis:

1. Run: `pytest --cov=$ARGUMENTS.path --cov-report=term-missing`
2. Identify functions/methods with less than 80% coverage
3. For each uncovered section:
   - Explain what the code does
   - Suggest specific test cases to add
   - Write the test code

Focus on:
- Edge cases and error handling
- Boundary conditions
- Integration points

Do NOT write tests for:
- Simple getters/setters
- Framework boilerplate
- Third-party library code</code></pre>
          </section>

          <section>
            <h3>Dynamic Commands with Bash</h3>
            <pre><code class="language-markdown"># .claude/commands/review-recent.md
---
description: Review recent changes in git
arguments:
  - name: since
    description: Time period (e.g., "1 day ago", "1 week ago")
    required: false
    default: "1 day ago"
---

Review all changes since $ARGUMENTS.since:

```bash
git log --since="$ARGUMENTS.since" --oneline
```

For each commit:
1. Show the diff
2. Check for:
   - Security issues (SQL injection, XSS, secrets)
   - Performance problems (N+1 queries, missing indexes)
   - Code quality (error handling, edge cases)
   - Test coverage gaps

Summarize findings by severity (CRITICAL/HIGH/MEDIUM/LOW).</code></pre>
          </section>
        </section>

        <!-- ============================================ -->
        <!-- SECTION 10: MAGIC KEYWORDS -->
        <!-- ============================================ -->
        <section>
          <!-- WHY opener (Sinek) -->
          <section>
            <p class="big-idea">Extended thinking<br/>is now automatic.</p>
          </section>

          <section>
            <h2>9. Magic Keywords</h2>
            <p>What changed in January 2026</p>
          </section>

          <section>
            <h3 style="color: #ff6b6b;">⚠️ Deprecated January 2026</h3>
            <p>Thinking keywords are now <strong>obsolete</strong>:</p>
            <table style="font-size: 0.7em;">
              <tr>
                <th>Old Keyword</th>
                <th>Status</th>
              </tr>
              <tr>
                <td><code style="text-decoration: line-through;">think</code></td>
                <td style="color: #ff6b6b;">Ignored</td>
              </tr>
              <tr>
                <td><code style="text-decoration: line-through;">think hard</code></td>
                <td style="color: #ff6b6b;">Ignored</td>
              </tr>
              <tr>
                <td><code style="text-decoration: line-through;">think harder</code></td>
                <td style="color: #ff6b6b;">Ignored</td>
              </tr>
              <tr>
                <td><code style="text-decoration: line-through;">ultrathink</code></td>
                <td style="color: #ff6b6b;">Ignored</td>
              </tr>
            </table>
            <p class="warning">These words are now treated as plain text</p>
          </section>

          <section>
            <h3>New Behavior (Jan 2026)</h3>
            <div style="font-size: 0.8em; text-align: left;">
              <p><strong style="color: #51cf66;">✓ Thinking enabled by default</strong></p>
              <ul>
                <li>31,999 automatic thinking tokens</li>
                <li>On Opus 4.5, Sonnet 4/4.5, Haiku 4.5</li>
                <li>No keyword needed</li>
              </ul>
            </div>
          </section>

          <section>
            <h3>Control the Thinking Budget</h3>
            <pre><code class="language-bash"># Double the budget (63,999 tokens)
export MAX_THINKING_TOKENS=63999
claude

# Disable thinking
export MAX_THINKING_TOKENS=0
claude

# Or in settings
# alwaysThinkingEnabled: false</code></pre>
            <p class="tip">63,999 tokens = 2x default budget for complex tasks</p>
          </section>

          <section>
            <h3>When to Increase the Budget</h3>
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; font-size: 0.75em; text-align: left;">
              <div style="background: rgba(102,126,234,0.1); padding: 15px; border-radius: 8px;">
                <p style="color: #667eea; margin: 0;"><strong>31,999 (default)</strong></p>
                <ul style="font-size: 0.9em; margin: 10px 0;">
                  <li>Daily tasks</li>
                  <li>Standard refactoring</li>
                  <li>Common debugging</li>
                </ul>
              </div>
              <div style="background: rgba(255,212,59,0.1); padding: 15px; border-radius: 8px;">
                <p style="color: #ffd43b; margin: 0;"><strong>63,999 (MAX)</strong></p>
                <ul style="font-size: 0.9em; margin: 10px 0;">
                  <li>System architecture</li>
                  <li>Multi-file refactoring</li>
                  <li>Performance optimization</li>
                </ul>
              </div>
            </div>
          </section>

          <section>
            <h3>Still Useful Keywords</h3>
            <table style="font-size: 0.7em;">
              <tr>
                <th>Keyword</th>
                <th>Effect</th>
              </tr>
              <tr>
                <td><code>be concise</code></td>
                <td>Shorter responses</td>
              </tr>
              <tr>
                <td><code>step by step</code></td>
                <td>Break down into steps</td>
              </tr>
              <tr>
                <td><code>explain your reasoning</code></td>
                <td>Show thought process</td>
              </tr>
              <tr>
                <td><code>check your work</code></td>
                <td>Verify before responding</td>
              </tr>
            </table>
          </section>

          <section>
            <p class="big-idea">Hard problem?<br/><code style="color: #ffd43b;">MAX_THINKING_TOKENS=63999</code></p>
          </section>
        </section>

        <!-- ============================================ -->
        <!-- SECTION 11: MEMORY & AUTO-COMPACT -->
        <!-- ============================================ -->
        <section>
          <!-- WHY opener (Sinek) -->
          <section>
            <p class="big-idea">Context is finite.<br/>Memory is not.</p>
          </section>

          <section>
            <h2>10. Memory & Auto-Compact</h2>
            <p>How Claude Code manages long sessions</p>
          </section>

          <!-- Key insight (Godin) -->
          <section>
            <p class="big-idea">200K tokens is a lot.<br/>Until it isn't.</p>
            <p class="fragment why-statement">Long sessions fill up. Auto-compact saves you.</p>
          </section>

          <section>
            <h3>How Context Works</h3>
            <p style="margin-bottom: 0.5em;"><strong>Context Window : 200K tokens</strong></p>
            <div style="display: flex; justify-content: center; gap: 20px; margin: 0.8em 0;">
              <div class="fragment" style="background: #2d2d2d; padding: 15px 20px; border-radius: 8px; text-align: center;">
                <p style="margin: 0; color: #51cf66;"><strong>System Prompt</strong></p>
                <p style="margin: 0.3em 0 0 0; font-size: 0.8em; color: #868e96;">~5K tokens</p>
              </div>
              <div class="fragment" style="background: #2d2d2d; padding: 15px 20px; border-radius: 8px; text-align: center;">
                <p style="margin: 0; color: #74c0fc;"><strong>CLAUDE.md</strong></p>
                <p style="margin: 0.3em 0 0 0; font-size: 0.8em; color: #868e96;">~1-10K tokens</p>
              </div>
              <div class="fragment" style="background: #2d2d2d; padding: 15px 20px; border-radius: 8px; text-align: center;">
                <p style="margin: 0; color: #ffd43b;"><strong>Conversation</strong></p>
                <p style="margin: 0.3em 0 0 0; font-size: 0.8em; color: #868e96;">growing...</p>
              </div>
            </div>
            <p class="fragment" style="color: #ff6b6b; font-size: 0.85em;">File reads, code snippets, tool outputs... all count against your 200K limit!</p>
            <p class="fragment tip">Use <code>/context</code> to visualize current context usage</p>
          </section>

          <section>
            <h3>Auto-Compact: The Safety Net</h3>
            <p>When context approaches limits, Claude Code automatically:</p>
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; font-size: 0.8em; text-align: left;">
              <div>
                <p style="color: #51cf66;"><strong>✓ Preserves</strong></p>
                <ul style="font-size: 0.9em;">
                  <li>Key decisions made</li>
                  <li>Files modified</li>
                  <li>Current task state</li>
                  <li>Important context</li>
                </ul>
              </div>
              <div>
                <p style="color: #ff6b6b;"><strong>✗ Discards</strong></p>
                <ul style="font-size: 0.9em;">
                  <li>Verbose tool outputs</li>
                  <li>Raw file contents</li>
                  <li>Redundant info</li>
                  <li>Old conversation turns</li>
                </ul>
              </div>
            </div>
            <p class="warning" style="margin-top: 1em;">Auto-compact is lossy. Critical details can be lost.</p>
          </section>

          <section>
            <h3>/compact - Manual Control</h3>
            <p>What happens when you run <code>/compact</code>:</p>
            <ol style="font-size: 0.85em; text-align: left; margin: 0.8em auto; max-width: 600px;">
              <li class="fragment">Claude summarizes the current conversation</li>
              <li class="fragment">Preserves key facts in compressed form</li>
              <li class="fragment">Clears verbose history</li>
              <li class="fragment">Continues with fresh context headroom</li>
            </ol>
            <p class="fragment tip">Run <code>/compact</code> BEFORE starting a new major task</p>
          </section>

          <section>
            <h3>Best Practices for Long Sessions</h3>
            <ul style="font-size: 0.85em; text-align: left; margin: 0 auto; max-width: 700px; list-style: none;">
              <li class="fragment"><strong>Chunk your work</strong> — one task fully before starting another</li>
              <li class="fragment"><strong>/compact between phases</strong> — clear context after milestones</li>
              <li class="fragment"><strong>Use CLAUDE.md</strong> — critical info survives compaction</li>
              <li class="fragment"><strong>Be specific</strong> — "Fix the login bug" not "Here's all the context..."</li>
            </ul>
          </section>

          <section>
            <h3>Context Budget Mental Model</h3>
            <div style="font-size: 0.75em; max-width: 650px; margin: 0 auto;">
              <div class="fragment" style="display: flex; align-items: center; margin: 0.4em 0;">
                <span style="width: 180px; text-align: left;">System</span>
                <div style="background: #868e96; width: 50px; height: 20px; border-radius: 4px;"></div>
                <span style="margin-left: 10px; color: #868e96;">~5K (fixed)</span>
              </div>
              <div class="fragment" style="display: flex; align-items: center; margin: 0.4em 0;">
                <span style="width: 180px; text-align: left;">CLAUDE.md</span>
                <div style="background: #74c0fc; width: 30px; height: 20px; border-radius: 4px;"></div>
                <span style="margin-left: 10px; color: #868e96;">~3K (fixed)</span>
              </div>
              <div class="fragment" style="display: flex; align-items: center; margin: 0.4em 0;">
                <span style="width: 180px; text-align: left;">Task 1 <span style="color: #51cf66;">✓</span> → /compact</span>
                <div style="background: #51cf66; width: 20px; height: 20px; border-radius: 4px;"></div>
                <span style="margin-left: 10px; color: #868e96;">~2K summary</span>
              </div>
              <div class="fragment" style="display: flex; align-items: center; margin: 0.4em 0;">
                <span style="width: 180px; text-align: left;">Task 2 <span style="color: #51cf66;">✓</span> → /compact</span>
                <div style="background: #51cf66; width: 10px; height: 20px; border-radius: 4px;"></div>
                <span style="margin-left: 10px; color: #868e96;">~1K summary</span>
              </div>
              <div class="fragment" style="display: flex; align-items: center; margin: 0.4em 0;">
                <span style="width: 180px; text-align: left;">Task 3 <span style="color: #ffd43b;">●</span> active</span>
                <div style="background: #ffd43b; width: 120px; height: 20px; border-radius: 4px;"></div>
                <span style="margin-left: 10px; color: #868e96;">~25K</span>
              </div>
            </div>
            <div class="fragment" style="margin-top: 1em; font-size: 0.8em;">
              <span style="color: #ff6b6b;">Without /compact: ~68K</span> → <span style="color: #51cf66;">With /compact: ~11K</span>
            </div>
          </section>

          <section>
            <h3>When Headroom Runs Low</h3>
            <ul style="font-size: 0.85em; text-align: left; margin: 0 auto; max-width: 700px; list-style: none;">
              <li class="fragment"><span style="color: #ff6b6b;">✗</span> Can't read large files — no space left</li>
              <li class="fragment"><span style="color: #ff6b6b;">✗</span> Auto-compact triggers — details get lost</li>
              <li class="fragment"><span style="color: #ff6b6b;">✗</span> Early context forgotten — "don't touch X" ignored</li>
            </ul>
            <p class="fragment" style="margin-top: 1em; color: #868e96; font-size: 0.8em;">Claude stays smart — but loses memory</p>
          </section>

          <section>
            <h3>3 Best Practices</h3>
            <ul style="font-size: 0.9em; text-align: left; margin: 0 auto; max-width: 600px; list-style: none;">
              <li class="fragment"><strong style="color: #51cf66;">/compact</strong> between major tasks</li>
              <li class="fragment"><strong style="color: #74c0fc;">CLAUDE.md</strong> for critical info (survives compaction)</li>
              <li class="fragment"><strong style="color: #ffd43b;">Focused sessions</strong> rather than 8h marathons</li>
            </ul>
          </section>
        </section>

        <!-- ============================================ -->
        <!-- PART 4: CLAUDE CODE ADVANCED -->
        <!-- ============================================ -->
        <section data-background-gradient="linear-gradient(135deg, #e53935 0%, #e35d5b 100%)">
          <div class="part-header">
            <h2>Part 4</h2>
            <h1>Claude Code Advanced</h1>
            <p class="why-statement">Extend, integrate, automate</p>
          </div>
        </section>

        <!-- ============================================ -->
        <!-- SECTION 13: MCP SERVERS -->
        <!-- ============================================ -->
        <section>
          <!-- WHY opener (Sinek) -->
          <section>
            <p class="big-idea">Claude is smart.<br/>MCP makes it connected.</p>
          </section>

          <section>
            <h2>12. MCP Servers</h2>
            <p>Plug Claude into everything</p>
          </section>

          <!-- Key insight (Godin) -->
          <section>
            <p class="big-idea">One protocol.<br/>Infinite integrations.</p>
            <p class="fragment why-statement">MCP is the USB of AI tools.</p>
          </section>

          <section>
            <h3>What is MCP?</h3>
            <p style="font-size: 0.85em; margin-bottom: 0.8em;"><strong>Model Context Protocol</strong> — standardized way to connect AI to external tools</p>
            <div style="display: flex; align-items: center; justify-content: center; gap: 20px; margin: 1em 0;">
              <div style="background: #2d2d2d; padding: 20px 25px; border-radius: 10px; border: 2px solid #74c0fc;">
                <p style="margin: 0; color: #74c0fc; font-weight: bold;">Claude Code</p>
              </div>
              <div style="display: flex; flex-direction: column; align-items: center;">
                <span style="color: #51cf66;">◄─────────────►</span>
                <span style="font-size: 0.7em; color: #868e96;">JSON-RPC</span>
              </div>
              <div style="background: #2d2d2d; padding: 20px 25px; border-radius: 10px; border: 2px solid #ffd43b;">
                <p style="margin: 0; color: #ffd43b; font-weight: bold;">MCP Server</p>
                <p style="margin: 0.3em 0 0 0; font-size: 0.7em; color: #868e96;">DB, API, Tools...</p>
              </div>
            </div>
            <ul style="font-size: 0.75em; text-align: left; margin: 0.5em auto; max-width: 500px;">
              <li class="fragment">Servers expose <strong>tools</strong> (actions) and <strong>resources</strong> (data)</li>
              <li class="fragment">Runs locally — your data stays on your machine</li>
            </ul>
          </section>

          <section>
            <h3>Configuring MCP Servers</h3>
            <p>Add to <code>.mcp.json</code> or <code>~/.claude/settings.json</code></p>
            <pre><code class="language-json">{
  "mcpServers": {
    "postgres": {
      "command": "npx",
      "args": ["-y", "@modelcontextprotocol/server-postgres"],
      "env": {
        "DATABASE_URL": "postgresql://user:pass@localhost/mydb"
      }
    },
    "github": {
      "command": "npx",
      "args": ["-y", "@modelcontextprotocol/server-github"],
      "env": {
        "GITHUB_TOKEN": "${GITHUB_TOKEN}"
      }
    },
    "filesystem": {
      "command": "npx",
      "args": ["-y", "@modelcontextprotocol/server-filesystem", "/path/to/allowed/dir"]
    }
  }
}</code></pre>
            <p class="tip">For Postgres MCP: add the database to your docker-compose.dev.yml for easy local setup</p>
          </section>

          <section>
            <h3>Popular MCP Servers</h3>
            <table style="font-size: 0.6em;">
              <tr><th>Server</th><th>Purpose</th><th>Package</th></tr>
              <tr><td>PostgreSQL</td><td>Query databases</td><td>@modelcontextprotocol/server-postgres</td></tr>
              <tr><td>GitHub</td><td>Repos, PRs, issues</td><td>@modelcontextprotocol/server-github</td></tr>
              <tr><td>Puppeteer</td><td>Browser automation</td><td>@modelcontextprotocol/server-puppeteer</td></tr>
              <tr><td>Slack</td><td>Send messages</td><td>@modelcontextprotocol/server-slack</td></tr>
              <tr><td>Memory</td><td>Persistent memory</td><td>@modelcontextprotocol/server-memory</td></tr>
              <tr><td>Context7</td><td>Live documentation</td><td>@anthropic/context7</td></tr>
            </table>
            <p><a href="https://github.com/modelcontextprotocol/servers">github.com/modelcontextprotocol/servers</a></p>
          </section>

          <section>
            <h3>Building a Custom MCP Server</h3>
            <pre><code class="language-python"># simple_mcp_server.py
from mcp.server import Server
from mcp.types import Tool, TextContent

server = Server("my-api-server")

@server.tool()
async def search_internal_docs(query: str) -> str:
    """Search our internal documentation.

    Args:
        query: Search terms to find relevant docs
    """
    # Your actual search logic here
    results = internal_search_api(query)
    return f"Found {len(results)} results:\n" + "\n".join(results)

@server.tool()
async def create_ticket(title: str, description: str, priority: str = "medium") -> str:
    """Create a ticket in our internal system.

    Args:
        title: Ticket title
        description: Detailed description
        priority: low, medium, high, or critical
    """
    ticket_id = ticket_system.create(title, description, priority)
    return f"Created ticket {ticket_id}"

if __name__ == "__main__":
    server.run()</code></pre>
          </section>

          <section>
            <h3>MCP Server with Resources</h3>
            <pre><code class="language-python"># Resources provide data Claude can read
from mcp.server import Server
from mcp.types import Resource

server = Server("config-server")

@server.resource("config://app")
async def get_app_config() -> Resource:
    """Current application configuration"""
    config = load_config()
    return Resource(
        uri="config://app",
        name="Application Config",
        mimeType="application/json",
        text=json.dumps(config, indent=2)
    )

@server.resource("config://feature-flags")
async def get_feature_flags() -> Resource:
    """Active feature flags"""
    flags = get_feature_flags_from_db()
    return Resource(
        uri="config://feature-flags",
        name="Feature Flags",
        mimeType="application/json",
        text=json.dumps(flags)
    )

# Claude can now read these resources to understand your system</code></pre>
          </section>

          <section>
            <p class="big-idea">Up-to-date docs.<br/>Always.</p>
            <p class="fragment why-statement">Context7: Real-time documentation fetching</p>
          </section>

          <section>
            <h3>Context7: Live Documentation MCP</h3>
            <pre><code class="language-json">// .mcp.json
{
  "mcpServers": {
    "context7": {
      "command": "npx",
      "args": ["-y", "@anthropic/claude-code-plugin-context7"]
    }
  }
}

// Now Claude can fetch current docs:
"What's the latest API for React Query v5?"
"How do I use the new Prisma client extensions?"
"Show me Next.js 15 server actions syntax"

// Claude fetches from official docs, not training data</code></pre>
            <p class="tip">No more outdated examples from 2023</p>
          </section>

          <section>
            <h3>Context7: How It Works</h3>
            <pre><code class="language-text"># 1. Claude identifies you need docs
"Help me implement authentication with NextAuth v5"

# 2. Context7 resolves the library
→ resolve-library-id("NextAuth", "authentication")
→ Returns: /nextauthjs/next-auth

# 3. Context7 fetches relevant docs
→ query-docs("/nextauthjs/next-auth", "setup authentication")
→ Returns: Current setup guide, API reference, examples

# 4. Claude uses fresh documentation
→ Gives you code that actually works today</code></pre>
          </section>

          <section>
            <h3>More Essential MCPs</h3>
            <table style="font-size: 0.55em;">
              <tr><th>MCP</th><th>What It Does</th><th>Use Case</th></tr>
              <tr>
                <td><strong>Notion</strong></td>
                <td>Read/write Notion pages</td>
                <td>Update docs, read specs, manage wikis</td>
              </tr>
              <tr>
                <td><strong>Linear</strong></td>
                <td>Issue tracking</td>
                <td>Create issues, update status, read backlog</td>
              </tr>
              <tr>
                <td><strong>Jira/Confluence</strong></td>
                <td>Atlassian suite</td>
                <td>Enterprise project management</td>
              </tr>
              <tr>
                <td><strong>Sentry</strong></td>
                <td>Error tracking</td>
                <td>Investigate errors, get stack traces</td>
              </tr>
              <tr>
                <td><strong>Datadog</strong></td>
                <td>Monitoring</td>
                <td>Check metrics, investigate incidents</td>
              </tr>
              <tr>
                <td><strong>Playwright</strong></td>
                <td>Browser automation</td>
                <td>E2E testing, scraping, screenshots</td>
              </tr>
            </table>
          </section>

          <section>
            <h3>Built-in Capabilities</h3>
            <p style="font-size: 0.9em; margin-bottom: 1em;">These features work out of the box — no MCP needed:</p>
            <table style="font-size: 0.7em;">
              <tr><th>Capability</th><th>Status</th><th>Notes</th></tr>
              <tr>
                <td><strong>Web Search</strong></td>
                <td style="color: #51cf66;">Built-in</td>
                <td>Claude can search the web natively</td>
              </tr>
              <tr>
                <td><strong>File System</strong></td>
                <td style="color: #51cf66;">Built-in</td>
                <td>Read/Write/Edit tools included</td>
              </tr>
              <tr>
                <td><strong>Bash/Terminal</strong></td>
                <td style="color: #51cf66;">Built-in</td>
                <td>Execute commands directly</td>
              </tr>
              <tr>
                <td><strong>Git Operations</strong></td>
                <td style="color: #51cf66;">Built-in</td>
                <td>Via Bash tool</td>
              </tr>
            </table>
            <p class="tip" style="margin-top: 1em;">MCP servers extend beyond built-in capabilities (databases, APIs, etc.)</p>
          </section>

          <section>
            <h3>Notion MCP: Living Documentation</h3>
            <pre><code class="language-bash"># Configure Notion MCP
{
  "notion": {
    "command": "npx",
    "args": ["-y", "@notionhq/mcp-notion"],
    "env": {
      "NOTION_API_KEY": "${NOTION_API_KEY}"
    }
  }
}

# Now you can:
"Read our API spec from Notion page [page-id]"
"Update the deployment checklist with today's release"
"Create a new RFC page for the caching proposal"
"Search Notion for authentication documentation"</code></pre>
          </section>

          <section>
            <h3>Linear MCP: Issue-Driven Development</h3>
            <pre><code class="language-bash"># Common Linear workflows:

# Read context before coding
"What's the full description of LIN-1234?"

# Update progress
"Add a comment to LIN-1234: PR ready for review"

# Create issues from code
"I found a bug in auth/login.ts - create a Linear issue"

# Close the loop
"Mark LIN-1234 as done and link to PR #567"

# Sprint planning
"Show me all unestimated issues in the current sprint"</code></pre>
            <p class="punch-line">Your issue tracker,<br/>inside your terminal.</p>
          </section>
        </section>

        <!-- ============================================ -->
        <!-- SECTION 14: MCP TOOLS FOR QUALITY -->
        <!-- ============================================ -->
        <section>
          <!-- WHY opener (Sinek) -->
          <section>
            <p class="big-idea">Claude can browse.<br/>Claude can query.<br/>Claude can test.</p>
          </section>

          <section>
            <h2>13. MCP Tools for Quality</h2>
            <p>Connect to real systems, verify real results</p>
          </section>

          <section>
            <h3>Playwright MCP for E2E Testing</h3>
            <pre><code class="language-json">// .mcp.json
{
  "mcpServers": {
    "playwright": {
      "command": "npx",
      "args": ["@anthropic/mcp-playwright"]
    }
  }
}</code></pre>
            <pre><code class="language-bash"># In Claude Code

"Use Playwright to test our checkout flow:

1. Navigate to http://localhost:3000
2. Add a product to cart
3. Go to checkout
4. Fill in shipping info (use test data)
5. Submit order
6. Verify confirmation page

Take screenshots at each step.
If any step fails, debug and tell me what's broken.
Save screenshots to /test-results/"</code></pre>
          </section>

          <section>
            <h3>Database MCP for Data Validation</h3>
            <pre><code class="language-json">// .mcp.json
{
  "mcpServers": {
    "postgres": {
      "command": "npx",
      "args": ["-y", "@modelcontextprotocol/server-postgres"],
      "env": {
        "DATABASE_URL": "postgresql://dev:dev@localhost:5432/myapp_dev"
      }
    }
  }
}</code></pre>
            <pre><code class="language-bash"># In Claude Code

"Check data integrity after our migration:

1. Verify all users have valid email format
2. Check for orphaned records (orders without users)
3. Validate foreign key relationships
4. Find duplicate entries
5. Check enum fields have valid values

For each issue found:
- Show sample of bad data
- Suggest fix query
- Estimate impact (how many rows)

Don't run fix queries without my approval."</code></pre>
          </section>

          <section>
            <h3>GitHub MCP for CI/CD Integration</h3>
            <pre><code class="language-bash"># Analyze PR before merge

"Using GitHub MCP, review PR #123:

1. Get the diff and file changes
2. Check CI status - are all checks passing?
3. Review comments - any unresolved threads?
4. Look at the linked issue - does PR address it?

Then analyze:
- Security: Any obvious vulnerabilities?
- Performance: Any N+1 queries, missing indexes?
- Tests: Is coverage adequate?
- Docs: Are changes documented?

Generate a review summary with:
- Approval recommendation (approve/changes requested)
- Specific comments to add
- Questions for the author"</code></pre>
          </section>

          <section>
            <h3>Multi-MCP Quality Pipeline</h3>
            <pre><code class="language-json">// .mcp.json - Full quality stack
{
  "mcpServers": {
    "playwright": {
      "command": "npx",
      "args": ["@anthropic/mcp-playwright"]
    },
    "postgres": {
      "command": "npx",
      "args": ["-y", "@modelcontextprotocol/server-postgres"],
      "env": { "DATABASE_URL": "${DATABASE_URL}" }
    },
    "github": {
      "command": "npx",
      "args": ["-y", "@modelcontextprotocol/server-github"],
      "env": { "GITHUB_TOKEN": "${GITHUB_TOKEN}" }
    },
    "filesystem": {
      "command": "npx",
      "args": ["-y", "@modelcontextprotocol/server-filesystem", "."]
    }
  }
}</code></pre>
          </section>

          <section>
            <h3>Quality Gate Workflow</h3>
            <pre><code class="language-bash"># Complete quality check before release

"Run our pre-release quality gates:

1. Code Quality (filesystem MCP)
   - Run: npm run lint
   - Run: npm run typecheck
   - Check for console.logs, debugger statements

2. Tests (filesystem MCP)
   - Run: npm run test:unit
   - Run: npm run test:integration
   - Report coverage

3. E2E (Playwright MCP)
   - Run critical path tests
   - Screenshot any failures

4. Database (Postgres MCP)
   - Run pending migrations on staging
   - Verify no breaking schema changes

5. PR Status (GitHub MCP)
   - All checks passing?
   - Required reviews approved?
   - No merge conflicts?

Generate release report with go/no-go recommendation."</code></pre>
          </section>
        </section>

        <!-- ============================================ -->
        <!-- SECTION 15: GIT WORKFLOW COMPLETE -->
        <!-- ============================================ -->
        <section>
          <!-- WHY opener (Sinek) -->
          <section>
            <p class="big-idea">Git is muscle memory.<br/>Let Claude flex it.</p>
          </section>

          <section>
            <h2>14. Git Workflow Complete</h2>
            <p>From commit to PR, all in one conversation</p>
          </section>

          <section>
            <h3>The /commit Command</h3>
            <pre><code class="language-bash"># Basic commit
/commit

# Claude will:
# 1. Run git status to see changes
# 2. Run git diff to understand changes
# 3. Generate meaningful commit message
# 4. Ask for confirmation
# 5. Execute git commit

# With message hint
/commit "fix auth bug"

# Claude refines your hint into proper message</code></pre>
          </section>

          <section>
            <h3>Commit Message Quality</h3>
            <pre><code class="language-bash"># What Claude generates:
fix(auth): prevent session hijacking on token refresh

- Add CSRF token validation to refresh endpoint
- Implement secure cookie flags (HttpOnly, SameSite)
- Add rate limiting to prevent brute force attempts

Closes #142

# NOT this:
# "fixed stuff"
# "updates"
# "WIP"</code></pre>
          </section>

          <!-- VISUAL (Jobs) -->
          <section>
            <h3>PR Creation Flow</h3>
            <pre><code class="language-bash"># Ask Claude to create a PR
"Create a PR for this branch"

# Claude will:
# 1. Check git status and branch
# 2. Analyze all commits since branch point
# 3. Generate PR title and description
# 4. Run: gh pr create --title "..." --body "..."
# 5. Return the PR URL

# You can guide it:
"Create a PR, this fixes the login timeout issue"</code></pre>
          </section>

          <section>
            <h3>PR Review with /review</h3>
            <pre><code class="language-bash"># Review current branch against main
/review

# Review specific PR by number
/review 123

# Review with focus
"Review PR #123 focusing on security implications"

# Claude fetches PR diff and provides:
# - Code quality analysis
# - Potential bugs
# - Security concerns
# - Suggestions for improvement</code></pre>
          </section>

          <section>
            <h3>Branch Management</h3>
            <pre><code class="language-bash"># Create feature branch
"Create a branch for the user-settings feature"
# → git checkout -b feature/user-settings

# Merge with strategy
"Merge main into this branch, resolve conflicts
preferring our changes for the config files"

# Rebase workflow
"Rebase this branch on main and
squash the WIP commits"</code></pre>
          </section>

          <section>
            <h3>Git Conflict Resolution</h3>
            <pre><code class="language-bash"># When conflicts occur:
"I have merge conflicts in these files, help me resolve:
- src/api/auth.ts
- src/config/settings.ts

Context: We're adding OAuth support while main
added SSO. We need both features to work together."

# Claude reads both versions, understands context,
# and proposes unified resolution</code></pre>
          </section>

          <!-- PUNCH LINE (Jobs) -->
          <section>
            <p class="punch-line">Write code.<br/>Claude writes commits.</p>
            <p class="fragment tip">Your git history will thank you.</p>
          </section>
        </section>

        <!-- ============================================ -->
        <!-- SECTION 16: IDE INTEGRATIONS -->
        <!-- ============================================ -->
        <section>
          <!-- WHY opener (Sinek) -->
          <section>
            <p class="big-idea">Terminal purist?<br/>Or GUI lover?<br/>Both work.</p>
          </section>

          <section>
            <h2>15. IDE Integrations</h2>
            <p>Claude Code in your favorite editor</p>
          </section>

          <section>
            <h3>VS Code Extension</h3>
            <pre><code class="language-bash"># Install from marketplace
ext install anthropic.claude-code

# Or via command line
code --install-extension anthropic.claude-code

# Features:
# - Inline chat (Cmd+L)
# - Code actions (right-click)
# - Terminal integration
# - Diff view for edits</code></pre>
          </section>

          <section>
            <h3>JetBrains Plugin</h3>
            <pre><code class="language-bash"># Install from JetBrains Marketplace
# Preferences → Plugins → Search "Claude"

# Supported IDEs:
# - IntelliJ IDEA
# - WebStorm
# - PyCharm
# - GoLand
# - Rider

# Features:
# - Tool window integration
# - Context-aware suggestions
# - Integrated terminal</code></pre>
          </section>

          <!-- CONTRAST (Duarte) -->
          <section>
            <h3>CLI vs IDE: When to Use Each</h3>
            <div style="display: flex; justify-content: space-around; font-size: 0.75em;">
              <div class="section-why">
                <p style="color: #ffd43b;">CLI Best For:</p>
                <ul style="margin: 0;">
                  <li>Complex multi-file tasks</li>
                  <li>Git operations</li>
                  <li>Server/SSH work</li>
                  <li>Automation scripts</li>
                  <li>Full context control</li>
                </ul>
              </div>
              <div class="section-why">
                <p style="color: #748ffc;">IDE Best For:</p>
                <ul style="margin: 0;">
                  <li>Quick inline edits</li>
                  <li>Visual diff review</li>
                  <li>Code navigation</li>
                  <li>Debugging sessions</li>
                  <li>Learning new codebase</li>
                </ul>
              </div>
            </div>
          </section>

          <section>
            <h3 style="color: #ffd43b;">The Best of Both Worlds</h3>
            <p style="font-size: 1.2em; margin-top: 0.5em;">Claude Code VS Code Extension</p>
            <div style="font-size: 0.85em; margin-top: 1em;">
              <p class="fragment">• Full CLI power inside your editor</p>
              <p class="fragment">• Terminal panel with Claude Code</p>
              <p class="fragment">• All MCP servers and plugins work</p>
              <p class="fragment">• Visual context + terminal efficiency</p>
            </div>
            <p class="fragment punch-line" style="margin-top: 1em;">Recommended setup for most developers.</p>
          </section>

          <section>
            <h3>Cursor vs Claude Code</h3>
            <table style="font-size: 0.65em;">
              <tr>
                <th></th>
                <th>Claude Code CLI</th>
                <th>VS Code Extension</th>
                <th>Cursor</th>
              </tr>
              <tr>
                <td>Interface</td>
                <td>Pure terminal</td>
                <td style="color: #51cf66;">Terminal in IDE</td>
                <td>VS Code fork</td>
              </tr>
              <tr>
                <td>MCP Support</td>
                <td style="color: #51cf66;">Full</td>
                <td style="color: #51cf66;">Full</td>
                <td>Limited</td>
              </tr>
              <tr>
                <td>Plugins</td>
                <td style="color: #51cf66;">Full</td>
                <td style="color: #51cf66;">Full</td>
                <td>Extensions only</td>
              </tr>
              <tr>
                <td>Visual context</td>
                <td>None</td>
                <td style="color: #51cf66;">Full IDE</td>
                <td style="color: #51cf66;">Full IDE</td>
              </tr>
              <tr>
                <td>Automation</td>
                <td style="color: #51cf66;">Headless mode</td>
                <td style="color: #51cf66;">Headless mode</td>
                <td>GUI only</td>
              </tr>
            </table>
          </section>

          <section>
            <h3>Vim/Neovim Integration</h3>
            <pre><code class="language-lua">-- Using claude.nvim plugin
require('claude').setup({
  -- Your API key (or use env var)
  api_key = os.getenv('ANTHROPIC_API_KEY'),

  -- Keymaps
  keymaps = {
    ask = '<leader>ca',      -- Ask Claude
    edit = '<leader>ce',     -- Edit selection
    review = '<leader>cr',   -- Review code
  }
})

-- Or just use terminal in split
vim.keymap.set('n', '<leader>cc', ':terminal claude<CR>')</code></pre>
          </section>

          <section>
            <p class="punch-line">Use what fits your flow.<br/>Claude adapts.</p>
          </section>
        </section>

        <!-- ============================================ -->
        <!-- SECTION 17: HOOKS DEEP DIVE -->
        <!-- ============================================ -->
        <section>
          <!-- WHY opener (Sinek) -->
          <section>
            <p class="big-idea">Trust Claude.<br/>But verify automatically.</p>
          </section>

          <section>
            <h2>16. Hooks Deep Dive</h2>
            <p>Event-driven automation for Claude Code</p>
          </section>

          <section>
            <h3>What Are Hooks?</h3>
            <ul>
              <li>Scripts that run in response to Claude Code events</li>
              <li>Can <strong>validate</strong>, <strong>modify</strong>, or <strong>block</strong> actions</li>
              <li>Written in Markdown with YAML frontmatter</li>
              <li>Stored in <code>.claude/hooks/</code></li>
            </ul>
          </section>

          <section>
            <h3>Hook Events</h3>
            <table style="font-size: 0.65em;">
              <tr>
                <th>Event</th>
                <th>When</th>
                <th>Use Case</th>
              </tr>
              <tr>
                <td><code>PreToolUse</code></td>
                <td>Before tool runs</td>
                <td>Validate, block dangerous ops</td>
              </tr>
              <tr>
                <td><code>PostToolUse</code></td>
                <td>After tool completes</td>
                <td>Logging, notifications</td>
              </tr>
              <tr>
                <td><code>Stop</code></td>
                <td>Claude finishes</td>
                <td>Run tests, lint check</td>
              </tr>
              <tr>
                <td><code>SessionStart</code></td>
                <td>Session begins</td>
                <td>Load context, setup</td>
              </tr>
              <tr>
                <td><code>SessionEnd</code></td>
                <td>Session closes</td>
                <td>Cleanup, reporting</td>
              </tr>
              <tr>
                <td><code>Notification</code></td>
                <td>Background complete</td>
                <td>Desktop alerts</td>
              </tr>
            </table>
          </section>

          <section>
            <h3>PreToolUse: Block Dangerous Commands</h3>
            <pre><code class="language-yaml"># .claude/hooks/block-dangerous.md
---
event: PreToolUse
tools: [Bash]
---

# Block Dangerous Commands

Check if the command contains dangerous patterns.
If it does, respond with BLOCK and explanation.

Dangerous patterns:
- `rm -rf /` or `rm -rf ~`
- `chmod 777`
- `curl | sh` (piped execution)
- Any command with `--force` on protected branches

If safe, respond with: ALLOW</code></pre>
          </section>

          <section>
            <h3>PreToolUse: Enforce Code Standards</h3>
            <pre><code class="language-yaml"># .claude/hooks/code-standards.md
---
event: PreToolUse
tools: [Edit, Write]
---

# Enforce Code Standards

Before any code edit, verify:

1. No console.log() left in production code
2. All functions have JSDoc comments
3. No TODO without ticket reference
4. No hardcoded secrets or API keys

If violation found, respond: BLOCK
"Cannot edit: [specific violation]"

Otherwise: ALLOW</code></pre>
          </section>

          <section>
            <h3>PostToolUse: Auto-format</h3>
            <pre><code class="language-yaml"># .claude/hooks/auto-format.md
---
event: PostToolUse
tools: [Edit, Write]
---

# Auto-Format After Edits

After any file edit, run the project's formatter:

For .ts/.tsx files: `npx prettier --write {file}`
For .py files: `black {file}`
For .go files: `gofmt -w {file}`

Log the result but don't block.</code></pre>
          </section>

          <section>
            <h3>Stop Hook: Run Tests</h3>
            <pre><code class="language-yaml"># .claude/hooks/run-tests.md
---
event: Stop
---

# Run Tests After Session

When Claude completes a task:

1. Identify which files were modified
2. Find related test files
3. Run: `npm test -- --findRelatedTests {files}`
4. Report results summary

If tests fail, suggest Claude fix them.</code></pre>
          </section>

          <section>
            <h3>Hook Execution Flow</h3>
            <pre class="mermaid">flowchart LR
    A[User Prompt] --> B[Claude Plans]
    B --> C{PreToolUse<br/>Hook}
    C -->|ALLOW| D[Tool Executes]
    C -->|BLOCK| E[Claude Adjusts]
    E --> B
    D --> F{PostToolUse<br/>Hook}
    F --> G[Continue/Stop]
    G --> H{Stop Hook}
    H --> I[Tests/Lint]</pre>
          </section>

          <section>
            <p class="punch-line">Hooks are your safety net.<br/>Claude is your accelerator.</p>
          </section>
        </section>

        <!-- ============================================ -->
        <!-- SECTION 18: CONFIGURATION MASTERY -->
        <!-- ============================================ -->
        <section>
          <!-- WHY opener (Sinek) -->
          <section>
            <p class="big-idea">Every team is different.<br/>Configure Claude to match.</p>
          </section>

          <section>
            <h2>17. Configuration Mastery</h2>
            <p>settings.json, environment, and hierarchy</p>
          </section>

          <section>
            <h3>Configuration Hierarchy</h3>
            <pre><code class="language-bash"># Load order (later overrides earlier):
1. ~/.claude/settings.json         # Global defaults
2. ./.claude/settings.json         # Project settings
3. ./.claude/settings.local.json   # Local overrides (gitignored)
4. Environment variables           # Runtime overrides
5. Command-line flags              # Immediate overrides</code></pre>
          </section>

          <section>
            <h3>Global Settings (~/.claude/settings.json)</h3>
            <pre><code class="language-json">{
  "model": "claude-sonnet-4-20250514",
  "theme": "dark",
  "permissions": {
    "allow": [
      "Read(**)",
      "Glob(**)",
      "Grep(**)"
    ],
    "deny": [
      "Bash(rm -rf *)",
      "Bash(sudo *)"
    ]
  },
  "mcpServers": {
    "filesystem": {
      "command": "npx",
      "args": ["-y", "@anthropic/mcp-filesystem", "/"]
    }
  }
}</code></pre>
          </section>

          <section>
            <h3>Project Settings (.claude/settings.json)</h3>
            <pre><code class="language-json">{
  "model": "claude-sonnet-4-20250514",
  "permissions": {
    "allow": [
      "Bash(npm *)",
      "Bash(npx *)",
      "Bash(git *)",
      "Edit(src/**)",
      "Write(src/**)"
    ],
    "deny": [
      "Edit(*.lock)",
      "Bash(rm -rf node_modules)"
    ]
  },
  "hooks": ["hooks/*.md"],
  "commands": ["commands/*.md"]
}</code></pre>
          </section>

          <section>
            <h3>Local Overrides (gitignored)</h3>
            <pre><code class="language-json">// .claude/settings.local.json
// Add to .gitignore!
{
  "model": "claude-opus-4-20250514",
  "permissions": {
    "allow": [
      "Bash(docker *)",
      "Bash(kubectl *)"
    ]
  },
  "env": {
    "DATABASE_URL": "postgresql://localhost:5432/dev"
  }
}</code></pre>
            <p class="tip" style="font-size: 0.8em;">Use for personal preferences and local secrets</p>
          </section>

          <section>
            <h3>Environment Variables</h3>
            <pre><code class="language-bash"># API configuration
export ANTHROPIC_API_KEY="sk-ant-..."

# Model override
export CLAUDE_MODEL="claude-opus-4-20250514"

# Disable specific tools
export CLAUDE_DISABLE_TOOLS="Bash"

# Custom MCP server path
export MCP_SERVER_PATH="/custom/path"

# Debug mode
export CLAUDE_DEBUG=1</code></pre>
          </section>

          <section>
            <h3>Permission Patterns</h3>
            <pre><code class="language-json">{
  "permissions": {
    "allow": [
      "Read(**)",              // All reads
      "Edit(src/**/*.ts)",     // TS files in src
      "Bash(npm test*)",       // Test commands
      "Bash(git add *)",       // Git staging
      "Bash(git commit *)"     // Git commits
    ],
    "deny": [
      "Edit(*.lock)",          // Lock files
      "Edit(.env*)",           // Env files
      "Bash(*--force*)",       // Force flags
      "Bash(rm -rf *)",        // Dangerous removes
      "Write(/etc/*)"          // System files
    ]
  }
}</code></pre>
          </section>

          <section>
            <p class="punch-line">Configure once.<br/>Enforce everywhere.</p>
          </section>
        </section>

        <!-- ============================================ -->
        <!-- ============================================ -->
        <!-- SECTION 19: INTEGRATED WORKFLOW -->
        <!-- ============================================ -->
        <section>
          <!-- WHY opener (Sinek) -->
          <section>
            <p class="big-idea">Ticket → Code → PR.<br/>One conversation.</p>
          </section>

          <section>
            <h2>18. Integrated Workflow</h2>
            <p>Jira + GitHub + Code = Seamless</p>
          </section>

          <section>
            <h3>The Power of Integration</h3>
            <ul>
              <li><strong>Jira MCP</strong>: Read tickets, update status, add comments</li>
              <li><strong>GitHub CLI</strong>: PRs, issues, reviews, releases</li>
              <li><strong>Local Codebase</strong>: Actual implementation</li>
              <li><strong>Claude</strong>: Orchestrates the entire workflow</li>
            </ul>
            <pre><code class="language-bash"># .mcp.json configuration
{
  "mcpServers": {
    "atlassian": {
      "command": "npx",
      "args": ["-y", "@anthropics/mcp-atlassian"],
      "env": {
        "JIRA_URL": "https://company.atlassian.net",
        "JIRA_EMAIL": "${JIRA_EMAIL}",
        "JIRA_API_TOKEN": "${JIRA_API_TOKEN}"
      }
    }
  }
}</code></pre>
          </section>

          <section>
            <h3>Step 1: Get Your Jira API Token</h3>
            <pre><code class="language-bash"># 1. Go to Atlassian account settings
https://id.atlassian.com/manage-profile/security/api-tokens

# 2. Click "Create API token"
# 3. Name it: "Claude Code Integration"
# 4. Copy the token immediately (shown only once!)

# 5. Store securely in your shell profile
# ~/.zshrc or ~/.bashrc
export JIRA_EMAIL="your.email@company.com"
export JIRA_API_TOKEN="ATATT3xFfGF0..."  # Your token

# 6. Reload shell
source ~/.zshrc

# Verify it works
echo $JIRA_API_TOKEN | head -c 10  # Should show first 10 chars</code></pre>
          </section>

          <section>
            <h3>Step 2: Configure MCP Server</h3>
            <pre><code class="language-json">// Option A: Project-level (.mcp.json in repo root)
{
  "mcpServers": {
    "atlassian": {
      "command": "npx",
      "args": ["-y", "@anthropics/mcp-atlassian"],
      "env": {
        "JIRA_URL": "https://yourcompany.atlassian.net",
        "JIRA_EMAIL": "${JIRA_EMAIL}",
        "JIRA_API_TOKEN": "${JIRA_API_TOKEN}"
      }
    }
  }
}

// Option B: User-level (~/.claude/.mcp.json)
// Same config, but applies to ALL projects</code></pre>
            <p class="tip">Use <code>${VAR}</code> syntax to reference environment variables - never hardcode tokens!</p>
          </section>

          <section>
            <h3>Step 3: Verify Connection</h3>
            <pre><code class="language-bash"># In Claude Code, test the connection:

"Use the Jira MCP to list my assigned issues.
Show the issue key, summary, and status."

# Expected output:
# ✓ Connected to Jira at yourcompany.atlassian.net
# Found 5 issues assigned to you:
# | Key      | Summary              | Status      |
# |----------|---------------------|-------------|
# | PROJ-123 | Add user auth       | In Progress |
# | PROJ-456 | Fix login bug       | To Do       |
# ...

# If it fails, check:
# 1. JIRA_URL has https:// and .atlassian.net
# 2. JIRA_EMAIL matches your Atlassian account
# 3. API token is valid and not expired</code></pre>
          </section>

          <section>
            <h3>Jira + Confluence Together</h3>
            <pre><code class="language-json">// .mcp.json - Full Atlassian integration
{
  "mcpServers": {
    "atlassian": {
      "command": "npx",
      "args": ["-y", "@anthropics/mcp-atlassian"],
      "env": {
        // Jira configuration
        "JIRA_URL": "https://company.atlassian.net",
        "JIRA_EMAIL": "${JIRA_EMAIL}",
        "JIRA_API_TOKEN": "${JIRA_API_TOKEN}",

        // Confluence configuration (same token works!)
        "CONFLUENCE_URL": "https://company.atlassian.net/wiki",
        "CONFLUENCE_EMAIL": "${JIRA_EMAIL}",
        "CONFLUENCE_API_TOKEN": "${JIRA_API_TOKEN}"
      }
    }
  }
}</code></pre>
            <p class="tip">Same API token works for both Jira and Confluence!</p>
          </section>

          <section>
            <h3>Available Jira MCP Tools</h3>
            <pre><code class="language-bash"># Issue Operations
jira_get_issue          # Get issue details
jira_search_issues      # JQL search
jira_create_issue       # Create new issue
jira_update_issue       # Update fields
jira_transition_issue   # Change status
jira_add_comment        # Add comment
jira_get_comments       # List comments

# Project Operations
jira_get_projects       # List all projects
jira_get_project        # Project details

# Sprint Operations
jira_get_sprints        # List sprints
jira_get_sprint_issues  # Issues in sprint

# Example JQL queries:
"project = PROJ AND status = 'In Progress'"
"assignee = currentUser() AND sprint in openSprints()"
"created >= -7d AND type = Bug"</code></pre>
          </section>

          <section>
            <h3>Secure Token Management</h3>
            <pre><code class="language-bash"># ❌ DON'T: Hardcode tokens
{
  "env": {
    "JIRA_API_TOKEN": "ATATT3xFfGF0abc123..."  # NEVER!
  }
}

# ❌ DON'T: Commit .mcp.json with tokens
# Add to .gitignore if it contains secrets

# ✅ DO: Use environment variables
{
  "env": {
    "JIRA_API_TOKEN": "${JIRA_API_TOKEN}"
  }
}

# ✅ DO: Use a secrets manager for teams
{
  "env": {
    "JIRA_API_TOKEN": "${op://vault/jira/token}"  # 1Password
  }
}

# ✅ DO: Rotate tokens quarterly
# Set calendar reminder to regenerate</code></pre>
          </section>

          <section>
            <h3>Team Configuration Pattern</h3>
            <pre><code class="language-bash"># For teams: Use .mcp.json.example + .env pattern

# .mcp.json.example (committed to repo)
{
  "mcpServers": {
    "atlassian": {
      "command": "npx",
      "args": ["-y", "@anthropics/mcp-atlassian"],
      "env": {
        "JIRA_URL": "https://company.atlassian.net",
        "JIRA_EMAIL": "${JIRA_EMAIL}",
        "JIRA_API_TOKEN": "${JIRA_API_TOKEN}"
      }
    }
  }
}

# Team member setup:
cp .mcp.json.example .mcp.json  # Copy template
# Then set env vars in their shell profile

# .gitignore
.mcp.json         # Ignore actual config
!.mcp.json.example  # Keep template</code></pre>
          </section>

          <section>
            <h3>Troubleshooting Jira MCP</h3>
            <pre><code class="language-bash"># Error: "401 Unauthorized"
→ Token expired or invalid
→ Regenerate at id.atlassian.com/manage-profile/security

# Error: "403 Forbidden"
→ Token doesn't have required permissions
→ Check your Jira project role/permissions

# Error: "Could not connect"
→ Check JIRA_URL format: https://company.atlassian.net
→ No trailing slash!

# Error: "MCP server not found"
→ Run: npx @anthropics/mcp-atlassian --version
→ If fails: npm cache clean --force

# Debug mode:
"List all available Jira MCP tools and their parameters"

# Test with minimal query:
"Use Jira MCP to get the details of issue PROJ-1"</code></pre>
          </section>

          <section>
            <h3>Roadmap Management Workflow</h3>
            <pre><code class="language-bash"># Full roadmap review with Claude

"Let's review our Q1 roadmap. Use Jira MCP to:

1. Fetch all epics in PROJECT with fixVersion = 'Q1-2025'
2. For each epic, get child stories and their status
3. Check GitHub for any related open PRs

Create a summary showing:
- Epic progress (stories done/total)
- Blocked items (and why)
- PRs waiting for review
- Estimated completion based on velocity

Output as a markdown table I can share with stakeholders."</code></pre>
          </section>

          <section>
            <h3>Sprint Planning Assistant</h3>
            <pre><code class="language-bash"># Sprint planning with full context

"Help me plan Sprint 23. Use these tools:

1. JIRA: Get backlog items (PROJECT, status=Backlog)
   sorted by priority

2. GitHub: Check recent commit velocity
   `gh api repos/org/repo/stats/commit_activity`

3. Local codebase: For high-priority items, analyze
   complexity by reading related files

Create a sprint plan:
- Capacity: 40 story points (5 devs × 8pts)
- Include: 70% features, 20% bugs, 10% tech debt
- For each item, add complexity assessment

Output:
1. Recommended sprint backlog
2. Risk assessment
3. Dependencies between items"</code></pre>
          </section>

          <section>
            <h3>Ticket → PR Workflow</h3>
            <pre><code class="language-bash"># Complete ticket-to-PR workflow

"I'm starting work on PROJ-456. Full workflow:

1. JIRA: Fetch ticket details (description, acceptance criteria)
2. JIRA: Move ticket to 'In Progress'
3. Git: Create branch `feature/PROJ-456-{slug}`
4. Implement: Based on ticket requirements
5. Git: Commit with conventional format
6. GitHub: Create PR linked to ticket
7. JIRA: Add PR link to ticket
8. JIRA: Move to 'In Review'

Start by showing me the ticket details so I can
confirm the implementation approach."</code></pre>
          </section>

          <section>
            <h3>Generated: Ticket Implementation</h3>
            <pre><code class="language-bash"># Claude's workflow execution

# Step 1: Fetch from Jira
"Fetching PROJ-456..."
Title: Add CSV export to reports
Acceptance Criteria:
- Export button on reports page
- Include all visible columns
- Filename: report-{date}.csv
- Max 10,000 rows

# Step 2: Update Jira status
"Moving PROJ-456 to 'In Progress'..."

# Step 3: Create branch
git checkout -b feature/PROJ-456-csv-export

# Step 4: Analyze codebase
"Reading src/components/Reports/..."
"Found existing ExportButton pattern in..."
"Will follow established CSV generation in utils/..."

# Step 5: Implement
[Creates/modifies files based on patterns found]

# Step 6: Commit
git commit -m "feat(reports): add CSV export functionality

- Add ExportCSV button to ReportsTable
- Implement CSV generation with proper escaping
- Handle large datasets with streaming
- Add date formatting in filename

Closes PROJ-456"</code></pre>
          </section>

          <section>
            <h3>PR Creation with Context</h3>
            <pre><code class="language-bash"># Create PR with full context

gh pr create \
  --title "feat(reports): add CSV export [PROJ-456]" \
  --body "## Summary
Implements CSV export for the reports page per PROJ-456.

## Changes
- \`src/components/Reports/ExportCSV.tsx\` - New export button
- \`src/utils/csv.ts\` - CSV generation utility
- \`src/components/Reports/ReportsTable.tsx\` - Integration

## Test Plan
- [x] Unit tests for CSV generation
- [x] Manual test: Export 100 rows
- [x] Manual test: Export 10,000 rows (streaming)
- [x] Verify filename format

## Screenshots
[Attach screenshot]

## Jira
https://company.atlassian.net/browse/PROJ-456"

# Then update Jira
jira issue move PROJ-456 "In Review"
jira issue link PROJ-456 --url "https://github.com/..."</code></pre>
          </section>

          <section>
            <h3>Daily Standup Generator</h3>
            <pre><code class="language-bash"># Generate standup from actual work

"Generate my standup update:

1. JIRA: Get my tickets touched in last 24h
2. GitHub: Get my commits/PRs from yesterday
3. GitHub: Get PRs where I'm requested reviewer

Format as:
**Yesterday:**
- [Ticket] Action taken
- [Ticket] Action taken

**Today:**
- [Ticket] Planned work

**Blockers:**
- Any items in 'Blocked' status with reason

Keep it concise - max 5 items per section."</code></pre>
          </section>

          <section>
            <h3>Release Management</h3>
            <pre><code class="language-bash"># Prepare release with full traceability

"Prepare release v2.4.0:

1. GitHub: Get all merged PRs since v2.3.0
   `gh pr list --state merged --base main --search 'merged:>2024-01-15'`

2. JIRA: For each PR, find linked ticket and get:
   - Ticket type (feature/bug/task)
   - Customer-facing description

3. Generate CHANGELOG.md:
   ## [2.4.0] - 2024-02-01
   ### Added
   - Feature descriptions from Jira
   ### Fixed
   - Bug descriptions from Jira
   ### Changed
   - Other changes

4. JIRA: Move all included tickets to 'Done'
5. JIRA: Set fixVersion = 'v2.4.0' on all tickets
6. GitHub: Create release with changelog
   `gh release create v2.4.0 --notes-file CHANGELOG.md`"</code></pre>
          </section>

          <section>
            <h3>Bug Triage Workflow</h3>
            <pre><code class="language-bash"># Investigate and triage bug

"Triage bug PROJ-789:

1. JIRA: Get full bug details and reproduction steps
2. Local: Search codebase for related code
   - Error messages mentioned
   - Feature area affected
3. GitHub: Find related recent changes
   `gh pr list --state merged --search 'payments'`
4. GitHub: Check if similar issues exist
   `gh issue list --search 'payment timeout'`

Based on analysis:
- Identify likely root cause
- Estimate complexity (S/M/L)
- Suggest assignee based on git blame
- Draft technical approach

Update Jira with:
- Root cause analysis
- Complexity estimate
- Suggested fix approach"</code></pre>
          </section>

          <section>
            <h3>Complete Integration Diagram</h3>
            <pre class="mermaid">flowchart TB
    subgraph Human["Developer"]
        Dev[Developer]
    end

    subgraph Claude["Claude Code"]
        Orchestrator[Orchestrator]
        Analysis[Code Analysis]
        Generation[Code Generation]
    end

    subgraph Tools["Integrated Tools"]
        Jira[Jira MCP]
        GitHub[GitHub CLI]
        Local[Local Codebase]
        Git[Git]
    end

    subgraph External["External Systems"]
        JiraCloud[(Jira Cloud)]
        GitHubCloud[(GitHub)]
        Repo[(Git Repo)]
    end

    Dev -->|"Start PROJ-456"| Orchestrator
    Orchestrator --> Jira -->|Fetch ticket| JiraCloud
    Orchestrator --> Analysis -->|Read files| Local
    Orchestrator --> GitHub -->|Check PRs| GitHubCloud
    Orchestrator --> Generation -->|Write code| Local
    Generation --> Git -->|Commit| Repo
    Git --> GitHub -->|Create PR| GitHubCloud
    GitHub --> Jira -->|Link & update| JiraCloud
    Orchestrator -->|"Done!"| Dev</pre>
          </section>
        </section>

        <!-- ============================================ -->
        <!-- SECTION 20: AGENTS & SKILLS -->
        <!-- ============================================ -->
        <section>
          <!-- WHY opener (Sinek) -->
          <section>
            <p class="big-idea">One Claude is good.<br/>Many agents are better.</p>
          </section>

          <section>
            <h2>19. Agents & Skills</h2>
            <p>Delegate, specialize, scale</p>
          </section>

          <!-- Key insight (Godin) -->
          <section>
            <p class="big-idea">Skills are muscle memory.</p>
            <p class="fragment why-statement">Complex workflows, one slash command.</p>
          </section>

          <section>
            <h3>Built-in Subagent Types</h3>
            <pre><code class="language-text">Claude Code can delegate to specialized agents:

• Bash         - Command execution specialist
• Explore      - Fast codebase exploration
• Plan         - Software architecture planning
• general      - Multi-step task handling

Usage (automatic): Claude decides when to delegate
Usage (manual): Ask Claude to "use the explore agent to..."

Example:
"Use the explore agent to find all authentication-related code"
"Use the plan agent to design the new payment system"</code></pre>
          </section>

          <section>
            <h3>⚠️ "Claude Got Dumb" Syndrome</h3>
            <p style="font-size: 0.85em; margin-bottom: 0.5em;">Subagents may use weaker models by default</p>
            <pre><code class="language-text">The Task tool definition says:
"Prefer haiku for quick, straightforward tasks"

Result: Your Opus session spawns Haiku subagents
→ Slower reasoning, lower quality code, missed context

Check your plugin agents:
~/.claude/plugins/cache/.../agents/*.md

Look for the "model:" field in frontmatter:
---
model: sonnet    # Many plugins default to this
model: inherit   # Inherits from parent (safer)
model: opus      # Explicitly uses Opus
---</code></pre>
          </section>

          <section>
            <h3>Forcing Model Quality</h3>
            <pre><code class="language-markdown"># In your CLAUDE.md, add:

## Subagent Model Policy

When launching subagents via the Task tool:
- ALWAYS specify `model: "opus"` for complex tasks
- ALWAYS specify `model: "sonnet"` minimum for code generation
- NEVER let Claude Code auto-select Haiku for non-trivial work

For custom agents, always set explicit model in frontmatter:
---
model: opus  # or sonnet for balanced performance
---</code></pre>
          </section>

          <section>
            <h3>Environment Variables (Nuclear Option)</h3>
            <pre><code class="language-bash"># Add to ~/.bashrc or ~/.zshrc

# Force ALL subagents to use Opus (overrides everything)
export CLAUDE_CODE_SUBAGENT_MODEL=claude-opus-4-5-20251101

# Control what model aliases resolve to
export ANTHROPIC_DEFAULT_OPUS_MODEL=claude-opus-4-5-20251101
export ANTHROPIC_DEFAULT_SONNET_MODEL=claude-sonnet-4-20250514
export ANTHROPIC_DEFAULT_HAIKU_MODEL=claude-haiku-3-5-20241022</code></pre>
            <table style="font-size: 0.55em; margin-top: 0.5em;">
              <tr><th>Variable</th><th>Effect</th></tr>
              <tr><td><code>CLAUDE_CODE_SUBAGENT_MODEL</code></td><td>Forces model for ALL subagents (overrides frontmatter)</td></tr>
              <tr><td><code>ANTHROPIC_DEFAULT_OPUS_MODEL</code></td><td>Model for <code>opus</code> alias + Plan Mode</td></tr>
              <tr><td><code>ANTHROPIC_DEFAULT_SONNET_MODEL</code></td><td>Model for <code>sonnet</code> alias</td></tr>
              <tr><td><code>ANTHROPIC_DEFAULT_HAIKU_MODEL</code></td><td>Model for <code>haiku</code> alias + background tasks</td></tr>
            </table>
            <p class="fragment punch-line" style="margin-top: 0.5em;">Set once, never worry again.</p>
          </section>

          <section>
            <h3>Creating Custom Agents</h3>
            <p>Add to <code>.claude/agents/</code></p>
            <pre><code class="language-markdown"># .claude/agents/security-reviewer.md
---
name: security-reviewer
description: Reviews code for security vulnerabilities. Use when asked to check
  for security issues, audit code, or before deploying sensitive changes.
tools:
  - Grep
  - Read
  - Glob
model: claude-sonnet-4-20250514
---

You are a security-focused code reviewer. Your job is to find vulnerabilities.

## Checklist
- [ ] SQL Injection (parameterized queries?)
- [ ] XSS (output encoding?)
- [ ] CSRF (tokens validated?)
- [ ] Auth bypass (permission checks?)
- [ ] Secrets in code (API keys, passwords?)
- [ ] Insecure deserialization
- [ ] Path traversal

## Output Format
For each issue found:
**[SEVERITY]** Brief description
- File: path/to/file.py:123
- Risk: What could an attacker do?
- Fix: How to remediate</code></pre>
          </section>

          <section>
            <h3>Creating Skills</h3>
            <p>Reusable prompt patterns in <code>.claude/skills/</code></p>
            <pre><code class="language-markdown"># .claude/skills/api-endpoint.md
---
name: api-endpoint
description: Generate a complete API endpoint with validation,
  error handling, and tests
arguments:
  - name: resource
    description: The resource name (e.g., "users", "orders")
    required: true
  - name: operations
    description: CRUD operations to implement
    required: false
    default: "create,read,update,delete"
---

Create a complete API endpoint for the $ARGUMENTS.resource resource.

Include:
1. Pydantic models for request/response
2. FastAPI route handlers for: $ARGUMENTS.operations
3. Input validation with helpful error messages
4. Database operations using our repository pattern
5. Unit tests for each endpoint
6. Integration tests with test database

Follow our existing patterns in /src/api/ for consistency.</code></pre>
          </section>

          <section>
            <h3>Hooks - Event-Driven Automation</h3>
            <p>Add to <code>.claude/hooks/</code></p>
            <pre><code class="language-json">// .claude/hooks/pre-commit.json
{
  "event": "PreToolUse",
  "matcher": {
    "tool": "Bash",
    "command_pattern": "git commit"
  },
  "action": {
    "type": "prompt",
    "prompt": "Before committing, verify:\n1. All tests pass\n2. No console.logs or debugger statements\n3. No secrets in staged files\n4. Commit message follows conventional commits\n\nRun checks and report any issues."
  }
}</code></pre>
            <pre><code class="language-json">// .claude/hooks/dangerous-command.json
{
  "event": "PreToolUse",
  "matcher": {
    "tool": "Bash",
    "command_pattern": "(rm -rf|DROP TABLE|DELETE FROM.*WHERE 1)"
  },
  "action": {
    "type": "block",
    "message": "Dangerous command blocked. Please confirm with user first."
  }
}</code></pre>
          </section>

          <section>
            <h3>Hook Events</h3>
            <table style="font-size: 0.6em;">
              <tr><th>Event</th><th>When it fires</th><th>Use case</th></tr>
              <tr><td>PreToolUse</td><td>Before a tool runs</td><td>Validation, blocking dangerous ops</td></tr>
              <tr><td>PostToolUse</td><td>After a tool completes</td><td>Logging, notifications</td></tr>
              <tr><td>Stop</td><td>When Claude finishes</td><td>Cleanup, summary generation</td></tr>
              <tr><td>SubagentStop</td><td>When subagent finishes</td><td>Aggregate results</td></tr>
              <tr><td>SessionStart</td><td>New session begins</td><td>Setup, context loading</td></tr>
              <tr><td>SessionEnd</td><td>Session ends</td><td>Cleanup, persistence</td></tr>
              <tr><td>UserPromptSubmit</td><td>User sends message</td><td>Input validation</td></tr>
              <tr><td>Notification</td><td>Background task done</td><td>Alerts</td></tr>
            </table>
          </section>
        </section>

        <!-- ============================================ -->
        <!-- SECTION 21: PLUGINS ECOSYSTEM -->
        <!-- ============================================ -->
        <section>
          <!-- WHY opener (Sinek) -->
          <section>
            <p class="big-idea">Claude Code is powerful.<br/>Plugins make it yours.</p>
          </section>

          <section>
            <h2>20. Plugins Ecosystem</h2>
            <p>Customize your AI workflow</p>
          </section>

          <section>
            <h3>What Are Claude Code Plugins?</h3>
            <ul>
              <li>Extend Claude Code with custom commands, agents, and tools</li>
              <li>Community-built or your own private plugins</li>
              <li>Install globally or per-project</li>
              <li>Combine multiple plugins for powerful workflows</li>
            </ul>
            <pre><code class="language-bash"># Discover and install plugins via slash command
/plugin
# → Select "Discover" to browse available plugins
# → Select a plugin to install

# Plugins are stored in ~/.claude/plugins/
# Or per-project in .claude/plugins/</code></pre>
          </section>

          <section>
            <h3 style="color: #ffd43b;">Official: code-simplifier</h3>
            <p style="font-size: 0.9em; margin-top: 0.5em;">Anthropic's plugin for reducing verbosity (January 2026)</p>
            <div style="font-size: 0.85em; margin-top: 1em; text-align: left; max-width: 800px; margin-left: auto; margin-right: auto;">
              <p class="fragment">• Simplifies code while preserving functionality</p>
              <p class="fragment">• Runs autonomously after code generation</p>
              <p class="fragment">• Targets recently modified code</p>
            </div>
            <div class="fragment" style="margin-top: 1em;">
              <p><strong>Principles:</strong></p>
              <p style="font-size: 0.8em;">Preserve Functionality • Enhance Clarity • Maintain Balance • Explicit > Compact</p>
            </div>
            <p class="fragment punch-line" style="margin-top: 1em;">Install via: <code>/plugin</code> → Discover → code-simplifier</p>
          </section>

          <section>
            <h3>Essential: Git Plugin</h3>
            <pre><code class="language-bash"># @anthropic/claude-code-plugin-git

# Smart commit messages based on diff
/commit

# Interactive rebase helper
/rebase main

# Branch management with context
/branch feature/user-auth

# Conflict resolution assistant
/resolve

# PR creation with auto-generated description
/pr create

# Git history analysis
"What changed in the auth module last week?"</code></pre>
          </section>

          <section>
            <h3>Essential: Test Plugin</h3>
            <pre><code class="language-bash"># @anthropic/claude-code-plugin-test

# Generate tests for a file
/test generate src/utils/validation.ts

# Run tests with intelligent retry on flakes
/test run --smart-retry

# Coverage-guided test generation
/test coverage --target 80%

# Mutation testing
/test mutate src/auth/login.ts

# Test impact analysis
/test affected  # What tests need to run for my changes?

# Snapshot update helper
/test snapshots --review</code></pre>
          </section>

          <section>
            <h3>Essential: Database Plugin</h3>
            <pre><code class="language-bash"># @anthropic/claude-code-plugin-database

# Query builder with natural language
/db query "find all users who signed up last month"

# Migration generator
/db migrate "add email_verified column to users"

# Schema visualization
/db schema --format mermaid

# Seed data generator
/db seed users --count 100 --realistic

# Query optimization suggestions
/db optimize "SELECT * FROM orders WHERE..."

# Backup before dangerous operations
/db backup --before-migration</code></pre>
          </section>

          <section>
            <h3>Essential: Docker Plugin</h3>
            <pre><code class="language-bash"># @anthropic/claude-code-plugin-docker

# Generate Dockerfile from project analysis
/docker init

# Docker Compose generation
/docker compose --services "api,db,redis,worker"

# Container debugging
/docker debug api  # Attach and investigate

# Image optimization suggestions
/docker optimize Dockerfile

# Security scanning
/docker scan --fix-vulnerabilities

# Multi-stage build helper
/docker multistage --target production</code></pre>
          </section>

          <section>
            <h3>Essential: API Plugin</h3>
            <pre><code class="language-bash"># @anthropic/claude-code-plugin-api

# OpenAPI spec generation from code
/api spec generate

# Client SDK generation
/api client typescript --output ./sdk

# Mock server from spec
/api mock --port 3001

# API documentation
/api docs --format markdown

# Endpoint testing
/api test POST /users --data '{"name": "test"}'

# Breaking change detection
/api diff v1.0.0..HEAD</code></pre>
          </section>

          <section>
            <h3>Essential: Docs Plugin</h3>
            <pre><code class="language-bash"># @anthropic/claude-code-plugin-docs

# Generate README from codebase
/docs readme

# API documentation
/docs api --format markdown

# Architecture documentation
/docs architecture --with-diagrams

# Changelog from commits
/docs changelog v1.0.0..v2.0.0

# JSDoc/TSDoc generation
/docs jsdoc src/utils/

# Documentation coverage report
/docs coverage</code></pre>
          </section>

          <section>
            <h3>Essential: Refactor Plugin</h3>
            <pre><code class="language-bash"># @anthropic/claude-code-plugin-refactor

# Safe rename across codebase
/refactor rename UserService AuthService

# Extract function/component
/refactor extract handleSubmit --to useFormSubmit

# Move file with import updates
/refactor move src/utils/auth.ts src/auth/utils.ts

# Convert patterns
/refactor convert class-to-function src/components/

# Dead code elimination
/refactor dead-code --remove

# Dependency injection setup
/refactor inject-deps src/services/</code></pre>
          </section>

          <section>
            <h3>Essential: Security Plugin</h3>
            <pre><code class="language-bash"># @anthropic/claude-code-plugin-security

# Vulnerability scanning
/security scan

# Secret detection
/security secrets --fix

# Dependency audit
/security audit --fix

# OWASP check
/security owasp

# Generate security headers
/security headers --framework express

# Auth implementation review
/security review-auth

# SQL injection detection
/security sql-injection src/api/</code></pre>
          </section>

          <section>
            <h3>Essential: Playwright Plugin</h3>
            <pre><code class="language-bash"># @anthropic/claude-code-plugin-playwright

# Generate E2E test from description
/e2e generate "user can login and see dashboard"

# Run visual regression tests
/e2e visual --update-baseline

# Generate page object models
/e2e pom src/pages/LoginPage.ts

# Record user interactions
/e2e record --output tests/checkout.spec.ts

# Debug failing tests
/e2e debug tests/auth.spec.ts:42

# Accessibility audit with Playwright
/e2e accessibility --wcag AA</code></pre>
          </section>

          <section>
            <h3>Playwright Workflow: Test Generation</h3>
            <pre><code class="language-bash"># Natural language to Playwright test
claude "Write a Playwright test that:
1. Goes to /login
2. Enters valid credentials
3. Clicks the login button
4. Verifies redirect to /dashboard
5. Checks that user's name appears in the header

Use our test fixtures from tests/fixtures/auth.ts"</code></pre>
            <pre><code class="language-typescript">// Generated: tests/login.spec.ts
import { test, expect } from '@playwright/test';
import { validUser } from './fixtures/auth';

test('user can login successfully', async ({ page }) => {
  await page.goto('/login');
  await page.fill('[data-testid="email"]', validUser.email);
  await page.fill('[data-testid="password"]', validUser.password);
  await page.click('[data-testid="login-button"]');
  await expect(page).toHaveURL('/dashboard');
  await expect(page.locator('[data-testid="user-name"]'))
    .toContainText(validUser.name);
});</code></pre>
          </section>

          <section>
            <h3>Playwright Workflow: Visual Testing</h3>
            <pre><code class="language-bash"># Claude helps with visual regression
claude "Our visual tests are failing after the redesign.
Look at the test results in test-results/
and update the snapshots for intentional changes.
Flag any unexpected visual regressions."

# Claude analyzes screenshots, identifies:
# - Intentional: new button styles, updated fonts
# - Unexpected: broken layout on mobile
# - Missing: new component not captured yet</code></pre>
            <pre><code class="language-bash"># Then with the plugin
/e2e visual --review  # Interactive review of changes
/e2e visual --update button,header  # Update specific
/e2e visual --mobile --update  # Update mobile views</code></pre>
          </section>

          <section>
            <h3>Playwright Workflow: Debugging</h3>
            <pre><code class="language-bash"># When a test fails in CI
claude "This Playwright test is flaky:

test('checkout flow', async ({ page }) => {
  await page.goto('/cart');
  await page.click('[data-testid=\"checkout\"]');
  // Sometimes times out here:
  await expect(page.locator('.order-summary')).toBeVisible();
});

CI logs show: TimeoutError: locator.toBeVisible

Help me debug and fix the flakiness."

# Claude suggests:
# - Add explicit wait for API response
# - Use networkidle or waitForSelector
# - Check for race conditions
# - Review test isolation</code></pre>
          </section>

          <section>
            <h3>Playwright + MCP Integration</h3>
            <pre><code class="language-json">// .mcp.json - Playwright MCP server
{
  "mcpServers": {
    "playwright": {
      "command": "npx",
      "args": ["-y", "@anthropic/mcp-playwright"],
      "env": {
        "BROWSER": "chromium",
        "HEADLESS": "true",
        "BASE_URL": "http://localhost:3000"
      }
    }
  }
}</code></pre>
            <p class="tip">MCP server lets Claude drive the browser directly</p>
          </section>

          <section>
            <h3>Plugin Configuration</h3>
            <pre><code class="language-json">// .claude/plugins.json
{
  "plugins": [
    {
      "name": "@anthropic/claude-code-plugin-git",
      "config": {
        "commitStyle": "conventional",
        "signCommits": true,
        "prTemplate": ".github/PULL_REQUEST_TEMPLATE.md"
      }
    },
    {
      "name": "@anthropic/claude-code-plugin-test",
      "config": {
        "framework": "vitest",
        "coverageThreshold": 80,
        "snapshotFormat": "inline"
      }
    },
    {
      "name": "@company/internal-plugin",
      "source": "git@github.com:company/claude-plugin.git",
      "config": {
        "apiEndpoint": "${INTERNAL_API_URL}"
      }
    }
  ]
}</code></pre>
          </section>
        </section>

        <!-- ============================================ -->
        <!-- SECTION 31 (cont): CUSTOM PLUGIN DEVELOPMENT -->
        <!-- ============================================ -->
        <section>
          <!-- WHY opener (Sinek) -->
          <section>
            <p class="big-idea">Build once.<br/>Use forever.</p>
          </section>

          <section>
            <h2>Building Custom Plugins</h2>
            <p>Your workflows, packaged and shareable</p>
          </section>

          <section>
            <h3>Plugin Structure</h3>
            <pre><code class="language-bash"># Plugin directory structure
my-plugin/
├── plugin.json          # Plugin manifest
├── commands/            # Slash commands
│   ├── deploy.md
│   └── review.md
├── agents/              # Custom agents
│   └── code-reviewer.md
├── skills/              # Reusable skills
│   └── testing.md
├── hooks/               # Event hooks
│   └── pre-commit.md
└── .mcp.json           # MCP server config (optional)</code></pre>
          </section>

          <section>
            <h3>Plugin Manifest</h3>
            <pre><code class="language-json">// plugin.json
{
  "name": "my-awesome-plugin",
  "version": "1.0.0",
  "description": "Does awesome things",
  "author": "Your Name",
  "repository": "github.com/you/my-plugin",
  "commands": ["commands/*.md"],
  "agents": ["agents/*.md"],
  "skills": ["skills/*.md"],
  "hooks": ["hooks/*.md"],
  "config": {
    "schema": {
      "apiKey": { "type": "string", "secret": true },
      "environment": { "type": "string", "default": "development" }
    }
  },
  "dependencies": {
    "mcp": ["@anthropic/mcp-github"]
  }
}</code></pre>
          </section>

          <section>
            <h3>Creating a Command</h3>
            <pre><code class="language-markdown"># commands/deploy.md
---
name: deploy
description: Deploy the application to specified environment
arguments:
  - name: environment
    description: Target environment (staging|production)
    required: true
  - name: version
    description: Version tag to deploy
    required: false
---

# Deploy Command

Deploy the application to {{ environment }}.

## Pre-deployment Checklist
1. Run all tests: `npm run test`
2. Build the application: `npm run build`
3. Check for uncommitted changes

## Deployment Steps
1. Tag the release if version specified
2. Push to {{ environment }} branch
3. Trigger CI/CD pipeline
4. Monitor deployment status
5. Run smoke tests

## Rollback Plan
If deployment fails, revert to previous version.</code></pre>
          </section>

          <section>
            <h3>Creating an Agent</h3>
            <pre><code class="language-markdown"># agents/code-reviewer.md
---
name: code-reviewer
description: Reviews code for quality, security, and best practices
model: sonnet
tools:
  - Read
  - Glob
  - Grep
---

You are an expert code reviewer. When reviewing code:

1. **Security**: Check for vulnerabilities (injection, XSS, etc.)
2. **Performance**: Identify N+1 queries, memory leaks
3. **Best Practices**: Ensure SOLID principles, DRY
4. **Tests**: Verify adequate test coverage
5. **Documentation**: Check for missing docs

Output format:
- 🔴 Critical: Must fix before merge
- 🟡 Warning: Should fix
- 🟢 Suggestion: Nice to have
- ✅ Good: Highlight good practices</code></pre>
          </section>

          <section>
            <h3 style="color: #FFD700;">🍩 The Ralph Wiggum Plugin 🍩</h3>
            <p><em>"Me fail English? That's unpossible!"</em></p>
            <pre><code class="language-json">// plugin.json
{
  "name": "ralph-wiggum-code-review",
  "version": "1.0.0",
  "description": "Code reviews by Springfield's finest",
  "author": "Chief Wiggum's Boy",
  "icon": "🍩",
  "commands": ["commands/*.md"],
  "agents": ["agents/ralph.md"],
  "config": {
    "schema": {
      "crazyLevel": {
        "type": "number",
        "default": 10,
        "description": "How Ralph are we talking? (1-10)"
      }
    }
  }
}</code></pre>
          </section>

          <section>
            <h3 style="color: #FFD700;">🍩 Ralph's Code Review Agent 🍩</h3>
            <pre><code class="language-markdown"># agents/ralph.md
---
name: ralph-reviewer
description: Code review with the wisdom of Ralph Wiggum
model: haiku
tools: [Read, Glob, Grep]
trigger: "when user says 'ralph review' or 'wiggum review'"
---

You are Ralph Wiggum from The Simpsons, reviewing code.
You find everything confusing but somehow stumble onto
real issues. Mix genuine code review with Ralph quotes.

## Your personality:
- Easily distracted by variable names
- Thinks bugs are actual bugs
- Confuses programming terms hilariously
- Occasionally gives accidentally brilliant insights

## Review style:
- "My cat's breath smells like cat food" → unrelated tangent
- "I'm learnding!" → when you spot educational code
- "That's where I saw the leprechaun" → for magic numbers
- "I bent my wookiee" → for broken references

## But actually find:
- Real bugs (describe them in Ralph-speak)
- Security issues ("The bad men can get in here!")
- Performance problems ("This is slow like daddy's brain")

End every review with: "I'm helping!"</code></pre>
          </section>

          <section>
            <h3 style="color: #FFD700;">🍩 Ralph's Commands 🍩</h3>
            <pre><code class="language-markdown"># commands/taste.md
---
name: taste
description: Ralph tastes your code (licks the screen metaphorically)
---

*licks screen*

Analyze the code like Ralph tasting paste:

"Hmm, this code tastes like... {{ analysis }}"

Taste interpretations:
- Purple: Code is confusing (like burning)
- Paste: Delicious but probably shouldn't exist
- Crayons: Colorful but not nutritious (over-engineered)
- Chocolate: Actually good code!
- Ralph's cat: Smells funny (code smells)

# commands/leprechaun.md
---
name: leprechaun
description: Find magic numbers and mystical constants
---

"I saw a leprechaun! He tells me to find the magic!"

Search for:
- Hardcoded numbers (the leprechaun's treasure)
- String literals that should be constants
- Mysterious boolean flags
- Numbers that appear multiple times

For each: "The leprechaun lives at line X!"</code></pre>
          </section>

          <section>
            <h3 style="color: #FFD700;">🍩 Ralph Review: Example Output 🍩</h3>
            <pre><code class="language-bash">$ claude /ralph-review src/auth/login.ts

🍩 RALPH WIGGUM CODE REVIEW 🍩

*picks nose thoughtfully*

"Hi, I'm reviewing your code! My cat's name is Mittens."

📝 FINDINGS:

Line 23: "The leprechaun told me this number is magic!"
  &gt; const TIMEOUT = 3000
  "Why is it 3000? Is that how many times I failed math?"
  🔴 Move to config, Ralph doesn't understand magic

Line 45: "My brain is crying!"
  &gt; if (password == userInput)
  "The equals signs are lonely! They need a friend!"
  🔴 Use === you silly goose (actual security issue!)

Line 67: "I'm in danger!" 🔴
  &gt; eval(userQuery)
  "Mrs. Krabappel says eval is where bugs are born!"
  CRITICAL: This is how the bad men get in!

Line 89: "I bent my wookiee"
  &gt; user.friends.map(f =&gt; f.name).join('')
  "What if the user has no friends? Like me at recess!"
  🟡 Add null check

SUMMARY: "I found 4 leprechauns! I'm helping!"

*eats paste*</code></pre>
          </section>

          <section>
            <h3 style="color: #FFD700;">🍩 Ralph's Hook: Pre-Commit 🍩</h3>
            <pre><code class="language-markdown"># hooks/pre-commit.md
---
name: ralph-pre-commit
event: PreToolUse
match:
  tool: Bash
  command: "git commit*"
---

Before allowing commit, Ralph inspects the changes:

"Wait! Before you commit, let me taste the code!"

Quick checks (in Ralph voice):
1. "Are there console.logs? Those are like leaving
    your crayons in your code!"
2. "Did you write 'TODO'? That's like homework
    you'll never do!"
3. "Is there 'any' type? That's unpossible to review!"

If issues found:
"My doctor said I shouldn't commit code like this!"

If clean:
"Yay! The code tastes like chocolate! Go ahead!"
*gives thumbs up with paste-covered thumb*</code></pre>
          </section>

          <section>
            <h3>Sharing Your Plugin</h3>
            <pre><code class="language-bash"># 1. Test locally - add to your .claude/plugins/
cp -r ./my-plugin ~/.claude/plugins/

# 2. Share via Git repository
git init && git add . && git commit -m "Initial plugin"
git remote add origin git@github.com:you/my-plugin.git
git push -u origin main

# 3. Others install via /plugin command
# In Claude Code:
/plugin
# → "Add from URL"
# → Enter: github.com/you/my-plugin

# Or via official directory (submit PR to):
# github.com/anthropics/claude-plugins-official</code></pre>
          </section>
        </section>

        <!-- ============================================ -->
        <!-- PART 5: QUALITY & OPERATIONS -->
        <!-- ============================================ -->
        <section data-background-gradient="linear-gradient(135deg, #00b09b 0%, #96c93d 100%)">
          <div class="part-header">
            <h2>Part 5</h2>
            <h1>Quality & Operations</h1>
            <p class="why-statement">Let the machines catch the mistakes</p>
          </div>
        </section>

        <!-- ============================================ -->
        <!-- SECTION 22: TESTING AS GUARDRAILS -->
        <!-- ============================================ -->
        <section>
          <!-- WHY opener (Sinek) -->
          <section>
            <p class="big-idea">Claude writes code fast.<br/>Tests verify it works.</p>
          </section>

          <section>
            <h2>21. Testing as Guardrails</h2>
            <p>Trust but verify. Always verify.</p>
          </section>

          <!-- Key insight (Godin) -->
          <section>
            <p class="big-idea">Tests aren't QA.<br/>Tests are specs.</p>
            <p class="fragment why-statement">Write the spec. Claude writes the code.</p>
          </section>

          <!-- TDD EVOLUTION - Moved from Part 1 -->
          <section>
            <p class="big-idea">TDD is dead.</p>
            <p class="fragment" style="font-size: 1.5em; margin-top: 0.5em;">...or is it?</p>
          </section>

          <section>
            <h3>Classic TDD Rhythm</h3>
            <div style="display: flex; justify-content: center; gap: 40px; margin-top: 1em;">
              <div class="fragment" style="text-align: center;">
                <p style="font-size: 2em; color: #ff6b6b;">RED</p>
                <p>Write failing test</p>
              </div>
              <div class="fragment" style="text-align: center;">
                <p style="font-size: 2em; color: #51cf66;">GREEN</p>
                <p>Make it pass</p>
              </div>
              <div class="fragment" style="text-align: center;">
                <p style="font-size: 2em; color: #748ffc;">REFACTOR</p>
                <p>Clean up</p>
              </div>
            </div>
            <p class="fragment" style="margin-top: 1em; color: #868e96;">Tiny increments. Tight feedback loops.</p>
          </section>

          <section>
            <h3>What AI Actually Does</h3>
            <div style="margin-top: 1em;">
              <p class="fragment" style="font-size: 1.3em;">1. Writes ALL tests at once</p>
              <p class="fragment" style="font-size: 1.3em;">2. Writes FULL implementation in one pass</p>
              <p class="fragment" style="font-size: 1.3em;">3. Maybe refactors if you ask nicely</p>
            </div>
            <p class="fragment punch-line" style="margin-top: 1em;">The iterative design benefit? Skipped entirely.</p>
          </section>

          <section>
            <p class="big-idea">TDD rhythm breaks.<br/><span class="fragment" style="color: #ffd43b;">But tests matter MORE.</span></p>
          </section>

          <section>
            <h3>Tests Are Now...</h3>
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-top: 1em; font-size: 0.9em;">
              <div class="fragment section-why">
                <p style="font-size: 1.3em; color: #ffd43b;">Context Anchors</p>
                <p>Ground AI in reality</p>
              </div>
              <div class="fragment section-why">
                <p style="font-size: 1.3em; color: #ffd43b;">Specifications</p>
                <p>Unambiguous requirements</p>
              </div>
              <div class="fragment section-why">
                <p style="font-size: 1.3em; color: #ffd43b;">Guardrails</p>
                <p>Constrain the solution space</p>
              </div>
              <div class="fragment section-why">
                <p style="font-size: 1.3em; color: #ffd43b;">Verification</p>
                <p>100 tests > 1000 lines of review</p>
              </div>
            </div>
          </section>

          <section>
            <div style="display: flex; justify-content: space-around; align-items: center;">
              <div>
                <p class="contrast-old" style="font-size: 1.3em;">Old TDD</p>
                <p>Tests drive <strong>design</strong></p>
              </div>
              <p style="font-size: 2em;">→</p>
              <div>
                <p class="contrast-new" style="font-size: 1.3em;">New TDD</p>
                <p>Tests drive <strong>AI behavior</strong></p>
              </div>
            </div>
          </section>

          <section>
            <h3>Tests as Specifications</h3>
            <pre><code class="language-javascript">describe('Payment Processing', () => {
  it('charges card and creates order')
  it('handles declined cards gracefully')
  it('sends confirmation email')
  it('is idempotent for retries')
})</code></pre>
            <p class="fragment punch-line" style="margin-top: 1em;">"Implement code that makes these tests pass."</p>
            <p class="fragment" style="color: #868e96;">Human reviews BEHAVIOR, not every line.</p>
          </section>

          <section>
            <p class="big-idea">E2E tests beat unit tests.</p>
            <p class="fragment why-statement">For AI-generated code.</p>
          </section>

          <section>
            <h3>Why E2E Wins</h3>
            <div style="display: flex; justify-content: space-around; margin-top: 1em;">
              <div style="text-align: center;">
                <p class="contrast-old" style="font-size: 1.2em;">Unit Tests</p>
                <p style="font-size: 0.9em;">AI tests its own code<br/>Becomes tautological</p>
              </div>
              <div style="text-align: center;">
                <p class="contrast-new" style="font-size: 1.2em;">E2E Tests</p>
                <p style="font-size: 0.9em;">Test real user flows<br/>AI can't game them</p>
              </div>
            </div>
          </section>

          <!-- VERBOSITY & CODE QUALITY - Moved from Part 1 -->
          <section>
            <p class="big-idea">More Code = Over-Engineering?</p>
            <p class="fragment why-statement">Or is it just... better architecture?</p>
          </section>

          <section>
            <h3>The Uncomfortable Question</h3>
            <div style="margin-top: 1em;">
              <p class="fragment" style="font-size: 1.2em; color: #868e96;">When Claude generates more code than you expected...</p>
              <p class="fragment" style="font-size: 1.4em; margin-top: 0.5em;"><span class="contrast-old">Is it verbose?</span></p>
              <p class="fragment" style="font-size: 1.4em;"><span class="contrast-new">Or properly structured?</span></p>
            </div>
          </section>

          <section>
            <h3>Signs of Good Architecture</h3>
            <div style="font-size: 0.9em; margin-top: 1em;">
              <p class="fragment">• Proper error handling at boundaries</p>
              <p class="fragment">• Type annotations for public interfaces</p>
              <p class="fragment">• Single Responsibility functions</p>
              <p class="fragment">• Explicit over implicit patterns</p>
              <p class="fragment">• Defensive validation at system edges</p>
            </div>
            <p class="fragment punch-line" style="margin-top: 1em;">What seems verbose often prevents future bugs.</p>
          </section>

          <section>
            <h3>Signs of Real Over-Engineering</h3>
            <div style="font-size: 0.9em; margin-top: 1em;">
              <p class="fragment">• Comments explaining <code>i++</code></p>
              <p class="fragment">• Abstractions used exactly once</p>
              <p class="fragment">• Error handling for impossible states</p>
              <p class="fragment">• Factory patterns for single implementations</p>
              <p class="fragment">• "Flexibility" nobody asked for</p>
            </div>
          </section>

          <section>
            <div class="quote-block">
              "LLMs gravitate toward generic, safe solutions<br/>
              rather than elegant, optimized approaches."
            </div>
            <p class="fragment quote-author">— Research Study, 2025</p>
          </section>

          <section>
            <h3>The Real Problem: Reviews</h3>
            <div style="display: flex; justify-content: space-around; margin-top: 1em;">
              <div style="text-align: center;">
                <p class="single-stat" style="font-size: 2.2em;">3x</p>
                <p>Lines to review</p>
              </div>
              <div style="text-align: center;">
                <p class="single-stat" style="font-size: 2.2em;">↑</p>
                <p>Cognitive load</p>
              </div>
              <div style="text-align: center;">
                <p class="single-stat" style="font-size: 2.2em;">↑</p>
                <p>Context usage</p>
              </div>
            </div>
            <p class="fragment" style="margin-top: 1em; color: #868e96;">Good or bad architecture — you still have to read it all.</p>
          </section>

          <section>
            <h3>Context Window Impact</h3>
            <div style="margin-top: 1em;">
              <p class="fragment">Verbose code = faster context compaction</p>
              <p class="fragment">More tokens = higher costs</p>
              <p class="fragment">Larger diffs = harder integration</p>
            </div>
            <p class="fragment punch-line" style="margin-top: 1em;">Even "good" verbosity has real costs.</p>
          </section>

          <section>
            <h3>Your Review Strategy</h3>
            <div style="font-size: 0.85em; margin-top: 0.8em; line-height: 1.4;">
              <p class="fragment" style="font-size: 1.1em;">1. Ask: "Is this structure or bloat?"</p>
              <p class="fragment" style="font-size: 1.1em;">2. Use <code>code-simplifier</code> for automatic cleanup</p>
              <p class="fragment" style="font-size: 1.1em;">3. Add to CLAUDE.md: "Minimal viable implementation"</p>
              <p class="fragment" style="font-size: 1.1em;">4. Ask: "What can I delete?"</p>
            </div>
            <p class="fragment tip" style="margin-top: 0.5em;">See Section 21 for the code-simplifier plugin.</p>
          </section>

          <!-- PRACTICAL TDD WORKFLOWS -->
          <section>
            <h3>TDD with Claude</h3>
            <pre><code class="language-bash"># Test-Driven Development workflow

"I want to implement a rate limiter. Let's do TDD.

Requirements:
- Limit requests per IP per minute
- Configurable limits (default: 100/min)
- Return remaining count in headers
- 429 response when exceeded

Step 1: Write failing tests first
- Test basic limit enforcement
- Test counter reset after window
- Test headers
- Test configuration

Step 2: Show me the tests before implementing

Step 3: After I approve, implement minimum code to pass

Step 4: Refactor while keeping tests green

Run tests after each change: npm test -- --grep 'RateLimiter'"</code></pre>
          </section>

          <section>
            <h3>Unit Test Generation</h3>
            <pre><code class="language-bash"># Generate comprehensive unit tests

"Generate unit tests for /src/utils/validation.ts

Requirements:
- Test each exported function
- Cover happy path + edge cases
- Test error conditions
- Mock external dependencies
- Aim for >90% line coverage

Test structure:
```typescript
describe('functionName', () => {
  describe('when input is valid', () => {
    it('should return expected result', () => {});
  });
  describe('when input is invalid', () => {
    it('should throw ValidationError', () => {});
  });
  describe('edge cases', () => {
    it('should handle empty input', () => {});
    it('should handle null/undefined', () => {});
  });
});
```

Use our test setup in /src/test/setup.ts
Run after generating: npm test -- validation.test.ts"</code></pre>
          </section>

          <section>
            <h3>Integration Test Patterns</h3>
            <pre><code class="language-bash"># Database integration tests

"Write integration tests for our User repository.

Setup:
- Use test database (DATABASE_URL_TEST)
- Clean database before each test
- Use transactions for isolation

Test scenarios:
1. Create user
   - Should insert record
   - Should return created user
   - Should fail on duplicate email

2. Find user
   - Should find by ID
   - Should find by email
   - Should return null for non-existent

3. Update user
   - Should update fields
   - Should update timestamp
   - Should not affect other users

4. Delete user
   - Should soft delete (set deleted_at)
   - Should cascade to related records

Follow pattern in /src/repositories/__tests__/"</code></pre>
          </section>

          <section>
            <h3>E2E Test Workflow</h3>
            <pre><code class="language-bash"># E2E tests with Playwright MCP

"Write E2E tests for our authentication flow:

Tests needed:
1. Sign Up
   - Fill registration form
   - Verify email sent (check test inbox MCP)
   - Click confirmation link
   - Verify logged in

2. Sign In
   - Enter credentials
   - Verify redirect to dashboard
   - Verify session cookie set

3. Password Reset
   - Request reset
   - Check email
   - Set new password
   - Login with new password

4. Sign Out
   - Click logout
   - Verify session cleared
   - Verify redirect to home

After each test, take screenshot.
Save to /e2e/screenshots/[test-name]/
Report any flaky behavior."</code></pre>
          </section>

          <section>
            <h3>Test-as-Guardrails Loop</h3>
            <pre><code class="language-bash"># Use tests as validation during development

"Implement the user profile update feature.

Guardrails (run after each change):
1. npm run typecheck     # Must pass
2. npm run test:unit     # Must pass
3. npm run test:int      # Must pass

Workflow:
1. Read existing tests for profile features
2. Write new tests for update functionality
3. Run tests (should fail - no implementation)
4. Implement the feature
5. Run tests after each file saved
6. If tests fail, fix before proceeding
7. Commit only when all green

Show me test output after each implementation step.
If anything fails, stop and debug."</code></pre>
          </section>
        </section>

        <!-- ============================================ -->
        <!-- SECTION 23: BUILD & TYPE CHECKS -->
        <!-- ============================================ -->
        <section>
          <!-- WHY opener (Sinek) -->
          <section>
            <p class="big-idea">The compiler never sleeps.</p>
            <p class="fragment why-statement">Let it guard your code 24/7.</p>
          </section>

          <section>
            <h2>22. Build & Type Checks</h2>
            <p>TypeScript as your automated code reviewer</p>
          </section>

          <section>
            <h3>TypeScript as Guardian</h3>
            <pre><code class="language-bash"># Run tsc as validation after changes

"Refactor our API response handlers.

After EVERY file change:
```bash
npx tsc --noEmit
```

If tsc fails:
1. Show me the error
2. Explain what's wrong
3. Fix the type error
4. Run tsc again
5. Only proceed when passing

Common errors to watch for:
- Property 'x' does not exist
- Type 'A' is not assignable to type 'B'
- Argument of type 'X' is not assignable
- Object is possibly 'undefined'

Don't use 'any' or @ts-ignore to fix errors.
Find the proper type solution."</code></pre>
          </section>

          <section>
            <h3>Strict Mode Enforcement</h3>
            <pre><code class="language-json">// tsconfig.json - Strict settings
{
  "compilerOptions": {
    "strict": true,
    "noImplicitAny": true,
    "strictNullChecks": true,
    "strictFunctionTypes": true,
    "strictBindCallApply": true,
    "strictPropertyInitialization": true,
    "noImplicitThis": true,
    "alwaysStrict": true,
    "noUncheckedIndexedAccess": true,
    "noImplicitReturns": true,
    "noFallthroughCasesInSwitch": true,
    "noImplicitOverride": true
  }
}</code></pre>
            <pre><code class="language-bash"># In Claude Code

"Enable strict mode in our project.
Fix all errors that appear. Do NOT:
- Use 'any' type
- Use @ts-ignore
- Make types less strict

Instead, properly type everything."</code></pre>
          </section>

          <section>
            <h3>ESLint as Code Quality Gate</h3>
            <pre><code class="language-bash"># Run lint after every change

"Add input validation to all API endpoints.

After each file change:
```bash
npm run lint -- --fix
```

Watch for these rules:
- @typescript-eslint/no-explicit-any
- @typescript-eslint/no-unsafe-assignment
- @typescript-eslint/no-floating-promises
- import/no-unused-modules

If lint shows errors:
1. Fix them properly (not disable the rule)
2. Run lint again
3. Proceed only when clean

Also run:
```bash
npm run lint -- --max-warnings 0
```
to catch warnings too."</code></pre>
          </section>

          <section>
            <h3>Pre-commit Hooks as Final Gate</h3>
            <pre><code class="language-bash"># .husky/pre-commit
#!/bin/sh

# Type check
npx tsc --noEmit || exit 1

# Lint staged files
npx lint-staged || exit 1

# Run affected tests
npm test -- --changedSince=HEAD~1 || exit 1

# Check for secrets
npx secretlint "**/*" || exit 1

echo "✅ All checks passed"</code></pre>
            <pre><code class="language-bash"># In Claude Code

"Before committing, verify manually:

1. npx tsc --noEmit      # Type check
2. npm run lint          # Lint
3. npm run test          # Tests
4. npm run build         # Build works

Only commit when ALL pass.
Show me the output of each command."</code></pre>
          </section>

          <section>
            <h3>Full Build Pipeline</h3>
            <pre><code class="language-bash"># Complete validation before PR

"Run our full validation pipeline:

```bash
# Stage 1: Quick checks (fail fast)
npm run typecheck && \
npm run lint && \
npm run test:unit

# Stage 2: Slower checks
npm run test:integration && \
npm run test:e2e

# Stage 3: Build
npm run build && \
npm run build:analyze  # Check bundle size

# Stage 4: Final validation
npm run validate:schemas && \
npm run validate:i18n
```

Run each stage. If any fails:
1. Stop immediately
2. Show the error
3. Fix it
4. Re-run from that stage

Generate a report showing:
- Each check status (✅/❌)
- Time taken
- Any warnings
- Bundle size changes"</code></pre>
          </section>
        </section>

        <!-- ============================================ -->
        <!-- SECTION 24: DEBUGGING & TROUBLESHOOTING -->
        <!-- ============================================ -->
        <section>
          <!-- WHY opener (Sinek) -->
          <section>
            <p class="big-idea">When it breaks,<br/>you need to know why.</p>
          </section>

          <section>
            <h2>23. Debugging & Troubleshooting</h2>
            <p>Common issues and how to fix them</p>
          </section>

          <section>
            <h3>The /doctor Command</h3>
            <pre><code class="language-bash"># Run diagnostics
/doctor

# ✓ API key: Valid
# ✓ Network: Connected
# ✓ Model access: opus, sonnet, haiku
# ✓ Tools: All available
# ✓ MCP servers: 3 configured, 3 healthy
# ⚠️ Disk space: Low (2.1 GB free)
# ✗ Hook error: .claude/hooks/lint.md (syntax error line 5)</code></pre>
          </section>

          <section>
            <h3>Common Errors & Solutions</h3>
            <table style="font-size: 0.6em;">
              <tr>
                <th>Error</th>
                <th>Cause</th>
                <th>Solution</th>
              </tr>
              <tr>
                <td><code>API key invalid</code></td>
                <td>Wrong/expired key</td>
                <td>Check ANTHROPIC_API_KEY</td>
              </tr>
              <tr>
                <td><code>Rate limited</code></td>
                <td>Too many requests</td>
                <td>Wait or upgrade tier</td>
              </tr>
              <tr>
                <td><code>Context overflow</code></td>
                <td>200K limit hit</td>
                <td>/compact or /clear</td>
              </tr>
              <tr>
                <td><code>Tool not found</code></td>
                <td>Missing MCP server</td>
                <td>Check .mcp.json config</td>
              </tr>
              <tr>
                <td><code>Permission denied</code></td>
                <td>Sandboxed operation</td>
                <td>Update allowlist</td>
              </tr>
              <tr>
                <td><code>Hook blocked</code></td>
                <td>PreToolUse rejection</td>
                <td>Check hook rules</td>
              </tr>
            </table>
          </section>

          <section>
            <h3>Debug Mode</h3>
            <pre><code class="language-bash"># Enable verbose logging
CLAUDE_DEBUG=1 claude

# Shows:
# - Full API requests/responses
# - Tool call details
# - MCP server communication
# - Token counts per message
# - Timing information

# Log to file
CLAUDE_DEBUG=1 claude 2>&1 | tee debug.log</code></pre>
          </section>

          <section>
            <h3>MCP Server Troubleshooting</h3>
            <pre><code class="language-bash"># Check MCP server status
claude mcp status

# Test specific server
claude mcp test playwright

# View server logs
claude mcp logs atlassian --tail 50

# Restart stuck server
claude mcp restart postgres

# Common issues:
# - Server timeout: Increase timeout in .mcp.json
# - Auth failure: Check env vars are set
# - Port conflict: Change server port</code></pre>
          </section>

          <section>
            <h3>Context Overflow Recovery</h3>
            <pre><code class="language-bash"># When you hit 200K limit:

# Option 1: Compact (keeps summary)
/compact

# Option 2: Clear (fresh start)
/clear

# Option 3: Continue in new session
claude --continue-from-summary

# Prevention:
# - Use @file for large files instead of pasting
# - Clear between unrelated tasks
# - Use Haiku for simple queries (faster, less context bloat)
# - Reference specific functions, not whole files</code></pre>
          </section>

          <section>
            <h3>Network Issues</h3>
            <pre><code class="language-bash"># Test connectivity
curl -I https://api.anthropic.com

# Behind proxy?
export HTTP_PROXY=http://proxy.company.com:8080
export HTTPS_PROXY=http://proxy.company.com:8080

# SSL issues (corporate networks)
export NODE_TLS_REJECT_UNAUTHORIZED=0  # ⚠️ Not recommended
# Better: Add corporate CA to system trust store

# Slow connection?
# Claude Code handles retry automatically
# For persistent issues: check firewall rules</code></pre>
          </section>

          <section>
            <h3>Report Issues</h3>
            <pre><code class="language-bash"># Generate bug report
claude --bug-report

# Creates: claude-bug-report-2025-01-08.zip
# Contains:
# - Anonymized session log
# - System info
# - Configuration (secrets redacted)
# - MCP server status

# Submit to:
# https://github.com/anthropics/claude-code/issues</code></pre>
          </section>

          <section>
            <p class="punch-line">/doctor first.<br/>Google second.</p>
          </section>
        </section>

        <!-- ============================================ -->

        <!-- ============================================ -->
        <!-- PART 6: PRACTICAL WORKFLOWS -->
        <!-- ============================================ -->
        <section data-background-gradient="linear-gradient(135deg, #8E2DE2 0%, #4A00E0 100%)">
          <div class="part-header">
            <h2>Part 6</h2>
            <h1>Practical Workflows</h1>
            <p class="why-statement">Where theory meets production</p>
          </div>
        </section>

        <!-- SECTION 25: REAL-WORLD ARCHITECTURES -->
        <!-- ============================================ -->
        <section>
          <!-- WHY opener (Sinek) -->
          <section>
            <p class="big-idea">Demos are easy.<br/>Production is hard.</p>
          </section>

          <section>
            <h2>24. Real-World Architectures</h2>
            <p>Patterns that survive the real world</p>
          </section>

          <section>
            <h3>Code Review Pipeline</h3>
            <pre><code class="language-python">class CodeReviewPipeline:
    async def review_pr(self, pr_url: str) -> dict:
        # Stage 1: Gather context
        diff = await self.fetch_pr_diff(pr_url)
        related_files = await self.get_related_files(diff)

        # Stage 2: Parallel analysis with different lenses
        security_task = self.analyze_security(diff)
        performance_task = self.analyze_performance(diff)
        quality_task = self.analyze_quality(diff, related_files)

        security, performance, quality = await asyncio.gather(
            security_task, performance_task, quality_task
        )

        # Stage 3: Synthesize findings
        summary = await self.synthesize_review(
            security, performance, quality
        )

        # Stage 4: Generate actionable feedback
        return {
            "summary": summary,
            "security_issues": security,
            "performance_issues": performance,
            "quality_issues": quality,
            "auto_fixable": self.identify_auto_fixes(quality)
        }</code></pre>
          </section>

          <section>
            <h3>Documentation Generator</h3>
            <pre><code class="language-python">class DocGenerator:
    async def generate_docs(self, codebase_path: str):
        # 1. Analyze codebase structure
        structure = await self.analyze_structure(codebase_path)

        # 2. Generate docs for each module (parallel)
        module_docs = await asyncio.gather(*[
            self.document_module(module)
            for module in structure.modules
        ])

        # 3. Generate cross-cutting documentation
        architecture_doc = await self.generate_architecture_doc(structure)
        api_reference = await self.generate_api_reference(structure)

        # 4. Generate README
        readme = await self.generate_readme(
            structure, module_docs, architecture_doc
        )

        return {
            "readme": readme,
            "architecture": architecture_doc,
            "api_reference": api_reference,
            "modules": module_docs
        }</code></pre>
          </section>

          <section>
            <h3>RAG Integration Pattern</h3>
            <pre><code class="language-python">class RAGPipeline:
    def __init__(self):
        self.embeddings = OpenAIEmbeddings()
        self.vector_store = Pinecone(index_name="docs")
        self.claude = anthropic.Anthropic()

    async def answer(self, query: str) -> str:
        # 1. Retrieve relevant chunks
        query_embedding = await self.embeddings.embed(query)
        chunks = self.vector_store.similarity_search(
            query_embedding, k=5, threshold=0.7
        )

        # 2. Build grounded prompt
        context = "\n\n".join([
            f"[Source {i+1}: {c.metadata['source']}]\n{c.text}"
            for i, c in enumerate(chunks)
        ])

        # 3. Generate grounded response
        response = self.claude.messages.create(
            model="claude-sonnet-4-20250514",
            system=GROUNDED_SYSTEM_PROMPT,
            messages=[{
                "role": "user",
                "content": f"Context:\n{context}\n\nQuestion: {query}"
            }]
        )

        return response.content[0].text</code></pre>
          </section>

          <section>
            <h3>Test Generation System</h3>
            <pre><code class="language-python">class TestGenerator:
    async def generate_tests(self, file_path: str):
        code = read_file(file_path)

        # 1. Analyze code structure
        analysis = await self.analyze_code(code)

        # 2. Generate test cases for each function
        test_cases = []
        for func in analysis.functions:
            cases = await self.generate_test_cases(func, code)
            test_cases.extend(cases)

        # 3. Generate test code
        test_code = await self.generate_test_code(test_cases, file_path)

        # 4. Validate tests compile
        validation = await self.validate_tests(test_code)

        if not validation.success:
            # Self-correct
            test_code = await self.fix_tests(test_code, validation.errors)

        return test_code

    async def generate_test_cases(self, func, code) -> list:
        prompt = f"""Generate test cases for this function:

        {func.source}

        Include:
        - Happy path (2-3 cases)
        - Edge cases (empty, null, boundary values)
        - Error cases (invalid input)

        Format as JSON array of test case descriptions."""

        response = await self.claude.messages.create(...)</code></pre>
          </section>

          <section>
            <h3>Complete Architecture Example</h3>
            <pre><code class="language-text">┌─────────────────────────────────────────────────────────────┐
│                     Your Application                        │
└─────────────────────────────────────────────────────────────┘
                              │
                              ▼
┌─────────────────────────────────────────────────────────────┐
│                    Smart Router                             │
│  • Classifies request complexity                            │
│  • Routes to appropriate model                              │
│  • Manages rate limits                                      │
└────────────────────────────┬────────────────────────────────┘
                             │
         ┌───────────────────┼───────────────────┐
         ▼                   ▼                   ▼
    ┌─────────┐        ┌─────────┐        ┌─────────┐
    │  Haiku  │        │ Sonnet  │        │  Opus   │
    │  Fast   │        │ Balanced│        │ Complex │
    └─────────┘        └─────────┘        └─────────┘
         │                   │                   │
         └───────────────────┼───────────────────┘
                             ▼
┌─────────────────────────────────────────────────────────────┐
│                    Tool Executor                            │
│  • Parallel tool execution                                  │
│  • Error handling & retries                                 │
│  • Result validation                                        │
└─────────────────────────────────────────────────────────────┘
                             │
                             ▼
┌─────────────────────────────────────────────────────────────┐
│                    Response Handler                         │
│  • Streaming support                                        │
│  • Output validation                                        │
│  • Cost tracking                                            │
└─────────────────────────────────────────────────────────────┘</code></pre>
          </section>
        </section>

        <!-- ============================================ -->
        <!-- ============================================ -->
        <!-- SECTION 26: TYPESCRIPT WORKFLOWS -->
        <!-- ============================================ -->
        <section>
          <!-- WHY opener (Sinek) -->
          <section>
            <p class="big-idea">TypeScript + Claude<br/>= Type safety at speed.</p>
          </section>

          <section>
            <h2>25. TypeScript Developer Workflows</h2>
            <p>Let Claude handle the boilerplate</p>
          </section>

          <section>
            <h3>Generate Types from JSON</h3>
            <pre><code class="language-bash"># In Claude Code

"Here's a JSON response from our API:

{
  \"user\": {
    \"id\": \"usr_123\",
    \"email\": \"test@example.com\",
    \"profile\": {
      \"name\": \"John Doe\",
      \"avatar_url\": null,
      \"created_at\": \"2024-01-15T10:30:00Z\"
    },
    \"permissions\": [\"read\", \"write\", \"admin\"]
  },
  \"meta\": {
    \"request_id\": \"req_abc\",
    \"timestamp\": 1705312200
  }
}

Generate:
1. TypeScript interfaces (prefer interface over type)
2. Zod schemas for runtime validation
3. Type guards for narrowing
4. Make nullable fields explicit (not optional)"</code></pre>
          </section>

          <section>
            <h3>Generated Types Output</h3>
            <pre><code class="language-typescript">// Types
interface User {
  id: string;
  email: string;
  profile: UserProfile;
  permissions: Permission[];
}

interface UserProfile {
  name: string;
  avatar_url: string | null;
  created_at: string; // ISO 8601
}

type Permission = 'read' | 'write' | 'admin';

// Zod schemas
const UserProfileSchema = z.object({
  name: z.string(),
  avatar_url: z.string().nullable(),
  created_at: z.string().datetime(),
});

const UserSchema = z.object({
  id: z.string().startsWith('usr_'),
  email: z.string().email(),
  profile: UserProfileSchema,
  permissions: z.array(z.enum(['read', 'write', 'admin'])),
});

// Type guard
function isUser(value: unknown): value is User {
  return UserSchema.safeParse(value).success;
}</code></pre>
          </section>

          <section>
            <h3>API Client Generation</h3>
            <pre><code class="language-bash"># In Claude Code

"Read our OpenAPI spec at /api/openapi.yaml and generate
a type-safe API client.

Requirements:
- Use fetch (no axios)
- Generic error handling
- Request/response type inference
- Support for auth header injection
- Cancellation via AbortController
- Follow our patterns in /src/lib/api/

Example output structure:
```typescript
const api = createApiClient({ baseUrl, token });

// Should be fully typed
const user = await api.users.get({ id: 'usr_123' });
const users = await api.users.list({ page: 1, limit: 10 });
await api.users.update({ id: 'usr_123', data: { name: 'New' } });
```"</code></pre>
          </section>

          <section>
            <h3>Type-Safe Refactoring</h3>
            <pre><code class="language-bash"># In Claude Code

"I want to refactor our user permissions system.

Current: permissions are strings like 'read', 'write', 'admin'
Target: Granular permissions like 'users:read', 'posts:write'

Steps:
1. Find all places where permissions are used
2. Create new Permission type with all granular values
3. Create a migration map: old -> new[]
4. Update the User interface
5. Update all permission checks
6. Run tsc --noEmit after each file change
7. Run tests after each change

If tsc or tests fail, fix before proceeding.
Show me the plan first, then execute step by step."</code></pre>
            <p class="tip">Tip: TypeScript compiler is your validation layer - use it!</p>
          </section>

          <section>
            <h3>Complex Generic Types</h3>
            <pre><code class="language-typescript">// Ask Claude to explain or generate complex types

"I need a type that:
1. Takes an object type
2. Makes all nested properties optional recursively
3. But keeps arrays as arrays (not optional elements)
4. And preserves branded types

Example:
DeepPartial&lt;{ user: { name: string; tags: string[] } }&gt;
// Should be: { user?: { name?: string; tags?: string[] } }"

// Claude generates:
type DeepPartial&lt;T&gt; = T extends (infer U)[]
  ? DeepPartial&lt;U&gt;[]
  : T extends object
    ? { [K in keyof T]?: DeepPartial&lt;T[K]&gt; }
    : T;

// With branded type preservation:
type DeepPartial&lt;T&gt; = T extends Branded&lt;infer U, infer B&gt;
  ? Branded&lt;DeepPartial&lt;U&gt;, B&gt;
  : T extends (infer U)[]
    ? DeepPartial&lt;U&gt;[]
    : T extends object
      ? { [K in keyof T]?: DeepPartial&lt;T[K]&gt; }
      : T;</code></pre>
          </section>
        </section>

        <!-- ============================================ -->
        <!-- SECTION 27: DATA SCRAPING & VALIDATION -->
        <!-- ============================================ -->
        <section>
          <!-- WHY opener (Sinek) -->
          <section>
            <p class="big-idea">Bad data = bad models.<br/>Claude validates as you go.</p>
          </section>

          <section>
            <h2>26. Iterative Data Scraping & Validation</h2>
            <p>Quality data at scale</p>
          </section>

          <section>
            <h3>The Iterative Scraping Pattern</h3>
            <pre><code class="language-text">┌─────────────────────────────────────────────────────────────┐
│  1. Define Schema                                           │
│     └─► TypeScript interface + Zod validator                │
└──────────────────────────┬──────────────────────────────────┘
                           ▼
┌─────────────────────────────────────────────────────────────┐
│  2. Scrape Raw Data                                         │
│     └─► Playwright MCP / fetch / puppeteer                  │
└──────────────────────────┬──────────────────────────────────┘
                           ▼
┌─────────────────────────────────────────────────────────────┐
│  3. Claude Extracts & Structures                            │
│     └─► Raw HTML → Structured JSON                          │
└──────────────────────────┬──────────────────────────────────┘
                           ▼
┌─────────────────────────────────────────────────────────────┐
│  4. Validate with Zod                                       │
│     └─► Pass → Save │ Fail → Claude fixes or flags          │
└──────────────────────────┬──────────────────────────────────┘
                           ▼
┌─────────────────────────────────────────────────────────────┐
│  5. Review Failures, Evolve Schema                          │
│     └─► New edge cases → Update schema → Re-run             │
└─────────────────────────────────────────────────────────────┘</code></pre>
          </section>

          <section>
            <h3>Schema Definition</h3>
            <pre><code class="language-typescript">// schemas/company.ts
import { z } from 'zod';

export const CompanySchema = z.object({
  name: z.string().min(1),
  website: z.string().url(),
  description: z.string().optional(),
  founded: z.number().int().min(1800).max(2030).optional(),
  employees: z.enum(['1-10', '11-50', '51-200', '201-500', '500+']).optional(),
  funding: z.object({
    total: z.number().optional(),
    currency: z.string().default('USD'),
    lastRound: z.enum(['seed', 'series-a', 'series-b', 'series-c', 'ipo']).optional(),
  }).optional(),
  tags: z.array(z.string()).default([]),
  scrapedAt: z.string().datetime(),
  sourceUrl: z.string().url(),
  confidence: z.number().min(0).max(1), // Claude's confidence in extraction
});

export type Company = z.infer&lt;typeof CompanySchema&gt;;</code></pre>
          </section>

          <section>
            <h3>Scraping with Playwright MCP</h3>
            <pre><code class="language-bash"># In Claude Code with Playwright MCP enabled

"Scrape company data from this Y Combinator page:
https://www.ycombinator.com/companies?batch=W24

For each company on the page:
1. Navigate to the company detail page
2. Extract data matching our CompanySchema
3. Rate your confidence (0-1) on each extraction
4. If a field is ambiguous, set to null and note why

Save results to /data/raw/yc-w24-batch.json

After scraping:
1. Run validation: npx ts-node scripts/validate.ts
2. Show me validation failures
3. For each failure, explain why and suggest fix

Scrape 10 companies first as a test batch."</code></pre>
          </section>

          <section>
            <h3>Validation & Error Handling</h3>
            <pre><code class="language-typescript">// scripts/validate.ts
import { CompanySchema, Company } from '../schemas/company';
import rawData from '../data/raw/yc-w24-batch.json';

interface ValidationResult {
  valid: Company[];
  invalid: Array&lt;{
    data: unknown;
    errors: z.ZodError;
    suggestedFix?: string;
  }&gt;;
}

async function validateAndFix(data: unknown[]): Promise&lt;ValidationResult&gt; {
  const result: ValidationResult = { valid: [], invalid: [] };

  for (const item of data) {
    const parsed = CompanySchema.safeParse(item);

    if (parsed.success) {
      result.valid.push(parsed.data);
    } else {
      // Ask Claude to suggest fix
      const fix = await suggestFix(item, parsed.error);
      result.invalid.push({
        data: item,
        errors: parsed.error,
        suggestedFix: fix,
      });
    }
  }

  console.log(`Valid: ${result.valid.length}, Invalid: ${result.invalid.length}`);
  return result;
}</code></pre>
          </section>

          <section>
            <h3>Schema Evolution</h3>
            <pre><code class="language-bash"># After reviewing validation failures

"I see these validation failures:

1. 'employees' field has values like '~50 people' instead of enum
2. Some companies have 'headquarters' but schema doesn't include it
3. 'founded' sometimes is 'Summer 2023' not a number

Help me evolve the schema:

1. Create a migration for existing data
2. Update Zod schema to handle edge cases:
   - Transform '~50 people' → '51-200'
   - Add optional 'headquarters' field
   - Parse 'Summer 2023' → 2023
3. Add these transformations as Zod preprocess
4. Re-run validation on existing data
5. Document the schema changes

Keep backward compatibility with already-validated data."</code></pre>
          </section>

          <section>
            <h3>Building the Dataset</h3>
            <pre><code class="language-typescript">// Accumulate data over multiple runs
interface DatasetMeta {
  version: string;
  lastUpdated: string;
  sources: string[];
  totalRecords: number;
  schemaVersion: string;
  validationStats: {
    passed: number;
    failed: number;
    manuallyFixed: number;
  };
}

// Progressive dataset building workflow
async function updateDataset() {
  // 1. Load existing data
  const existing = await loadDataset();

  // 2. Scrape new sources
  const newData = await scrapeNewSources();

  // 3. Deduplicate
  const merged = deduplicateByDomain(existing, newData);

  // 4. Validate all
  const validated = await validateAll(merged);

  // 5. Save with metadata
  await saveDataset({
    data: validated.valid,
    meta: updateMeta(validated),
    failures: validated.invalid, // For manual review
  });
}</code></pre>
          </section>
        </section>

        <!-- ============================================ -->
        <!-- SECTION 28: DOCUMENTATION ENGINEERING -->
        <!-- ============================================ -->
        <section>
          <!-- WHY opener (Sinek) -->
          <section>
            <p class="big-idea">Docs from code.<br/>Always accurate. Always current.</p>
          </section>

          <section>
            <h2>27. Documentation Engineering</h2>
            <p>Documentation that writes itself</p>
          </section>

          <section>
            <h3>API Documentation from Code</h3>
            <pre><code class="language-bash"># In Claude Code

"Generate API documentation for our REST endpoints.

Scan /src/api/routes/ and for each endpoint:

1. Extract:
   - HTTP method and path
   - Request parameters (path, query, body)
   - Response types
   - Auth requirements
   - Rate limits (from decorators)

2. Generate OpenAPI 3.0 spec

3. Create human-readable docs with:
   - Description (infer from function name + code)
   - Example requests (curl + JavaScript)
   - Example responses
   - Error codes and meanings

4. Verify examples work:
   - Run against local server
   - Fix any that fail

Output to /docs/api/ as markdown files."</code></pre>
          </section>

          <section>
            <h3>README Generation</h3>
            <pre><code class="language-bash"># Generate comprehensive README

"Analyze this project and generate a README.md that includes:

## Must have:
- Project title and one-line description
- Badges (build status, version, license)
- Quick start (3 commands to run locally)
- Prerequisites (node version, required tools)

## Based on codebase analysis:
- Architecture overview (from folder structure)
- Key dependencies and why we use them
- Environment variables (from .env.example)
- Available scripts (from package.json)

## From git history:
- Contributing guidelines (based on PR patterns)
- Code style (infer from existing code)

## From existing docs:
- Link to detailed documentation
- Link to API reference

Keep it under 500 lines. Link to separate files for deep dives."</code></pre>
          </section>

          <section>
            <h3>Architecture Decision Records</h3>
            <pre><code class="language-markdown"># .claude/commands/adr.md
---
description: Create Architecture Decision Record
arguments:
  - name: title
    description: Decision title
    required: true
---

Create an ADR for: $ARGUMENTS.title

1. First, ask me clarifying questions:
   - What problem are we solving?
   - What alternatives did we consider?
   - What are the constraints?

2. Then generate ADR with:
   - Title: ADR-[next number]: $ARGUMENTS.title
   - Date: today
   - Status: Proposed
   - Context: The problem and why we need to decide
   - Decision: What we chose
   - Consequences: Positive, negative, neutral
   - Alternatives: What we rejected and why

3. Save to /docs/adr/[number]-[slug].md

4. Update /docs/adr/README.md index</code></pre>
          </section>

          <section>
            <h3>Runbook Generation</h3>
            <pre><code class="language-bash"># Generate operational runbooks

"Create runbooks for our production incidents.

Analyze:
- /src/monitoring/alerts.ts (alert definitions)
- /infrastructure/k8s/ (deployment configs)
- Historical incidents in /docs/postmortems/

Generate runbooks for:

1. High Memory Alert
   - Symptoms
   - Investigation steps (kubectl commands)
   - Common causes
   - Remediation (restart, scale, rollback)
   - Escalation path

2. Database Connection Errors
   - How to check connection pool
   - How to check for locks
   - How to failover to replica

3. API Latency Spike
   - How to identify slow endpoints
   - How to check external dependencies
   - When to enable circuit breaker

Format: Step-by-step with exact commands.
Include: Who to page and when."</code></pre>
          </section>

          <section>
            <h3>Changelog Automation</h3>
            <pre><code class="language-bash"># .claude/commands/changelog.md
---
description: Generate changelog from commits
arguments:
  - name: from
    description: Starting git ref (tag or commit)
    required: true
  - name: to
    description: Ending git ref (default: HEAD)
    required: false
    default: HEAD
---

Generate changelog from $ARGUMENTS.from to $ARGUMENTS.to:

```bash
git log $ARGUMENTS.from..$ARGUMENTS.to --oneline
```

Group changes by:
- ✨ Features (feat: commits)
- 🐛 Bug Fixes (fix: commits)
- ⚡ Performance (perf: commits)
- 📚 Documentation (docs: commits)
- 🔧 Internal (chore:, refactor: commits)

For each item:
- One-line description
- PR number if available
- Breaking changes highlighted

Format for CHANGELOG.md using Keep a Changelog style.
Include release date as today.</code></pre>
          </section>
        </section>

        <!-- ============================================ -->
        <!-- SECTION 29: FRONTEND DESIGN -->
        <!-- ============================================ -->
        <section>
          <!-- WHY opener (Sinek) -->
          <section>
            <p class="big-idea">Describe the UI.<br/>Claude codes it.</p>
          </section>

          <section>
            <h2>28. Frontend Design with Claude</h2>
            <p>From wireframe to component</p>
          </section>

          <section>
            <h3>Component Design from Description</h3>
            <pre><code class="language-bash"># In Claude Code

"Design a DataTable component with:

Requirements:
- Sortable columns (click header)
- Pagination (10/25/50 per page)
- Row selection (checkbox)
- Bulk actions toolbar
- Search/filter
- Loading skeleton
- Empty state
- Responsive (card view on mobile)

Tech stack:
- React + TypeScript
- Tailwind CSS
- Follow our patterns in /src/components/

Generate:
1. Component API (props interface)
2. Subcomponents (Header, Row, Pagination, etc.)
3. Hooks for state management
4. Storybook stories for each state
5. Unit tests

Build iteratively - show me the API first, then implement."</code></pre>
          </section>

          <section>
            <h3>Responsive Layout Patterns</h3>
            <pre><code class="language-bash"># Design system-aware layouts

"Create a dashboard layout with:

Desktop (>1024px):
┌─────────┬─────────────────────────────────┐
│ Sidebar │  Header                         │
│         ├─────────────────────────────────┤
│  Nav    │  Main Content                   │
│         │  (grid: 3 columns)              │
│         │                                 │
└─────────┴─────────────────────────────────┘

Tablet (768-1024px):
┌─────────────────────────────────────────┐
│ Header (hamburger menu)                 │
├─────────────────────────────────────────┤
│ Main Content (2 columns)                │
└─────────────────────────────────────────┘

Mobile (<768px):
- Single column
- Bottom navigation
- Cards stack vertically

Use our Tailwind config in tailwind.config.js
Match our existing Dashboard in /src/pages/Dashboard"</code></pre>
          </section>

          <section>
            <h3>Design Iteration with Screenshots</h3>
            <pre><code class="language-bash"># Take screenshot, iterate on design

"Look at this screenshot of our current login page:
/screenshots/login-current.png

Issues I see:
- Form feels cramped
- Error messages not visible enough
- No password visibility toggle
- Forgot password link hard to find

Redesign following:
1. More whitespace
2. Clearer visual hierarchy
3. Better error states (inline, not toast)
4. Add social login buttons (prepared for future)
5. Match our brand colors in /src/styles/tokens.ts

Generate the new React component.
After generating, I'll screenshot it and we can iterate."</code></pre>
          </section>

          <section>
            <h3>Accessibility Audit & Fix</h3>
            <pre><code class="language-bash"># Automated accessibility improvements

"Audit /src/components/ for accessibility issues.

Check for:
1. Missing alt text on images
2. Missing aria-labels on interactive elements
3. Color contrast issues (use our color tokens)
4. Missing keyboard navigation
5. Missing focus indicators
6. Form labels not associated with inputs
7. Missing skip links
8. Improper heading hierarchy

For each issue:
- File and line number
- WCAG guideline violated
- Severity (A, AA, AAA)
- Suggested fix with code

After audit, fix all A and AA issues automatically.
Generate before/after summary."</code></pre>
          </section>

          <section>
            <h3>Design System Documentation</h3>
            <pre><code class="language-bash"># Generate living design system docs

"Document our design system from code:

1. Color Tokens
   - Extract from tailwind.config.js
   - Show color swatches
   - Document semantic meanings

2. Typography
   - Font families, sizes, weights
   - Usage guidelines (h1 for page titles, etc.)

3. Spacing
   - Our spacing scale
   - When to use each

4. Components
   - Scan /src/components/ui/
   - For each: props, variants, examples
   - Do/Don't guidelines from code comments

5. Patterns
   - Form layouts
   - Card patterns
   - Navigation patterns

Output as MDX for our Storybook documentation.
Include live code examples."</code></pre>
          </section>
        </section>

        <!-- ============================================ -->
        <!-- SECTION 30: MERMAID DIAGRAMS -->
        <!-- ============================================ -->
        <section>
          <!-- WHY opener (Sinek) -->
          <section>
            <p class="big-idea">Pictures explain<br/>what words can't.</p>
          </section>

          <section>
            <h2>29. Mermaid Diagrams</h2>
            <p>Architecture as code</p>
          </section>

          <section>
            <h3>Why Mermaid?</h3>
            <ul>
              <li>Text-based → version control friendly</li>
              <li>Claude can generate AND update diagrams</li>
              <li>Native GitHub/GitLab rendering</li>
              <li>Integrates with docs, PRs, READMEs</li>
              <li>No external tools needed</li>
            </ul>
            <pre><code class="language-bash"># Ask Claude to create diagrams

"Create a Mermaid sequence diagram showing
our OAuth login flow with these actors:
- Browser
- Next.js App
- NextAuth
- Google OAuth
- Database

Show the complete flow from click to session."</code></pre>
          </section>

          <section>
            <h3>Architecture Diagram Generation</h3>
            <pre><code class="language-bash"># Prompt for architecture overview

"Analyze our codebase structure and create a Mermaid
architecture diagram showing:

1. Frontend components and their relationships
2. API routes and their handlers
3. Database models and relationships
4. External service integrations

Use appropriate Mermaid diagram types:
- flowchart for component relationships
- erDiagram for database models
- sequenceDiagram for data flows

Output each as a separate code block."</code></pre>
          </section>

          <section>
            <h3>Generated: System Architecture</h3>
            <pre class="mermaid">flowchart TB
    subgraph Client["Client Layer"]
        Browser[Browser]
        Mobile[Mobile App]
    end

    subgraph Frontend["Next.js Frontend"]
        Pages[Pages/Routes]
        Components[React Components]
        Hooks[Custom Hooks]
        Store[Zustand Store]
    end

    subgraph API["API Layer"]
        tRPC[tRPC Router]
        Auth[NextAuth]
        Middleware[Middleware]
    end

    subgraph Services["Services"]
        UserSvc[User Service]
        OrderSvc[Order Service]
        PaymentSvc[Payment Service]
    end

    subgraph External["External"]
        Stripe[Stripe]
        SendGrid[SendGrid]
        S3[AWS S3]
    end

    subgraph Data["Data Layer"]
        Prisma[Prisma ORM]
        DB[(PostgreSQL)]
        Redis[(Redis Cache)]
    end

    Browser --> Pages
    Mobile --> tRPC
    Pages --> Components
    Components --> Hooks
    Hooks --> Store
    Hooks --> tRPC
    tRPC --> Auth
    tRPC --> Middleware
    Middleware --> UserSvc & OrderSvc & PaymentSvc
    PaymentSvc --> Stripe
    UserSvc --> SendGrid
    OrderSvc --> S3
    UserSvc & OrderSvc & PaymentSvc --> Prisma
    Prisma --> DB
    tRPC --> Redis</pre>
          </section>

          <section>
            <h3>Generated: Database Schema</h3>
            <pre class="mermaid">erDiagram
    User ||--o{ Order : places
    User ||--o{ Address : has
    User ||--o{ Review : writes
    User {
        string id PK
        string email
        string name
        string passwordHash
        string role
        datetime createdAt
    }

    Order ||--|{ OrderItem : contains
    Order {
        string id PK
        string userId FK
        string addressId FK
        string status
        int totalCents
        datetime createdAt
    }

    Product ||--o{ OrderItem : ordered_in
    Product ||--o{ Review : receives
    Product {
        string id PK
        string slug
        string name
        string description
        int priceCents
        int stock
        string categoryId FK
    }

    OrderItem {
        string id PK
        string orderId FK
        string productId FK
        int quantity
        int priceCents
    }

    Category ||--o{ Product : contains
    Category {
        string id PK
        string slug
        string name
        string parentId FK
    }</pre>
          </section>

          <section>
            <h3>Generated: Auth Flow</h3>
            <pre class="mermaid">sequenceDiagram
    autonumber
    actor User
    participant Browser
    participant NextJS as Next.js
    participant NextAuth
    participant Google
    participant DB as Database

    User->>Browser: Click "Sign in with Google"
    Browser->>NextJS: GET /api/auth/signin
    NextJS->>NextAuth: Initialize OAuth
    NextAuth->>Browser: Redirect to Google
    Browser->>Google: Authorization request
    Google->>User: Show consent screen
    User->>Google: Grant permission
    Google->>Browser: Redirect with code
    Browser->>NextAuth: Callback with code
    NextAuth->>Google: Exchange code for tokens
    Google->>NextAuth: Access token + ID token
    NextAuth->>Google: Fetch user profile
    Google->>NextAuth: User info
    NextAuth->>DB: Find or create user
    DB->>NextAuth: User record
    NextAuth->>NextAuth: Create session JWT
    NextAuth->>Browser: Set session cookie
    Browser->>User: Logged in!</pre>
          </section>

          <section>
            <h3>Generated: Order State Machine</h3>
            <pre class="mermaid">stateDiagram-v2
    [*] --> Pending: Order created

    Pending --> Confirmed: Payment success
    Pending --> Cancelled: Payment failed
    Pending --> Cancelled: User cancels

    Confirmed --> Processing: Staff picks up
    Confirmed --> Cancelled: User cancels (refund)

    Processing --> Shipped: Handed to carrier
    Processing --> Cancelled: Out of stock (refund)

    Shipped --> Delivered: Delivery confirmed
    Shipped --> Returned: Delivery failed

    Delivered --> Refunded: Return requested (30d)
    Delivered --> [*]: Completed

    Returned --> Refunded: Return received

    Cancelled --> [*]
    Refunded --> [*]

    note right of Processing: Inventory reserved
    note right of Shipped: Tracking email sent
    note right of Refunded: 5-7 business days</pre>
          </section>

          <section>
            <h3>CI/CD Pipeline Diagram</h3>
            <pre class="mermaid">flowchart LR
    subgraph Trigger["Trigger"]
        Push[Push to main]
        PR[Pull Request]
    end

    subgraph Build["Build Stage"]
        Install[npm install]
        Lint[ESLint]
        Types[TypeScript]
        Unit[Unit Tests]
    end

    subgraph Test["Test Stage"]
        Integration[Integration Tests]
        E2E[E2E Tests]
        Coverage[Coverage Check]
    end

    subgraph Deploy["Deploy Stage"]
        BuildApp[Build App]
        Preview[Preview Deploy]
        Prod[Production]
    end

    Push --> Install
    PR --> Install
    Install --> Lint --> Types --> Unit
    Unit --> Integration --> E2E --> Coverage
    Coverage --> BuildApp
    BuildApp --> Preview
    Preview -->|main only| Prod

    style Prod fill:#22c55e
    style Preview fill:#3b82f6</pre>
          </section>

          <section>
            <h3>Timeline / Roadmap</h3>
            <pre class="mermaid">timeline
    title Product Roadmap 2025
    section Q1
        Auth System : JWT implementation
                    : OAuth providers
                    : 2FA support
    section Q2
        API v2 : GraphQL migration
               : Rate limiting
               : Webhooks
    section Q3
        Mobile App : iOS release
                   : Android release
                   : Push notifications
    section Q4
        AI Features : Claude integration
                    : Smart search
                    : Auto-categorization</pre>
          </section>

          <section>
            <h3>Gantt Chart</h3>
            <pre class="mermaid">gantt
    title Sprint Planning
    dateFormat YYYY-MM-DD
    section Backend
        API endpoints     :a1, 2025-01-06, 5d
        Database schema   :a2, after a1, 3d
        Unit tests        :a3, after a2, 2d
    section Frontend
        UI components     :b1, 2025-01-06, 4d
        Integration       :b2, after a1, 3d
        E2E tests         :b3, after b2, 2d
    section DevOps
        CI/CD setup       :c1, 2025-01-08, 2d
        Deployment        :milestone, after a3 b3, 0d</pre>
          </section>

          <section>
            <h3>Mindmap</h3>
            <pre class="mermaid">mindmap
  root((Claude Code))
    API
      Messages
      Tools
      Streaming
      Batches
    CLI
      Commands
      Plugins
      MCP
    Best Practices
      CLAUDE.md
      Prompting
      Testing
      Security</pre>
          </section>

          <section>
            <h3>Git Graph</h3>
            <pre class="mermaid">gitGraph
    commit id: "init"
    commit id: "feat: auth"
    branch feature/payments
    commit id: "wip: stripe"
    commit id: "feat: checkout"
    checkout main
    commit id: "fix: login bug"
    merge feature/payments id: "merge: payments"
    commit id: "chore: release v1.0"</pre>
          </section>

          <section>
            <h3>Quadrant Chart</h3>
            <pre class="mermaid">quadrantChart
    title Task Prioritization
    x-axis Low Effort --> High Effort
    y-axis Low Impact --> High Impact
    quadrant-1 Do First
    quadrant-2 Schedule
    quadrant-3 Delegate
    quadrant-4 Eliminate
    Auth refactor: [0.8, 0.9]
    Dark mode: [0.2, 0.3]
    API docs: [0.3, 0.7]
    Button color: [0.1, 0.1]
    Caching: [0.7, 0.8]
    Analytics: [0.5, 0.6]</pre>
          </section>

          <section>
            <h3>Pie Chart</h3>
            <pre class="mermaid">pie showData
    title Token Usage by Feature
    "Prompt" : 15
    "Context" : 45
    "Response" : 30
    "System" : 10</pre>
          </section>

          <section>
            <h3>Prompt: Keep Diagrams Updated</h3>
            <pre><code class="language-bash"># When making changes that affect architecture

"I'm adding a new payment provider (PayPal) alongside
Stripe. Update these Mermaid diagrams:

1. docs/architecture.md - System architecture flowchart
2. docs/payment-flow.md - Payment sequence diagram

Show me the diff for each diagram. Ensure:
- New PayPal node added to external services
- Payment service shows both providers
- Sequence shows provider selection logic
- Add note about provider fallback

Keep existing style and formatting consistent."</code></pre>
          </section>
        </section>

        <!-- ============================================ -->
        <!-- SECTION 31: LARGE CODEBASE STRATEGIES -->
        <!-- ============================================ -->
        <section>
          <!-- WHY opener (Sinek) -->
          <section>
            <p class="big-idea">Small projects are easy.<br/>Real codebases are monsters.</p>
          </section>

          <section>
            <h2>30. Large Codebase Strategies</h2>
            <p>When your code doesn't fit in context</p>
          </section>

          <section>
            <h3>The Context Challenge</h3>
            <table style="font-size: 0.7em;">
              <tr><th>Codebase Size</th><th>Files</th><th>Context Strategy</th></tr>
              <tr><td>&lt; 50k lines</td><td>~100</td><td>Can fit most in context</td></tr>
              <tr><td>50k - 200k</td><td>~500</td><td>Selective loading required</td></tr>
              <tr><td>200k - 1M</td><td>~2000</td><td>Map-reduce approach</td></tr>
              <tr><td>&gt; 1M lines</td><td>~5000+</td><td>Index + targeted retrieval</td></tr>
            </table>
            <p class="fragment tip">See Section 11 for /compact</p>
          </section>

          <section>
            <h3>Strategy 1: Entry Points</h3>
            <pre><code class="language-markdown"># In CLAUDE.md - Define entry points

## Key Entry Points
- `src/index.ts` - Main application bootstrap
- `src/api/routes.ts` - All API routes defined here
- `src/models/index.ts` - Database model exports
- `src/services/` - Business logic, one file per domain

## Architecture
Follow the route → controller → service → model pattern
All business logic lives in services, never in controllers</code></pre>
            <p class="fragment">Don't describe everything—describe where to start</p>
          </section>

          <section>
            <h3>Strategy 2: Git Worktree for Parallel Agents</h3>
            <pre><code class="language-bash"># Create isolated working directories for parallel Claude sessions
git worktree add ../project-feature-auth feature/auth
git worktree add ../project-feature-payments feature/payments
git worktree add ../project-refactor-api refactor/api

# Now run 3 Claude instances simultaneously
cd ../project-feature-auth && claude
cd ../project-feature-payments && claude
cd ../project-refactor-api && claude

# Each Claude works on its own branch, no conflicts
# Merge when ready:
git worktree remove ../project-feature-auth
git merge feature/auth</code></pre>
            <p class="fragment warning">Each worktree = separate Claude context = parallel velocity</p>
          </section>

          <section>
            <h3>Git Worktree Benefits</h3>
            <div style="display: flex; justify-content: space-around; font-size: 0.8em;">
              <div>
                <p style="color: #ff6b6b;">Without Worktree</p>
                <ul>
                  <li>One Claude at a time</li>
                  <li>Context pollution</li>
                  <li>Stash/switch dance</li>
                  <li>Sequential work only</li>
                </ul>
              </div>
              <div>
                <p style="color: #51cf66;">With Worktree</p>
                <ul>
                  <li>Multiple Claudes</li>
                  <li>Isolated contexts</li>
                  <li>No git gymnastics</li>
                  <li>True parallelism</li>
                </ul>
              </div>
            </div>
            <p class="fragment punch-line">Worktrees turn one dev into a team</p>
          </section>

          <section>
            <h3>Strategy 3: Subfolder CLAUDE.md</h3>
            <pre><code class="language-text"># Project structure with local context
project/
├── CLAUDE.md           # Global project context
├── src/
│   ├── auth/
│   │   ├── CLAUDE.md   # Auth-specific patterns
│   │   └── ...
│   ├── payments/
│   │   ├── CLAUDE.md   # Payment domain knowledge
│   │   └── ...
│   └── api/
│       ├── CLAUDE.md   # API conventions
│       └── ...</code></pre>
            <p class="tip">Claude loads CLAUDE.md from current directory + parents.<br>
              <span style="font-size: 0.85em;">→ See Section 8 for inheritance rules and conflict resolution.</span></p>
          </section>

          <section>
            <h3>Strategy 4: Index Files</h3>
            <pre><code class="language-bash"># Generate searchable index of your codebase
"Create an index of the codebase:

For each directory in src/:
1. List all files with one-line descriptions
2. Note key exports (functions, classes, types)
3. Document dependencies between modules
4. Mark files as: core | feature | util | test

Output as: docs/CODEBASE_INDEX.md

This helps me quickly find relevant files without
loading the entire codebase into context."</code></pre>
          </section>

          <section>
            <h3>Strategy 5: Progressive Loading</h3>
            <pre><code class="language-bash"># Start narrow, expand as needed
"I need to add email verification to user signup.

Step 1: Show me the current signup flow
- Which files handle user registration?
- What's the database schema for users?

Don't load everything yet - just the entry points."

# Claude identifies: src/auth/signup.ts, src/models/user.ts

"Now show me those two files and any services they call."

# Iterate: expand context only when needed</code></pre>
            <p class="fragment">Pull files on-demand, not upfront</p>
          </section>

          <section>
            <h3>Strategy 6: Architectural Decisions Record</h3>
            <pre><code class="language-markdown"># docs/decisions/ADR-001-auth-strategy.md
## Status: Accepted
## Context
We need authentication for the API. Options considered:
- Session-based with Redis
- JWT with refresh tokens
- OAuth2 only

## Decision
JWT with short-lived access tokens (15min) + refresh tokens (7d)

## Consequences
- Stateless API servers (scalable)
- Token refresh logic needed in clients
- Can't invalidate tokens instantly (use blocklist for critical cases)</code></pre>
            <p class="fragment">ADRs give Claude WHY context, not just WHAT</p>
          </section>

          <section>
            <h3>Anti-Pattern: The Brain Dump</h3>
            <pre><code class="language-bash"># DON'T do this
"Here's our entire codebase, all 500 files:
@src/**/*
Now add a login feature."

# Context flooded, Claude confused, results poor</code></pre>
            <p class="fragment" style="color: #51cf66;">DO: Start with the question, let Claude request files</p>
          </section>
        </section>

        <!-- ============================================ -->
        <!-- SECTION 32: DATABASE OPERATIONS -->
        <!-- ============================================ -->
        <section>
          <!-- WHY opener (Sinek) -->
          <section>
            <p class="big-idea">Migrations are scary.<br/>Claude makes them less so.</p>
          </section>

          <section>
            <h2>31. Database Operations</h2>
            <p>Schema changes without the fear</p>
          </section>

          <section>
            <h3>Schema Migration Generation</h3>
            <pre><code class="language-bash"># Describe the change, get the migration
"I need to add a 'teams' feature to our app.

Current schema: users table with id, email, name
New requirement: Users can belong to multiple teams

Generate:
1. Prisma schema changes
2. Migration SQL
3. Seed data for testing
4. Rollback migration

Consider:
- Existing users should be in a 'Default' team
- Team names must be unique
- Soft delete for teams"</code></pre>
          </section>

          <section>
            <h3>Generated: Prisma Schema</h3>
            <pre><code class="language-prisma">model Team {
  id        String   @id @default(cuid())
  name      String   @unique
  slug      String   @unique
  deletedAt DateTime?
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
  members   TeamMember[]
}

model TeamMember {
  id     String   @id @default(cuid())
  role   TeamRole @default(MEMBER)
  userId String
  teamId String
  user   User @relation(fields: [userId], references: [id])
  team   Team @relation(fields: [teamId], references: [id])

  @@unique([userId, teamId])
  @@index([teamId])
}

enum TeamRole {
  OWNER
  ADMIN
  MEMBER
}</code></pre>
          </section>

          <section>
            <h3>Query Optimization</h3>
            <pre><code class="language-bash"># Give Claude your slow query
"This query is slow (2.3s on 100k rows):

SELECT u.*, COUNT(o.id) as order_count
FROM users u
LEFT JOIN orders o ON o.user_id = u.id
WHERE u.created_at > '2024-01-01'
GROUP BY u.id
ORDER BY order_count DESC
LIMIT 20;

EXPLAIN ANALYZE output: [paste here]

Suggest:
1. Index improvements
2. Query rewrites
3. Caching strategy if query can't be fast"</code></pre>
          </section>

          <section>
            <h3>Data Validation Scripts</h3>
            <pre><code class="language-bash"># Before migrations, validate data integrity
"Before I run the teams migration, generate a
validation script that checks:

1. No orphan records exist
2. All emails are valid format
3. No duplicate users (by email, case-insensitive)
4. All required fields are populated
5. Foreign keys are consistent

Output as: scripts/pre-migration-check.ts
Should exit with error if any check fails
Include summary report of issues found"</code></pre>
          </section>

          <section>
            <h3>Seed Data Generation</h3>
            <pre><code class="language-bash"># Realistic test data
"Generate seed data for local development:

- 50 users (realistic names, emails)
- 10 teams with varied sizes (2-15 members)
- 200 orders distributed across users
- Include edge cases:
  - User with no orders
  - User in multiple teams
  - Team with one member (owner)
  - Archived/soft-deleted records

Use Faker.js patterns
Output as: prisma/seed.ts"</code></pre>
          </section>

          <section>
            <h3>Safe Migration Workflow</h3>
            <pre><code class="language-bash"># Step-by-step migration with Claude
"Guide me through a safe migration:

Change: Add 'status' enum to orders table

1. Generate the migration
2. Create backfill script for existing records
3. Add database constraint after backfill
4. Update application code
5. Verify no regressions

I'm using PostgreSQL + Prisma.
Show me each step, wait for confirmation before next."</code></pre>
            <p class="fragment warning">Always review generated migrations before running</p>
          </section>
        </section>

        <!-- ============================================ -->
        <!-- SECTION 33: REMOTE DEVELOPMENT -->
        <!-- ============================================ -->
        <section>
          <!-- WHY opener (Sinek) -->
          <section>
            <p class="big-idea">Local dev has limits.<br/>The cloud doesn't.</p>
          </section>

          <section>
            <h2>32. Remote Development</h2>
            <p>Claude Code on any machine, anywhere</p>
          </section>

          <section>
            <h3>Why Remote?</h3>
            <ul>
              <li><strong>Power</strong>: 96 vCPUs vs your laptop's 8</li>
              <li><strong>Memory</strong>: 384GB RAM for ML workloads</li>
              <li><strong>Storage</strong>: Fast NVMe, unlimited capacity</li>
              <li><strong>Network</strong>: Closer to production services</li>
              <li><strong>Security</strong>: Code never leaves secure environment</li>
            </ul>
          </section>

          <section>
            <h3>GitHub Codespaces Setup</h3>
            <pre><code class="language-json">// .devcontainer/devcontainer.json
{
  "name": "Claude Code Environment",
  "image": "mcr.microsoft.com/devcontainers/typescript-node:20",
  "features": {
    "ghcr.io/devcontainers/features/docker-in-docker:2": {}
  },
  "postCreateCommand": "npm install -g @anthropic-ai/claude-code",
  "customizations": {
    "vscode": {
      "extensions": ["anthropics.claude-code"]
    }
  },
  "secrets": {
    "ANTHROPIC_API_KEY": {
      "description": "API key for Claude"
    }
  }
}</code></pre>
          </section>

          <section>
            <h3>SSH Remote Development</h3>
            <pre><code class="language-bash"># Connect to remote server with Claude
ssh dev-server

# Claude Code works over SSH
claude "Show me the production logs for errors"

# Or use VS Code Remote SSH
code --remote ssh-remote+dev-server /path/to/project

# Claude integrates seamlessly with VS Code Remote</code></pre>
            <p class="tip">Your API key stays local, only prompts travel</p>
          </section>

          <section>
            <h3>Docker Development Environment</h3>
            <pre><code class="language-dockerfile"># Dockerfile.dev
FROM node:20-slim

# Install Claude Code
RUN npm install -g @anthropic-ai/claude-code

# Install development tools
RUN apt-get update && apt-get install -y \
    git curl vim \
    && rm -rf /var/lib/apt/lists/*

WORKDIR /workspace

# Keep container running
CMD ["tail", "-f", "/dev/null"]</code></pre>
            <pre><code class="language-bash"># Run development container
docker run -it -v $(pwd):/workspace \
  -e ANTHROPIC_API_KEY=$ANTHROPIC_API_KEY \
  my-dev-env claude</code></pre>
          </section>

          <section>
            <h3>Cloud IDE Integration</h3>
            <table style="font-size: 0.7em;">
              <tr><th>Platform</th><th>Claude Code Support</th><th>Setup</th></tr>
              <tr><td>GitHub Codespaces</td><td>Full</td><td>devcontainer.json</td></tr>
              <tr><td>Gitpod</td><td>Full</td><td>.gitpod.yml</td></tr>
              <tr><td>AWS Cloud9</td><td>Full</td><td>npm install</td></tr>
              <tr><td>Google Cloud Shell</td><td>Full</td><td>npm install</td></tr>
              <tr><td>Replit</td><td>Limited</td><td>Shell access</td></tr>
            </table>
          </section>

          <section>
            <h3>Hybrid Workflow</h3>
            <pre><code class="language-text">Local Machine          Remote Server
┌─────────────┐        ┌─────────────┐
│ VS Code     │───SSH──│ Dev Server  │
│ Claude IDE  │        │ Claude CLI  │
└─────────────┘        └─────────────┘
       │                      │
       │                      ▼
       │               ┌─────────────┐
       │               │ Docker      │
       │               │ Databases   │
       │               │ Services    │
       │               └─────────────┘
       │
       ▼
 Light editing        Heavy computation</code></pre>
            <p class="fragment">Use remote for builds, local for quick edits</p>
          </section>
        </section>

        <!-- ============================================ -->
        <!-- SECTION 34: MULTILINGUAL CAPABILITIES -->
        <!-- ============================================ -->
        <section>
          <!-- WHY opener (Sinek) -->
          <section>
            <p class="big-idea">Parlez-vous code?<br/>Claude speaks your language.</p>
          </section>

          <section>
            <h2>33. Multilingual Capabilities</h2>
            <p>English isn't always the best prompt language</p>
          </section>

          <section>
            <h3>The Surprising Research</h3>
            <div class="section-why">
              <p>Multiple studies show non-English prompts can outperform English for certain tasks:</p>
              <ul style="font-size: 0.8em;">
                <li><strong>German</strong>: Better for structured, precise instructions</li>
                <li><strong>French</strong>: Excels at nuanced descriptions</li>
                <li><strong>Chinese</strong>: Efficient for complex logic (fewer tokens)</li>
                <li><strong>Spanish</strong>: Good for conversational flows</li>
              </ul>
            </div>
            <p class="fragment quote-author">— "Prompting in Your Native Language", arXiv 2024</p>
          </section>

          <section>
            <h3>Why This Matters</h3>
            <ul>
              <li><strong>Comfort</strong>: Think in your native language</li>
              <li><strong>Precision</strong>: Some concepts translate poorly</li>
              <li><strong>Speed</strong>: No mental translation overhead</li>
              <li><strong>Teams</strong>: Global teams can use their languages</li>
            </ul>
            <p class="fragment tip">Claude understands 100+ languages fluently</p>
          </section>

          <section>
            <h3>Example: French Prompt</h3>
            <pre><code class="language-bash"># French prompt for precise specification
claude "Crée une fonction de validation d'email qui:
- Vérifie le format standard RFC 5322
- Refuse les domaines jetables (liste à maintenir)
- Normalise les adresses Gmail (ignore les points)
- Retourne un objet { valid: boolean, reason?: string }

Utilise TypeScript avec des types stricts."</code></pre>
            <p class="fragment">Claude responds in French or English (your choice)</p>
          </section>

          <section>
            <h3>Example: German Prompt</h3>
            <pre><code class="language-bash"># German for structured requirements
claude "Implementiere eine Zustandsmaschine für Bestellungen:

Zustände: ERSTELLT, BEZAHLT, VERSENDET, GELIEFERT, STORNIERT

Übergänge:
- ERSTELLT → BEZAHLT (bei erfolgreicher Zahlung)
- ERSTELLT → STORNIERT (durch Kunde oder Timeout)
- BEZAHLT → VERSENDET (durch Lager)
- VERSENDET → GELIEFERT (Lieferbestätigung)
- BEZAHLT → STORNIERT (nur mit Rückerstattung)

Validiere alle Übergänge. TypeScript + XState."</code></pre>
          </section>

          <section>
            <h3>Mixed Language Strategy</h3>
            <pre><code class="language-bash"># Prompt in native language, code in English
claude "日本語で説明します：

ユーザー認証システムを作成してください。
要件：
- JWTトークン（15分有効）
- リフレッシュトークン（7日間）
- レート制限（1分間に5回まで）

コードは英語で書いてください。
コメントは日本語でお願いします。"</code></pre>
            <p class="fragment">Best of both worlds: think native, code standard</p>
          </section>

          <section>
            <h3>CLAUDE.md in Any Language</h3>
            <pre><code class="language-markdown"># CLAUDE.md (Español)

## Convenciones del Proyecto
- Usamos TypeScript estricto
- Los nombres de variables en inglés
- Comentarios en español para el equipo local
- Tests con descripciones en español

## Estructura
- `src/servicios/` - Lógica de negocio
- `src/modelos/` - Esquemas de base de datos
- `src/rutas/` - Endpoints de API

## Comandos
- `npm run dev` - Servidor de desarrollo
- `npm test` - Ejecutar pruebas</code></pre>
          </section>

          <section>
            <h3>Language Switching Mid-Conversation</h3>
            <pre><code class="language-bash"># Start in English
claude "Create a user authentication system"

# Switch to French for clarification
"En fait, je préfère utiliser Passport.js plutôt que
de gérer l'auth manuellement. Peux-tu adapter?"

# Claude continues seamlessly in French
# Or ask explicitly: "Continue in English please"</code></pre>
            <p class="fragment">Claude maintains context across language switches</p>
          </section>

          <section>
            <h3>Research Citations</h3>
            <div style="font-size: 0.65em; text-align: left;">
              <p><strong>"Cross-Lingual Prompting"</strong> (2024)<br/>
              Found that prompts in the user's native language improved task completion by 12-18% for non-native English speakers.</p>

              <p><strong>"Multilingual LLM Evaluation"</strong> (2024)<br/>
              Claude ranked #1 for multilingual code generation, handling technical jargon in 50+ languages.</p>

              <p><strong>"Token Efficiency Across Languages"</strong> (2023)<br/>
              Chinese prompts used 40% fewer tokens for equivalent instructions, reducing costs.</p>
            </div>
          </section>

          <section>
            <h3>Best Practices</h3>
            <ul>
              <li><strong>Use your strongest language</strong> for complex requirements</li>
              <li><strong>Keep code in English</strong> for maintainability</li>
              <li><strong>Comments can be bilingual</strong> if team prefers</li>
              <li><strong>CLAUDE.md</strong> in team's primary language</li>
              <li><strong>Specify output language</strong> if you want consistency</li>
            </ul>
            <p class="fragment punch-line">Your language, Claude's capabilities</p>
          </section>
        </section>

        <!-- ============================================ -->
        <!-- SECTION 35: HUMAN COLLABORATION -->
        <!-- ============================================ -->
        <section>
          <!-- WHY opener (Sinek) -->
          <section>
            <p class="big-idea">Pair programming is dead.<br/>Long live pair programming.</p>
          </section>

          <section>
            <h2>34. Human Collaboration</h2>
            <p>When AI joins the team</p>
          </section>

          <section>
            <h3>The Old Way: Human Pairs</h3>
            <div style="font-size: 0.8em;">
              <p><strong>Traditional pair programming:</strong></p>
              <ul>
                <li>One driver, one navigator</li>
                <li>Real-time code review</li>
                <li>Knowledge transfer by osmosis</li>
                <li>Expensive: 2 devs = 1 output</li>
                <li>Scheduling nightmare</li>
              </ul>
            </div>
            <p class="fragment stat-label">50% of companies abandoned it due to cost</p>
          </section>

          <section>
            <p class="big-idea">What if your pair<br/>was always available?</p>
            <p class="fragment why-statement">Never tired. Never judgmental. Infinitely patient.</p>
          </section>

          <section>
            <h3>The New Paradigm: Human + AI</h3>
            <pre><code class="language-text">Before (2 humans):
├── Developer A (driver)
├── Developer B (navigator)
└── Output: 1x with better quality

Now (human + Claude):
├── Developer (driver + decision maker)
├── Claude (navigator + implementer + reviewer)
└── Output: 3-5x with comparable quality

The math changed.</code></pre>
          </section>

          <section>
            <h3>Claude as Your Pair</h3>
            <pre><code class="language-bash"># The conversation IS the pair programming
"I'm thinking about using a factory pattern here,
but I'm worried about complexity. What do you think?"

# Claude responds with:
# - Analysis of your context
# - Trade-offs of factory vs alternatives
# - Recommendation with reasoning
# - Code if you want to proceed

# You stay in control. Claude amplifies.</code></pre>
            <p class="tip">Think out loud. Claude listens.</p>
          </section>

          <section>
            <h3>Team Patterns: Solo + AI</h3>
            <pre><code class="language-text">Pattern 1: Individual Amplification

Developer ←→ Claude (their session)
    ↓
Code Review (human)
    ↓
Merge

Benefits:
✓ Each dev moves at their own pace
✓ No scheduling coordination
✓ Async-friendly for remote teams
✓ Human review catches AI blindspots</code></pre>
          </section>

          <section>
            <h3>Team Patterns: Mob + AI</h3>
            <pre><code class="language-text">Pattern 2: AI-Augmented Mob Programming

┌─────────────────────────────────────┐
│  Screen Share (1 driver)            │
│  ┌─────────┐                        │
│  │ Claude  │ ← Team discusses       │
│  │ Session │   Claude implements    │
│  └─────────┘                        │
│  Observers: Learn patterns in       │
│  real-time from AI interactions     │
└─────────────────────────────────────┘

Best for: Onboarding, architecture decisions,
         complex refactoring</code></pre>
          </section>

          <section>
            <h3>Team Patterns: Review Chain</h3>
            <pre><code class="language-text">Pattern 3: AI-First Review

Developer writes code with Claude
         ↓
Claude reviews (immediate feedback)
         ↓
Human reviews (final approval)
         ↓
Merge

# Claude catches: Style, bugs, types, tests
# Human catches: Architecture, business logic, team norms</code></pre>
            <p class="fragment">AI handles the tedious. Humans handle the important.</p>
          </section>

          <section>
            <h3>Code Review: Before vs After</h3>
            <table style="font-size: 0.65em;">
              <tr><th>Before (Human Only)</th><th>After (AI + Human)</th></tr>
              <tr><td>Wait hours/days for review</td><td>Instant AI feedback</td></tr>
              <tr><td>Reviewer fatigue on style</td><td>AI handles style/lint</td></tr>
              <tr><td>Miss edge cases</td><td>AI suggests edge cases</td></tr>
              <tr><td>Knowledge silos</td><td>AI explains any code</td></tr>
              <tr><td>Awkward feedback</td><td>AI is never offended</td></tr>
            </table>
            <p class="fragment tip">Human reviewers focus on what matters</p>
          </section>

          <section>
            <h3>Onboarding Revolution</h3>
            <pre><code class="language-bash"># Day 1: New developer joins

# Old way:
# - Read outdated docs
# - Shadow senior for weeks
# - Ask "stupid questions" nervously
# - Productive after 2-3 months

# New way:
claude
"I'm new to this codebase. Walk me through the
architecture, key patterns, and where to start
for my first task: implementing user preferences"

# Claude reads CLAUDE.md, explores code, explains
# New dev productive in days, not months</code></pre>
          </section>

          <section>
            <h3>Knowledge Sharing: Democratized</h3>
            <pre><code class="language-markdown"># CLAUDE.md becomes your team's brain

## Tribal Knowledge (now documented)
- Why we use UUIDs instead of auto-increment
- The legacy billing system quirks
- How to debug the auth flow
- Which tests are flaky and why

## Team Conventions
- PR template expectations
- How we handle breaking changes
- Release process checklist

# Every team member + Claude knows this</code></pre>
          </section>

          <section>
            <h3>When Humans Still Win</h3>
            <div class="section-why">
              <p><strong>Keep human collaboration for:</strong></p>
              <ul style="font-size: 0.8em;">
                <li><strong>Career growth</strong>: Mentorship, feedback, sponsorship</li>
                <li><strong>Team bonding</strong>: Trust, culture, relationships</li>
                <li><strong>Political navigation</strong>: Stakeholders, priorities</li>
                <li><strong>Creative brainstorming</strong>: Wild ideas, inspiration</li>
                <li><strong>Conflict resolution</strong>: Disagreements, trade-offs</li>
                <li><strong>Celebrations</strong>: Ship it! 🎉</li>
              </ul>
            </div>
          </section>

          <section>
            <h3>The Hybrid Meeting</h3>
            <pre><code class="language-text"># Architecture Discussion (Hybrid)

1. Humans discuss requirements (15 min)
   - Business context
   - Constraints
   - Preferences

2. Claude explores options (5 min)
   "Given our discussion, show me 3 approaches
   with trade-offs for each"

3. Humans debate Claude's suggestions (20 min)
   - Add context Claude missed
   - Challenge assumptions

4. Claude implements chosen approach (async)
   - Humans review result</code></pre>
          </section>

          <section>
            <h3>Remote Teams: AI as Equalizer</h3>
            <pre><code class="language-text">The timezone problem:
├── SF: Senior architect (sleeping)
├── Paris: Mid-level dev (working)
├── Singapore: Junior dev (working)

Before: Junior waits 8h for senior's input
After:  Junior asks Claude, makes progress,
        senior reviews async

AI fills the gaps between humans.</code></pre>
            <p class="fragment punch-line">No one blocks. Everyone ships.</p>
          </section>

          <section>
            <h3>Collaboration Anti-Patterns</h3>
            <div style="font-size: 0.75em;">
              <p><strong>❌ Don't:</strong></p>
              <ul>
                <li>Replace ALL human interaction with AI</li>
                <li>Skip human code review entirely</li>
                <li>Assume Claude knows your team norms</li>
                <li>Isolate developers in AI bubbles</li>
                <li>Forget to update CLAUDE.md with decisions</li>
              </ul>
              <p style="margin-top: 1em;"><strong>✓ Do:</strong></p>
              <ul>
                <li>Use AI to amplify, not replace, humans</li>
                <li>Keep sync meetings for alignment</li>
                <li>Share interesting Claude conversations</li>
                <li>Document team decisions for Claude</li>
              </ul>
            </div>
          </section>

          <section>
            <h3>Team CLAUDE.md: Shared Context</h3>
            <pre><code class="language-markdown"># Team Conventions (shared CLAUDE.md)

## Code Review Expectations
- All PRs need 1 human approval
- Claude review is encouraged but not sufficient
- Security-sensitive changes need 2 approvals

## Communication
- Async-first, meetings for decisions only
- Share Claude conversations that taught you something
- Tag @team-lead for architecture changes

## AI Usage Policy
- Claude can commit to feature branches
- Human commits to main only
- Always verify AI-generated tests run</code></pre>
          </section>

          <section>
            <h3>Measuring Success</h3>
            <pre><code class="language-text">Old metrics (human pairs):
- Lines of code (gameable)
- Velocity points (inconsistent)
- Pair rotation frequency

New metrics (AI-augmented):
- Time to first commit (onboarding)
- Review cycle time (hours, not days)
- Knowledge sharing (CLAUDE.md contributions)
- Human review quality (focus on architecture)
- Team satisfaction (surveys)</code></pre>
          </section>

          <section>
            <p class="big-idea">AI doesn't replace teamwork.<br/>It transforms it.</p>
          </section>

          <section>
            <p class="single-stat">∞:1</p>
            <p style="color: #868e96;">Every developer gets a dedicated pair.<br/><em>Finally, pair programming that scales.</em></p>
          </section>
        </section>

        <!-- ============================================ -->
        <!-- SECTION 36: CLAUDE CODE VS COMPETITORS -->
        <!-- ============================================ -->
        <section>
          <!-- WHY opener (Sinek) -->
          <section>
            <p class="big-idea">Tools compete.<br/>You choose.</p>
          </section>

          <section>
            <h2>35. Claude Code vs Competitors</h2>
            <p>An honest comparison</p>
          </section>

          <section>
            <h3>The Landscape (2025)</h3>
            <table style="font-size: 0.55em;">
              <tr><th>Tool</th><th>Model</th><th>Approach</th><th>Price</th></tr>
              <tr><td>Claude Code</td><td>Claude Opus/Sonnet</td><td>CLI + IDE</td><td>Pay-per-token</td></tr>
              <tr><td>GitHub Copilot</td><td>GPT-4 / Claude</td><td>IDE plugin</td><td>$19/month</td></tr>
              <tr><td>Cursor</td><td>GPT-4 / Claude</td><td>Forked VS Code</td><td>$20/month</td></tr>
              <tr><td>Aider</td><td>Any (GPT/Claude/local)</td><td>CLI</td><td>Pay-per-token</td></tr>
              <tr><td>Continue.dev</td><td>Any (configurable)</td><td>IDE plugin</td><td>Free / Pay model</td></tr>
              <tr><td>Supermaven</td><td>Custom</td><td>IDE plugin</td><td>Free / $10/mo</td></tr>
              <tr><td>Codeium</td><td>Custom</td><td>IDE plugin</td><td>Free / $12/mo</td></tr>
              <tr><td>Amazon Q</td><td>Custom</td><td>IDE + CLI</td><td>$19/month</td></tr>
            </table>
          </section>

          <section>
            <h3>Aider: The CLI Pioneer</h3>
            <pre><code class="language-bash"># Aider - another CLI-first tool
pip install aider-chat

# Similar to Claude Code but:
# - Open source
# - Works with ANY model (OpenAI, Claude, Ollama)
# - Git-focused workflow
# - Pair programming style

aider --model claude-3-5-sonnet

# Strengths:
# - Model flexibility (use local LLMs!)
# - Strong git integration
# - Active open-source community

# Weaknesses:
# - Less polished UX than Claude Code
# - No extended thinking
# - Smaller context handling</code></pre>
          </section>

          <section>
            <h3>Continue.dev: IDE-Native Freedom</h3>
            <pre><code class="language-json">// VS Code / JetBrains extension
// config.json
{
  "models": [
    {"provider": "anthropic", "model": "claude-sonnet-4"},
    {"provider": "openai", "model": "gpt-4"},
    {"provider": "ollama", "model": "codellama"}
  ]
}

// Strengths:
// - Bring your own model
// - Open source
// - Deep IDE integration
// - Works offline with local models

// Weaknesses:
// - Setup complexity
// - No agentic workflows (yet)
// - Less specialized than Claude Code</code></pre>
          </section>

          <section>
            <h3>Supermaven: Speed Demon</h3>
            <pre><code class="language-text"># Supermaven - built for raw speed

Key differentiators:
- 1M token context window (largest!)
- Sub-millisecond latency for completions
- Trained on code specifically

Strengths:
✓ Incredibly fast autocomplete
✓ Massive context (1M tokens)
✓ Great for large files

Weaknesses:
✗ Limited reasoning capabilities
✗ Autocomplete focused (not agentic)
✗ No extended thinking mode
✗ Less versatile than Claude</code></pre>
            <p class="tip">Great for autocomplete, less for complex reasoning</p>
          </section>

          <section>
            <h3>Claude Code Strengths</h3>
            <ul>
              <li><strong>200K context window</strong>: Largest in the industry</li>
              <li><strong>Extended thinking</strong>: Deep reasoning for complex tasks</li>
              <li><strong>MCP ecosystem</strong>: Extensible tool integration</li>
              <li><strong>CLI-first</strong>: Script and automate everything</li>
              <li><strong>Agentic mode</strong>: Autonomous task completion</li>
              <li><strong>Privacy focus</strong>: Your code, your control</li>
            </ul>
          </section>

          <section>
            <h3>Where Competitors Excel</h3>
            <ul>
              <li><strong>Copilot</strong>: Deepest GitHub integration, team features</li>
              <li><strong>Cursor</strong>: Best visual UX, inline editing</li>
              <li><strong>Codeium</strong>: Free tier, fast completions</li>
              <li><strong>Amazon Q</strong>: AWS service integration</li>
              <li><strong>Tabnine</strong>: On-premise deployment, compliance</li>
            </ul>
            <p class="fragment tip">Different tools for different needs</p>
          </section>

          <section>
            <h3>Feature Comparison</h3>
            <table style="font-size: 0.55em;">
              <tr><th>Feature</th><th>Claude Code</th><th>Copilot</th><th>Cursor</th></tr>
              <tr><td>Context window</td><td style="color: #51cf66;">200K</td><td>32K</td><td>128K</td></tr>
              <tr><td>Extended thinking</td><td style="color: #51cf66;">Yes</td><td>No</td><td>No</td></tr>
              <tr><td>CLI automation</td><td style="color: #51cf66;">Native</td><td>Limited</td><td>No</td></tr>
              <tr><td>MCP plugins</td><td style="color: #51cf66;">Yes</td><td>No</td><td>No</td></tr>
              <tr><td>IDE integration</td><td>Extension</td><td style="color: #51cf66;">Native</td><td style="color: #51cf66;">Native</td></tr>
              <tr><td>Visual diff</td><td>Basic</td><td>Good</td><td style="color: #51cf66;">Excellent</td></tr>
              <tr><td>Team features</td><td>Enterprise</td><td style="color: #51cf66;">Business</td><td>Pro</td></tr>
              <tr><td>Free tier</td><td>No</td><td>No</td><td>Limited</td></tr>
            </table>
          </section>

          <section>
            <h3>Use Case Recommendations</h3>
            <div style="font-size: 0.75em;">
              <p><strong>Choose Claude Code if:</strong></p>
              <ul>
                <li>Working with large codebases</li>
                <li>Need deep reasoning for complex problems</li>
                <li>Want CLI automation and scripting</li>
                <li>Building custom MCP integrations</li>
              </ul>
              <p style="margin-top: 1em;"><strong>Consider alternatives if:</strong></p>
              <ul>
                <li>Pure autocomplete is enough (Copilot)</li>
                <li>Visual inline editing is priority (Cursor)</li>
                <li>Budget constrained (Codeium free tier)</li>
              </ul>
            </div>
          </section>

          <section>
            <h3>They're Not Mutually Exclusive</h3>
            <pre><code class="language-bash"># Many developers use multiple tools
# VS Code with Copilot for quick completions
# Claude Code for complex tasks and reasoning

# Example workflow:
# 1. Use Copilot for boilerplate autocomplete
# 2. Switch to Claude Code for architecture decisions
# 3. Use Claude Code CLI for automation
# 4. Use Copilot for PR suggestions</code></pre>
            <p class="fragment">The best tool is the one that solves your problem</p>
          </section>

          <section>
            <h3>Cost Comparison</h3>
            <table style="font-size: 0.65em;">
              <tr><th>Usage</th><th>Claude Code</th><th>Copilot</th><th>Cursor</th></tr>
              <tr><td>Light (10K tokens/day)</td><td>~$3/mo</td><td>$19/mo</td><td>$20/mo</td></tr>
              <tr><td>Medium (100K tokens/day)</td><td>~$30/mo</td><td>$19/mo</td><td>$20/mo</td></tr>
              <tr><td>Heavy (500K tokens/day)</td><td>~$150/mo</td><td>$19/mo</td><td>$20/mo</td></tr>
            </table>
            <p class="fragment warning">Pay-per-use vs flat rate: depends on your usage patterns</p>
          </section>

          <section>
            <p class="big-idea">The winner?<br/>The developer who ships.</p>
            <p class="fragment stat-label">Tools are means, not ends</p>
          </section>
        </section>

        <!-- ============================================ -->
        <!-- PART 7: ADVANCED PATTERNS -->
        <!-- ============================================ -->
        <section data-background-gradient="linear-gradient(135deg, #f093fb 0%, #f5576c 100%)">
          <div class="part-header">
            <h2>Part 7</h2>
            <h1>Advanced Patterns</h1>
            <p class="why-statement">Patterns that actually move the needle</p>
          </div>
        </section>

        <!-- SECTION 37: ADVANCED PATTERNS -->
        <section>
          <!-- HOOK -->
          <section>
            <p class="big-idea">Any issue in AI code<br/>is YOUR issue.</p>
            <p class="fragment why-statement">The model is the constant.<br/>Your input is the variable.</p>
          </section>

          <section>
            <h2>36. Advanced Claude Code Patterns</h2>
            <p>7 patterns from 2000+ hours of building with LLMs</p>
            <p class="fragment stat-label">Based on Andrej Karpathy's insight: "I've never felt this much behind as a programmer"</p>
          </section>

          <!-- PATTERN 1: ERROR LOGGING -->
          <section>
            <p style="font-size: 1.2em; color: #868e96;">Pattern 1</p>
            <p class="big-idea">Log Your Errors</p>
            <p class="fragment why-statement">Tighten the learning loop.</p>
          </section>

          <section>
            <h3>The Problem</h3>
            <div style="font-size: 0.85em; margin-top: 1em;">
              <p class="fragment">Agentic coding has the most convoluted input-output loop</p>
              <p class="fragment" style="margin-top: 0.5em;">1. <strong>Output is qualitative</strong> - "Is this good?" not "Did it pass?"</p>
              <p class="fragment">2. <strong>Middle is a black box</strong> - Can't trace causality</p>
              <p class="fragment">3. <strong>Non-deterministic</strong> - Same input ≠ same output</p>
            </div>
          </section>

          <section>
            <h3>The /log_error Workflow</h3>
            <div style="font-size: 0.8em;">
              <ol>
                <li class="fragment">Something goes wrong (hallucination, wrong build, ignored instruction)</li>
                <li class="fragment">Invoke <code>/log_error</code> - forks the conversation</li>
                <li class="fragment">Claude interviews you with <strong>specific</strong> questions</li>
                <li class="fragment">Captures: verbatim prompt, failure category, root cause</li>
                <li class="fragment">Logs to queryable database</li>
                <li class="fragment">Double-escape to rewind and continue</li>
              </ol>
            </div>
          </section>

          <section>
            <h3>What Gets Logged</h3>
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px; font-size: 0.75em; margin-top: 1em;">
              <div class="section-why">
                <p style="color: #ff6b6b;">Prompt Errors</p>
                <p>Ambiguous, missing constraints, too verbose</p>
              </div>
              <div class="section-why">
                <p style="color: #ffd43b;">Context Errors</p>
                <p>Context rot, stale info, overflow</p>
              </div>
              <div class="section-why">
                <p style="color: #748ffc;">Harness Errors</p>
                <p>Wrong agent, no guardrails, bad sequencing</p>
              </div>
              <div class="section-why">
                <p style="color: #51cf66;">Meta Errors</p>
                <p>Didn't ask questions, rushed, assumed too much</p>
              </div>
            </div>
          </section>

          <section>
            <p class="punch-line">Log successes too!</p>
            <p class="fragment" style="margin-top: 1em; font-size: 0.9em;">Understanding WHY things work is just as valuable</p>
          </section>

          <!-- PATTERN 2: SLASH COMMANDS -->
          <section>
            <p style="font-size: 1.2em; color: #868e96;">Pattern 2</p>
            <p class="big-idea">/Commands as<br/>Lightweight Apps</p>
          </section>

          <section>
            <h3>Why /Commands Over Skills?</h3>
            <div style="display: flex; justify-content: space-around; margin-top: 1em;">
              <div style="text-align: center;">
                <p class="contrast-old" style="font-size: 1.2em;">Skills</p>
                <p style="font-size: 0.85em;">Non-deterministic launch<br/>May be ignored</p>
              </div>
              <div style="text-align: center;">
                <p class="contrast-new" style="font-size: 1.2em;">/Commands</p>
                <p style="font-size: 0.85em;">Deterministic trigger<br/>Always executes</p>
              </div>
            </div>
            <p class="fragment tip" style="margin-top: 1em;">Combine: /command triggers skill for knowledge</p>
          </section>

          <section>
            <h3>/Commands Are...</h3>
            <div style="font-size: 0.9em;">
              <p class="fragment">✓ Easier to build than localhost apps</p>
              <p class="fragment">✓ More dynamic (take arguments, alter mid-workflow)</p>
              <p class="fragment">✓ Can launch parallel sub-agents</p>
              <p class="fragment">✓ Access files, repos, browsers, GitHub</p>
              <p class="fragment">✓ Your deterministic workflow launcher</p>
            </div>
          </section>

          <section>
            <h3>Real Example: /presentation-to-shorts</h3>
            <pre style="font-size: 0.55em;"><code>Phase 1: Opus refactors + WhisperX transcribes (PARALLEL)
Phase 2: Opus picks best 20-60s moments
Phase 3: Four Opus agents build compositions (PARALLEL)
Error Gate: Playwright validates all clips load
Phase 4: Four Sonnet agents sync animations (PARALLEL)
Phase 5: Sequential GPU rendering + captions</code></pre>
            <p class="fragment" style="font-size: 0.8em; color: #868e96;">15+ LLM calls, model routing, runtime adaptation</p>
          </section>

          <!-- PATTERN 3: HOOKS -->
          <section>
            <p style="font-size: 1.2em; color: #868e96;">Pattern 3</p>
            <p class="big-idea">Hooks for<br/>Deterministic Safety</p>
          </section>

          <section>
            <h3>The Flow State Setup</h3>
            <pre><code class="language-bash"># The dangerous but powerful combo:
dangerously-skip-permissions
+
Hooks that prevent actual danger</code></pre>
            <p class="fragment warning" style="margin-top: 1em;">Use at your own risk!</p>
          </section>

          <section>
            <div class="quote-block">
              "Knowing when to force guardrails and determinism<br/>is one of the top skills in building agentic harnesses."
            </div>
            <p class="fragment stat-label">Stop sitting in the loop pressing 'continue'</p>
          </section>

          <!-- PATTERN 4: CONTEXT HYGIENE -->
          <section>
            <p style="font-size: 1.2em; color: #868e96;">Pattern 4</p>
            <p class="big-idea">Context Hygiene</p>
            <p class="fragment why-statement">Every irrelevant token degrades performance.</p>
          </section>

          <section>
            <h3>The Silent Killer</h3>
            <p style="font-size: 0.9em;">Thousands of tokens injected BEFORE your prompt:</p>
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; font-size: 0.8em; margin-top: 1em;">
              <p class="fragment">• CLAUDE.md bloat</p>
              <p class="fragment">• Unruly MCP usage</p>
              <p class="fragment">• Unused skills</p>
              <p class="fragment">• Excessive repo reading</p>
            </div>
            <p class="fragment warning" style="margin-top: 1em;">50%+ performance degradation at 50k tokens!</p>
          </section>

          <section>
            <h3>CLAUDE.md Discipline</h3>
            <div style="font-size: 0.85em;">
              <p class="fragment">✗ Content about multiple unrelated projects</p>
              <p class="fragment">✗ Instructions you don't remember adding</p>
              <p class="fragment">✗ Haven't reviewed in over a week</p>
              <p class="fragment">✗ Longer than ~50 lines</p>
            </div>
            <p class="fragment punch-line" style="margin-top: 1em;">Every token must earn its place</p>
          </section>

          <section>
            <h3>Compaction Strategy</h3>
            <div style="font-size: 0.85em;">
              <ol>
                <li class="fragment">Disable autocompact</li>
                <li class="fragment">Add status line: <code>[Opus 4.5] 55%</code></li>
                <li class="fragment">Compaction when and how YOU choose</li>
              </ol>
            </div>
          </section>

          <section>
            <h3>Context Management Rapid Fire</h3>
            <div style="font-size: 0.75em;">
              <p class="fragment">• <code>/clear</code> + repo-specific CLAUDE.md for breakpoints</p>
              <p class="fragment">• Use Opus subagents for isolated tasks</p>
              <p class="fragment">• Sonnet [1m] as "break glass in emergency"</p>
              <p class="fragment">• <code>/compact</code> manually at right times</p>
              <p class="fragment">• <code>/handoff {NOTES}</code> for best handoffs</p>
            </div>
          </section>

          <section>
            <h3>Double-Escape Time Travel</h3>
            <p style="font-size: 0.9em; color: #ffd43b;">The most underutilized feature</p>
            <div style="font-size: 0.8em; margin-top: 1em;">
              <p class="fragment"><strong>Bug Fix Pattern:</strong></p>
              <p class="fragment">1. Claude builds → bug appears → 5-10 turns debugging</p>
              <p class="fragment">2. Bug fixed → Double-escape → restore ONLY conversation</p>
              <p class="fragment">3. Keep working code, remove debugging context</p>
            </div>
            <p class="fragment tip" style="margin-top: 1em;">Stale context is harmful context</p>
          </section>

          <!-- PATTERN 5: SUBAGENTS -->
          <section>
            <p style="font-size: 1.2em; color: #868e96;">Pattern 5</p>
            <p class="big-idea">Subagent Control</p>
          </section>

          <section>
            <h3>Hidden Truth</h3>
            <p class="warning" style="font-size: 1.1em;">Claude Code spawns Sonnet and Haiku subagents<br/>even for knowledge tasks!</p>
            <p class="fragment" style="margin-top: 1em; font-size: 0.9em;">Add to global CLAUDE.md:</p>
            <pre class="fragment"><code>"Always launch opus subagents unless specified otherwise"</code></pre>
          </section>

          <section>
            <h3>Subagent Philosophy</h3>
            <div style="font-size: 0.85em;">
              <p class="fragment punch-line">Keep subagents simple</p>
              <p class="fragment" style="margin-left: 20px;">Specific patterns + skills, not abstract roles</p>
              <p class="fragment punch-line" style="margin-top: 1em;">Parallelize aggressively</p>
              <p class="fragment" style="margin-left: 20px;">Isolated context = parallel execution</p>
              <p class="fragment punch-line" style="margin-top: 1em;">More subagents > more tasks per agent</p>
              <p class="fragment warning" style="margin-top: 1em;">⚠️ One hallucination poisons the chain</p>
            </div>
          </section>

          <!-- PATTERN 6: LEAN TOOL STACK -->
          <section>
            <p style="font-size: 1.2em; color: #868e96;">Pattern 6</p>
            <p class="big-idea">Lean Tool Stack</p>
            <p class="fragment why-statement">Context is sacred.</p>
          </section>

          <section>
            <h3>Essential MCPs Only</h3>
            <div style="display: flex; justify-content: space-around; margin-top: 1em;">
              <div class="section-why" style="width: 45%;">
                <p style="color: #ffd43b; font-size: 1.2em;">Context7 MCP</p>
                <p style="font-size: 0.85em;">Up-to-date documentation<br/>for any framework</p>
              </div>
              <div class="section-why" style="width: 45%;">
                <p style="color: #748ffc; font-size: 1.2em;">Dev Browser / Playwright</p>
                <p style="font-size: 0.85em;">Browser control, screenshots,<br/>console errors</p>
              </div>
            </div>
            <p class="fragment stat-label" style="margin-top: 1em;">Every MCP eats context. Choose wisely.</p>
          </section>

          <!-- PATTERN 7: REPROMPTER -->
          <section>
            <p style="font-size: 1.2em; color: #868e96;">Pattern 7</p>
            <p class="big-idea">Prompt Engineering<br/>on Steroids</p>
          </section>

          <section>
            <h3>The Bottleneck</h3>
            <div style="display: flex; justify-content: space-around; margin-top: 1em;">
              <div>
                <p class="single-stat" style="font-size: 2.5em;">1</p>
                <p>Typing speed limits you</p>
              </div>
              <div>
                <p class="single-stat" style="font-size: 2.5em;">2</p>
                <p>Prompt patterns are automatable</p>
              </div>
            </div>
          </section>

          <section>
            <h3>The Reprompter System</h3>
            <div style="font-size: 0.85em;">
              <ol>
                <li class="fragment">Press keybind</li>
                <li class="fragment">Dictate what you want (voice)</li>
                <li class="fragment">System asks clarifying questions</li>
                <li class="fragment">Answer (still voice)</li>
                <li class="fragment">Generates structured prompt with XML, role assignment</li>
              </ol>
            </div>
            <p class="fragment tip" style="margin-top: 1em;">High quality + fast + no friction</p>
          </section>

          <section>
            <p class="big-idea">At minimum:</p>
            <p class="fragment why-statement">Have models interview you<br/>WAY more than you do now.</p>
          </section>

          <!-- QUICK REFERENCE -->
          <section>
            <h3>Quick Reference</h3>
            <table style="font-size: 0.55em;">
              <tr><th>Situation</th><th>Action</th></tr>
              <tr><td>Something wrong</td><td><code>/log_error</code> → interview → capture → rewind</td></tr>
              <tr><td>Need reliable workflow</td><td><code>/command</code> wrapping skill</td></tr>
              <tr><td>Too many permissions</td><td>Hooks + dangerously-skip-permissions</td></tr>
              <tr><td>Context filling up</td><td>Disable autocompact + status line</td></tr>
              <tr><td>Bug fixed, context polluted</td><td>Double-escape → restore conversation only</td></tr>
              <tr><td>Claude is looping</td><td>Double-escape → restore both</td></tr>
              <tr><td>Subagents using wrong model</td><td>Add "Always opus subagents" to CLAUDE.md</td></tr>
            </table>
          </section>

          <section>
            <p class="big-idea">Master the harness.<br/>Not just the model.</p>
          </section>

          <!-- SOURCE -->
          <section>
            <h3>Source</h3>
            <p style="font-size: 0.85em;"><a href="https://docs.google.com/document/d/1I9r21TyQuAO1y2ecztBU0PSCpjHSL_vZJiA5v276Wro">Advanced Claude Code Patterns That Move the Needle</a></p>
            <p style="font-size: 0.75em; color: #868e96; margin-top: 0.5em;">By Romi J. • 2000+ hours building with LLMs</p>
          </section>
        </section>


        <!-- ============================================ -->
        <!-- CONCLUSION -->
        <!-- ============================================ -->
        <section>
          <section>
            <h2>Key Takeaways</h2>
            <ul>
              <li><strong>Structure matters</strong>: XML tags, clear boundaries</li>
              <li><strong>Tools are powerful</strong>: Good schemas = good behavior</li>
              <li><strong>Context is expensive</strong>: Manage it actively</li>
              <li><strong>Right model, right task</strong>: Don't use Opus for simple work</li>
              <li><strong>Extended thinking</strong>: Use for complex reasoning only</li>
              <li><strong>Safety first</strong>: Sanitize inputs, validate outputs</li>
            </ul>
          </section>

          <section>
            <h2>Official Resources</h2>
            <ul style="font-size: 0.8em;">
              <li><a href="https://docs.anthropic.com">docs.anthropic.com</a> - Official documentation</li>
              <li><a href="https://github.com/anthropics/anthropic-cookbook">anthropic-cookbook</a> - Code examples</li>
              <li><a href="https://github.com/anthropics/courses">anthropic/courses</a> - Deep dive tutorials</li>
              <li><a href="https://github.com/anthropics/claude-code">anthropics/claude-code</a> - Claude Code repo</li>
              <li><a href="https://modelcontextprotocol.io">modelcontextprotocol.io</a> - MCP specification</li>
              <li><a href="https://github.com/modelcontextprotocol/servers">MCP servers</a> - Ready-to-use servers</li>
            </ul>
          </section>

          <section>
            <h2>Community & Support</h2>
            <div style="font-size: 0.75em;">
              <p><strong>Get Help:</strong></p>
              <ul>
                <li><a href="https://github.com/anthropics/claude-code/issues">GitHub Issues</a> - Bug reports & feature requests</li>
                <li><a href="https://github.com/anthropics/claude-code/discussions">GitHub Discussions</a> - Q&A, tips, showcases</li>
                <li><a href="https://discord.gg/anthropic">Anthropic Discord</a> - Real-time community chat</li>
                <li><code>/bug</code> - Report issues directly from Claude Code</li>
              </ul>
              <p style="margin-top: 1em;"><strong>Learn from others:</strong></p>
              <ul>
                <li>Reddit: r/ClaudeAI, r/LocalLLaMA</li>
                <li>Twitter/X: #ClaudeCode, @AnthropicAI</li>
                <li>YouTube: Search "Claude Code tutorial"</li>
              </ul>
            </div>
          </section>

          <section>
            <h2>Stay Updated</h2>
            <pre><code class="language-bash"># Follow Claude Code releases
gh release list -R anthropics/claude-code
gh release view -R anthropics/claude-code --web

# Subscribe to release notifications
# github.com/anthropics/claude-code → Watch → Releases only

# Anthropic blog for major announcements
# anthropic.com/news

# Check your current version
claude --version

# See what's new
/help changelog  # If available</code></pre>
            <p class="tip">New features ship frequently. Stay current!</p>
          </section>

          <!-- CLOSING SEQUENCE -->
          <section>
            <p class="big-idea">Remember:</p>
          </section>

          <section>
            <p class="big-idea">Claude is a tool.<br/>You are the craftsman.</p>
          </section>

          <section>
            <div style="font-size: 0.9em; text-align: left; max-width: 700px; margin: 0 auto;">
              <p class="punch-line fragment">Start with WHY (tests, specs, goals)</p>
              <p class="punch-line fragment">Verify everything (build, types, tests)</p>
              <p class="punch-line fragment">Orchestrate, don't just prompt</p>
              <p class="punch-line fragment">Context is your superpower</p>
              <p class="punch-line fragment">Automate the boring parts</p>
            </div>
          </section>

          <section>
            <p class="single-stat">10x</p>
            <p style="color: #868e96;">output is possible<br/><em>when you work with AI, not against it</em></p>
          </section>

          <section data-background-gradient="linear-gradient(135deg, #667eea 0%, #764ba2 100%)">
            <h1 style="color: white;">Questions?</h1>
            <p style="color: rgba(255,255,255,0.8);">Claude Best Practices</p>
            <p style="margin-top: 2em; font-size: 0.6em; color: rgba(255,255,255,0.6);">
              Content suggested by Seb Quenet &lt;seb.quenet@gmail.com&gt;
            </p>
            <p style="margin-top: 1em; font-size: 0.6em; color: rgba(255,255,255,0.6);">
              Tirelessly shaped by Claude
            </p>
          </section>
        </section>

      </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/reveal.js@5/dist/reveal.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/reveal.js@5/plugin/highlight/highlight.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/reveal.js@5/plugin/notes/notes.js"></script>
    <!-- Mermaid for diagram rendering -->
    <script src="https://unpkg.com/mermaid@10/dist/mermaid.min.js"></script>
    <script>
      // Initialize Mermaid with dark theme to match presentation
      mermaid.initialize({
        startOnLoad: false,
        theme: 'dark',
        themeVariables: {
          primaryColor: '#667eea',
          primaryTextColor: '#fff',
          primaryBorderColor: '#764ba2',
          lineColor: '#868e96',
          secondaryColor: '#3d3d3d',
          tertiaryColor: '#2d2d2d',
          background: '#1e1e1e',
          mainBkg: '#2d2d2d',
          nodeBorder: '#667eea',
          clusterBkg: '#3d3d3d',
          titleColor: '#fff',
          edgeLabelBackground: '#2d2d2d'
        },
        flowchart: { curve: 'basis' },
        sequence: { actorMargin: 50 }
      });

      Reveal.initialize({
        hash: true,
        slideNumber: true,
        transition: 'slide',
        plugins: [ RevealHighlight, RevealNotes ]
      }).then(() => {
        // Render Mermaid diagrams after Reveal initializes
        mermaid.run({
          querySelector: '.mermaid'
        });

        // Re-render on slide change (for fragments)
        Reveal.on('slidechanged', event => {
          const diagrams = event.currentSlide.querySelectorAll('.mermaid:not([data-processed])');
          if (diagrams.length) {
            mermaid.run({ nodes: diagrams });
          }
        });
      });

      // Live timestamp with ticking seconds and obsolescence warning
      const startTime = new Date();
      const OBSOLETE_AFTER_SECONDS = 15;

      function updateTimestamp() {
        const now = new Date();
        const options = {
          year: 'numeric',
          month: 'long',
          day: 'numeric',
          hour: '2-digit',
          minute: '2-digit',
          second: '2-digit',
          hour12: false
        };
        const formatted = now.toLocaleDateString('en-US', options);
        const el = document.getElementById('live-timestamp');
        if (el) el.textContent = formatted;

        // Check for obsolescence
        const elapsedSeconds = Math.floor((now - startTime) / 1000);
        const warningEl = document.getElementById('obsolete-warning');
        if (warningEl && elapsedSeconds >= OBSOLETE_AFTER_SECONDS) {
          const obsoleteFor = elapsedSeconds - OBSOLETE_AFTER_SECONDS;
          warningEl.style.display = 'block';
          warningEl.textContent = `⚠️ This presentation is obsolete since ${obsoleteFor} second${obsoleteFor !== 1 ? 's' : ''}`;
        }
      }
      updateTimestamp();
      setInterval(updateTimestamp, 1000);
    </script>
  </body>
</html>
